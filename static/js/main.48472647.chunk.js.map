{"version":3,"sources":["utils/txNotifier.ts","constants/contracts.js","constants/tokens.js","utils/web3.js","utils/storage.ts","utils/infura.js","constants/values.js","utils/number.ts","utils/pool.ts","components/NavBar/TotalBalance.tsx","components/NavBar/ConnectModal.tsx","components/NavBar/ConnectButton.tsx","components/NavBar/index.tsx","components/common/EpochBlock.tsx","components/HomePage/index.tsx","components/common/AddressBlock.tsx","components/common/BalanceBlock.tsx","components/common/MaxButton.tsx","components/common/PriceSection.tsx","components/common/Comment.tsx","components/common/Wrapper.tsx","components/common/CheckBox.tsx","components/Trade/Header.tsx","components/common/IconHeader.tsx","components/Trade/index.tsx","components/Footer/SwitchTheme.tsx","components/Footer/index.tsx","components/common/TextBlock.tsx","components/Wallet/Header.tsx","components/common/BigNumberInput.tsx","components/Wallet/WithdrawDeposit.tsx","components/Wallet/BondUnbond.tsx","components/Wallet/index.tsx","components/common/NumberBlock.tsx","components/EpochDetail/AdvanceEpoch.tsx","components/EpochDetail/Header.tsx","components/EpochDetail/index.tsx","components/CouponMarket/Header.tsx","components/CouponMarket/PurchaseCoupons.tsx","components/CouponMarket/PurchaseHistory.tsx","components/CouponMarket/ModalWarning.tsx","components/CouponMarket/index.tsx","components/Governance/Header.tsx","utils/gov.ts","components/Governance/ProposeCandidate.tsx","components/Governance/CandidateHistory.tsx","components/Governance/index.tsx","components/Candidate/Vote.tsx","components/Candidate/VoteHeader.tsx","components/Candidate/CommitHeader.tsx","components/Candidate/Commit.tsx","components/Candidate/index.tsx","components/Regulation/Header.tsx","components/Regulation/RegulationHistory.tsx","components/Regulation/index.tsx","components/Pool/WithdrawDeposit.tsx","components/Pool/BondUnbond.tsx","components/Pool/Header.tsx","components/Pool/Claim.tsx","components/Pool/Provide.tsx","components/Pool/Migrate.tsx","components/Pool/index.tsx","components/HomePageNoWeb3/index.tsx","App.tsx","serviceWorker.js","index.tsx"],"names":["notify","v","console","log","DollarPool2","DollarPool3","DollarPool4","UNI","USDC","addr","decimals","symbol","ESD","ESDS","testnetUSDCAbi","require","daoAbi","poolAbi","UINT256_MAX","updateModalMode","theme","a","window","darkMode","connect","ethereum","web3","Web3","eth","getAccounts","addresses","length","enable","toLowerCase","checkConnectedAndGetAddress","approve","tokenAddr","spender","amt","account","oToken","Contract","methods","send","from","on","hash","advance","dao","daoContract","deposit","amount","BigNumber","toFixed","withdraw","bond","unbondUnderlying","purchaseCoupons","redeemCoupons","epoch","recordVote","candidate","voteType","vote","commit","depositPool","pool","callback","poolContract","withdrawPool","bondPool","unbondPool","unbond","claimPool","claim","providePool","provide","getPreference","key","defaultValue","localStorage","getItem","storePreference","value","setItem","MAX_UINT256","pow","minus","GOVERNANCE_QUORUM","GOVERNANCE_PROPOSAL_THRESHOLD","dollarAbi","undefined","getTokenBalance","token","tokenContract","balanceOf","call","getTokenTotalSupply","totalSupply","getTokenAllowance","allowance","getBalanceBonded","balanceOfBonded","getBalanceOfStaged","balanceOfStaged","getStatusOf","statusOf","getFluidUntil","fluidUntil","getLockedUntil","lockedUntil","getEpoch","getEpochTime","epochTime","getTotalDebt","totalDebt","getTotalRedeemable","totalRedeemable","getTotalCoupons","totalCoupons","getTotalBonded","totalBonded","getTotalStaged","totalStaged","getTotalBondedAt","totalBondedAt","getApproveFor","approveFor","getRejectFor","rejectFor","getStartFor","startFor","getPeriodFor","periodFor","getIsInitialized","isInitialized","getRecordedVote","recordedVote","getBalanceOfCoupons","balanceOfCoupons","getBatchBalanceOfCoupons","epochs","calls","map","Promise","all","getCouponsExpiration","couponsExpiration","getBatchCouponsExpiration","getCouponPremium","couponPremium","getImplementation","implementation","getPool","getCouponEpochs","purchaseP","getPastEvents","filter","fromBlock","transferP","to","bought","given","events","e","returnValues","couponAmount","concat","couponEpochs","reduce","event","prev","get","set","coupons","plus","Map","values","sort","b","getAllProposals","payload","prop","blockNumber","getAllRegulations","increaseP","decreaseP","neutralP","increase","decrease","neutral","type","data","getPoolStatusOf","getPoolBalanceOfBonded","getPoolBalanceOfStaged","getPoolBalanceOfRewarded","balanceOfRewarded","getPoolBalanceOfClaimable","balanceOfClaimable","getPoolTotalBonded","getPoolTotalRewarded","totalRewarded","getPoolTotalClaimable","totalClaimable","getPoolFluidUntil","getBlockNumber","bondP","unbondP","startEpoch","start","parseInt","toString","toBaseUnitBN","rawAmt","raw","base","decimalsBN","times","integerValue","toTokenUnitsBN","tokenAmount","tokenDecimals","digits","div","isPos","isZero","isPositive","ownership","balance","multipliedBy","dividedBy","formatBN","position","isLessThan","bnStr","includes","parts","split","i","pad","precision","ROUND_FLOOR","replace","delineate","formatMoney","n","toPrecision","Math","abs","Number","getPoolAddress","Error","getLegacyPoolAddress","poolAddress","TotalBalance","user","useState","totalBalance","setTotalBalance","useEffect","isCancelled","updateUserInfo","id","setInterval","clearInterval","esdBalance","stagedBalance","bondedBalance","pairBalanceESDStr","pairTotalSupplyUNIStr","userUNIBalanceStr","userPoolBondedBalanceStr","userPoolStagedBalanceStr","userPoolRewardedBalanceStr","userPoolClaimableBalanceStr","userBalance","userStagedBalance","userBondedBalance","userUNIBalance","userPoolBondedBalance","userPoolStagedBalance","userPoolRewardedBalance","userPoolClaimableBalance","UNItoESD","daoTotalBalance","poolTotalBalance","circulationBalance","style","fontSize","padding","fontWeight","lineHeight","fontFamily","ConnectModal","visible","onClose","onConnect","wallet","useWallet","primary","width","margin","wide","label","icon","src","height","alt","onClick","ConnectButton","hasWeb3","setUser","status","reset","isModalOpen","setModalOpen","connectWeb3","disconnectWeb3","toggleModal","display","flex","marginRight","textAlign","entity","disabled","LinkButton","title","isSelected","marginLeft","opacity","NavBar","history","useHistory","currentTheme","useTheme","page","setPage","listen","location","pathname","logoUrl","_name","borderTop","border","backgroundColor","maxWidth","paddingTop","push","EpochBlock","epochformatted","epochRemainder","floor","Date","now","epochHour","epochMinute","MainButton","description","tag","HomePage","setEpochTime","flexWrap","alignItems","flexBasis","flexGrow","className","AddressBlock","address","shorten","BalanceBlock","asset","suffix","integer","balanceBN","gte","tokens","MaxButton","PriceSection","forceDisplay","amtBN","gt","toNumber","Comment","styled","MyCheckBox","text","checked","onCheck","CheckBoxWrapper","onChange","props","surfaceContentSecondary","TradePageHeader","pairBalanceESD","pairBalanceUSDC","uniswapPair","price","IconHeader","href","UniswapPool","setPairBalanceESD","setPairBalanceUSDC","pairBalanceUSDCStr","SwitchMode","updateTheme","FooterLink","Footer","surface","left","bottom","marginTop","marginBottom","role","aria-labelledby","TextBlock","STATUS_MAP","accountStatus","unlocked","AccountPageHeader","accountESDBalance","accountESDSBalance","totalESDSSupply","accountStagedBalance","accountBondedBalance","BigNumberInput","setter","adornment","adornmentPosition","isNegative","target","onBlur","WithdrawDeposit","depositAmount","setDepositAmount","withdrawAmount","setWithdrawAmount","heading","comparedTo","minWidth","isGreaterThan","BondUnbond","staged","bonded","lockup","bondAmount","setBondAmount","unbondAmount","setUnbondAmount","Wallet","override","useParams","userESDBalance","setUserESDBalance","userESDAllowance","setUserESDAllowance","userESDSBalance","setUserESDSBalance","setTotalESDSSupply","setUserStagedBalance","setUserBondedBalance","userStatus","setUserStatus","userStatusUnlocked","setUserStatusUnlocked","setLockup","esdAllowance","esdsBalance","esdsSupply","fluidUntilStr","lockedUntilStr","max","NumberBlock","num","numNum","AdvanceEpoch","EpochPageHeader","EpochDetail","setEpoch","epochStr","epochTimeStr","CouponMarketHeader","debt","supply","premium","redeemable","PurchaseCoupons","purchaseAmount","setPurchaseAmount","setPremium","updatePremium","lte","purchaseAmountBase","premiumFormatted","maxPurchaseAmount","PurchaseHistory","hideRedeemed","setEpochs","initialized","setInitialized","epochsFromEvents","epochNumbers","couponsExpirations","expiration","fields","entries","entriesPerPage","onPageChange","renderEntry","ModalWarning","storedShowWarning","showWarning","setShowWarning","closeButton","color","warning","warningSurfaceContent","ONE_COUPON","CouponMarket","storedHideRedeemed","setBalance","setAllowance","setSupply","setCoupons","setRedeemable","setCouponPremium","setDebt","setHideRedeemed","balanceStr","allowanceStr","supplyStr","debtStr","couponsStr","redeemableStr","couponPremiumStr","alignSelf","CheckBox","GovernanceHeader","stake","totalStake","proposalStatus","period","reject","total","canPropose","plausibleCandidate","test","ProposeCandidate","setCandidate","formatProposals","proposals","currentTotalStake","p","initializeds","approves","rejecteds","at","supplyAts","index","CandidateHistory","setProposals","allProposals","formattedProposals","proposal","Governance","setStake","setTotalStake","setImplementation","statusStr","stakeStr","totalStakeStr","implementationStr","VOTE_TYPE_MAP","Vote","participation","dividedToIntegerBy","VoteHeader","showParticipation","CommitHeader","periodEpoch","Commit","s","approved","Candidate","setApproveFor","setRejectFor","setVote","setStatus","userStake","setUserStake","setStartEpoch","setPeriodEpoch","voteStr","userStakeStr","approveForStr","rejectForStr","startForStr","periodForStr","epochN","startN","periodN","endsAfter","RegulationHeader","poolLiquidity","poolRewarded","poolClaimable","legacyPoolRewarded","legacyPoolClaimable","daoTotalSupply","poolTotalSupply","legacyPoolTotalSupply","circulatingSupply","items","item","percentage","formatPrice","formatDeltaRedeemable","newRedeemable","formatDeltaDebt","lessDebt","newDebt","formatDeltaBonded","newBonded","RegulationHistory","regulations","setRegulations","allRegulations","Regulation","setTotalSupply","setTotalBonded","setTotalStaged","setTotalRedeemable","setPoolLiquidity","poolTotalRewarded","setPoolTotalRewarded","poolTotalClaimable","setPoolTotalClaimable","legacyPoolTotalRewarded","setLegacyPoolTotalRewarded","legacyPoolTotalClaimable","setLegacyPoolTotalClaimable","setTotalDebt","setTotalCoupons","legacyPoolAddress","totalSupplyStr","totalBondedStr","totalStagedStr","totalRedeemableStr","poolLiquidityStr","poolTotalRewardedStr","poolTotalClaimableStr","legacyPoolTotalRewardedStr","legacyPoolTotalClaimableStr","totalDebtStr","totalCouponsStr","PoolPageHeader","accountUNIBalance","accountRewardedESDBalance","accountClaimableESDBalance","poolTotalBonded","accountPoolStatus","Claim","claimable","claimAmount","setClaimAmount","Provide","rewarded","userUSDCBalance","userUSDCAllowance","provideAmount","setProvideAmount","usdcAmount","setUsdcAmount","USDCToESDRatio","onChangeAmountESD","amountESD","amountESDBN","amountESDBU","newAmountUSDC","Migrate","isRewardNegative","unbonded","setUnbonded","withdrawn","setWithdrawn","claimed","setClaimed","Pool","setPoolAddress","setPoolTotalBonded","setUserUNIBalance","userUNIAllowance","setUserUNIAllowance","setUserUSDCBalance","setUserUSDCAllowance","userRewardedBalance","setUserRewardedBalance","userClaimableBalance","setUserClaimableBalance","legacyUserStagedBalance","setLegacyUserStagedBalance","legacyUserBondedBalance","setLegacyUserBondedBalance","legacyUserRewardedBalance","setLegacyUserRewardedBalance","legacyUserClaimableBalance","setLegacyUserClaimableBalance","legacyUserStatus","setLegacyUserStatus","poolAddressStr","poolTotalBondedStr","usdcBalance","usdcAllowance","rewardedBalance","claimableBalance","legacyStagedBalance","legacyBondedBalance","legacyRewardedBalance","legacyClaimableBalance","legacyStatus","pairESDBalance","pairUSDCBalance","isRewardedNegative","hasLegacyBalance","HomePageNoWeb3","App","storedTheme","setHasWeb3","setTheme","chainId","connectors","walletconnect","rpcUrl","walletlink","url","appName","appLogoUrl","assetsUrl","process","layout","path","Trade","newTheme","Boolean","hostname","match","Moment","locale","momentLocalizer","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"wwrDAAaA,EACL,SAACC,GAAD,OAAOC,QAAQC,IAAIF,ICGdG,EAAc,6CACdC,EAAc,6CACdC,EAAc,6CCNdC,EACL,6CADKA,EAED,GAICC,EAAO,CAClBC,KAAM,6CACNC,SAAU,EACVC,OAAQ,QAGGC,EACL,6CADKA,EAED,GAICC,EACL,6CADKA,EAED,GCVNC,GADmBC,EAAQ,KACVA,EAAQ,MACzBC,EAASD,EAAQ,KACjBE,EAAUF,EAAQ,KAGlBG,EAAc,qEAMPC,EAAe,uCAAG,WAAOC,GAAP,SAAAC,EAAA,sDAC7BC,OAAOC,SAAqB,SAAVH,EADW,2CAAH,sDAIfI,EAAO,uCAAG,WAAOC,GAAP,eAAAJ,EAAA,6DACrBC,OAAOI,KAAO,IAAIC,IAAKF,GADF,SAECH,OAAOI,KAAKE,IAAIC,cAFjB,WAEjBC,EAFiB,QAGNC,OAHM,0CAKCT,OAAOG,SAASO,SALjB,OAKjBF,EALiB,gEAOjB5B,QAAQC,IAAR,MAPiB,mBAQV,GARU,iCAYd2B,EAAUC,OAASD,EAAU,GAAGG,cAAgB,MAZlC,0DAAH,sDAgBPC,EAA2B,uCAAG,4BAAAb,EAAA,sEACnBC,OAAOI,KAAKE,IAAIC,cADG,WACrCC,EADqC,QAE1BC,OAF0B,0CAInBT,OAAOG,SAASO,SAJG,OAIrCF,EAJqC,0FASlCA,EAAU,IATwB,0DAAH,qDAgB3BK,EAAO,uCAAG,WAAOC,EAAWC,GAAlB,+BAAAhB,EAAA,6DAA2BiB,EAA3B,+BAAiCpB,EAAjC,SACCgB,IADD,cACfK,EADe,OAEfC,EAAS,IAAIlB,OAAOI,KAAKE,IAAIa,SAAS3B,EAAgBsB,GAFvC,SAGfI,EAAOE,QACVP,QAAQE,EAASC,GACjBK,KAAK,CAAEC,KAAML,IACbM,GAAG,mBAAmB,SAACC,GACtB9C,EAAY8C,MAPK,2CAAH,wDAkHPC,EAAO,uCAAG,WAAOC,GAAP,iBAAA3B,EAAA,sEACCa,IADD,cACfK,EADe,OAEfU,EAAc,IAAI3B,OAAOI,KAAKE,IAAIa,SAASzB,EAAQgC,GAFpC,SAGfC,EAAYP,QACfK,UACAJ,KAAK,CACJC,KAAML,IAEPM,GAAG,mBAAmB,SAACC,GACtB9C,EAAY8C,MATK,2CAAH,sDAaPI,EAAO,uCAAG,WAAOF,EAAKG,GAAZ,iBAAA9B,EAAA,sEACCa,IADD,cACfK,EADe,OAEfU,EAAc,IAAI3B,OAAOI,KAAKE,IAAIa,SAASzB,EAAQgC,GAFpC,SAGfC,EAAYP,QACfQ,QAAQ,IAAIE,IAAUD,GAAQE,WAC9BV,KAAK,CACJC,KAAML,IAEPM,GAAG,mBAAmB,SAACC,GACtB9C,EAAY8C,MATK,2CAAH,wDAaPQ,EAAQ,uCAAG,WAAON,EAAKG,GAAZ,iBAAA9B,EAAA,sEACAa,IADA,cAChBK,EADgB,OAEhBU,EAAc,IAAI3B,OAAOI,KAAKE,IAAIa,SAASzB,EAAQgC,GAFnC,SAGhBC,EAAYP,QACfY,SAAS,IAAIF,IAAUD,GAAQE,WAC/BV,KAAK,CACJC,KAAML,IAEPM,GAAG,mBAAmB,SAACC,GACtB9C,EAAY8C,MATM,2CAAH,wDAaRS,EAAI,uCAAG,WAAOP,EAAKG,GAAZ,iBAAA9B,EAAA,sEACIa,IADJ,cACZK,EADY,OAEZU,EAAc,IAAI3B,OAAOI,KAAKE,IAAIa,SAASzB,EAAQgC,GAFvC,SAGZC,EAAYP,QACfa,KAAK,IAAIH,IAAUD,GAAQE,WAC3BV,KAAK,CACJC,KAAML,IAEPM,GAAG,mBAAmB,SAACC,GACtB9C,EAAY8C,MATE,2CAAH,wDA0BJU,EAAgB,uCAAG,WAAOR,EAAKG,GAAZ,iBAAA9B,EAAA,sEACRa,IADQ,cACxBK,EADwB,OAExBU,EAAc,IAAI3B,OAAOI,KAAKE,IAAIa,SAASzB,EAAQgC,GAF3B,SAGxBC,EAAYP,QACfc,iBAAiB,IAAIJ,IAAUD,GAAQE,WACvCV,KAAK,CACJC,KAAML,IAEPM,GAAG,mBAAmB,SAACC,GACtB9C,EAAY8C,MATc,2CAAH,wDAahBW,EAAe,uCAAG,WAAOT,EAAKG,GAAZ,iBAAA9B,EAAA,sEACPa,IADO,cACvBK,EADuB,OAEvBU,EAAc,IAAI3B,OAAOI,KAAKE,IAAIa,SAASzB,EAAQgC,GAF5B,SAGvBC,EAAYP,QACfe,gBAAgB,IAAIL,IAAUD,GAAQE,WACtCV,KAAK,CACJC,KAAML,IAEPM,GAAG,mBAAmB,SAACC,GACtB9C,EAAY8C,MATa,2CAAH,wDAafY,EAAa,uCAAG,WAAOV,EAAKW,EAAOR,GAAnB,iBAAA9B,EAAA,sEACLa,IADK,cACrBK,EADqB,OAErBU,EAAc,IAAI3B,OAAOI,KAAKE,IAAIa,SAASzB,EAAQgC,GAF9B,SAGrBC,EAAYP,QACfgB,cAAcC,EAAO,IAAIP,IAAUD,GAAQE,WAC3CV,KAAK,CACJC,KAAML,IAEPM,GAAG,mBAAmB,SAACC,GACtB9C,EAAY8C,MATW,2CAAH,0DAabc,EAAU,uCAAG,WAAOZ,EAAKa,EAAWC,GAAvB,iBAAAzC,EAAA,sEACFa,IADE,cAClBK,EADkB,OAElBU,EAAc,IAAI3B,OAAOI,KAAKE,IAAIa,SAASzB,EAAQgC,GAFjC,SAGlBC,EAAYP,QACfqB,KAAKF,EAAWC,GAChBnB,KAAK,CACJC,KAAML,IAEPM,GAAG,mBAAmB,SAACC,GACtB9C,EAAY8C,MATQ,2CAAH,0DAaVkB,EAAM,uCAAG,WAAOhB,EAAKa,GAAZ,iBAAAxC,EAAA,sEACEa,IADF,cACdK,EADc,OAEdU,EAAc,IAAI3B,OAAOI,KAAKE,IAAIa,SAASzB,EAAQgC,GAFrC,SAGdC,EAAYP,QACfsB,OAAOH,GACPlB,KAAK,CACJC,KAAML,IAEPM,GAAG,mBAAmB,SAACC,GACtB9C,EAAY8C,MATI,2CAAH,wDAcNmB,EAAW,uCAAG,WAAOC,EAAMf,EAAQgB,GAArB,iBAAA9C,EAAA,sEACHa,IADG,cACnBK,EADmB,OAEnB6B,EAAe,IAAI9C,OAAOI,KAAKE,IAAIa,SAASxB,EAASiD,GAFlC,SAGnBE,EAAa1B,QAChBQ,QAAQ,IAAIE,IAAUD,GAAQE,WAC9BV,KAAK,CACJC,KAAML,IAEPM,GAAG,mBAAmB,SAACC,GACtB9C,EAAY8C,GACZqB,EAASrB,MAVY,2CAAH,0DAcXuB,EAAY,uCAAG,WAAOH,EAAMf,EAAQgB,GAArB,iBAAA9C,EAAA,sEACJa,IADI,cACpBK,EADoB,OAEpB6B,EAAe,IAAI9C,OAAOI,KAAKE,IAAIa,SAASxB,EAASiD,GAFjC,SAGpBE,EAAa1B,QAChBY,SAAS,IAAIF,IAAUD,GAAQE,WAC/BV,KAAK,CACJC,KAAML,IAEPM,GAAG,mBAAmB,SAACC,GACtB9C,EAAY8C,GACZqB,EAASrB,MAVa,2CAAH,0DAcZwB,EAAQ,uCAAG,WAAOJ,EAAMf,EAAQgB,GAArB,iBAAA9C,EAAA,sEACAa,IADA,cAChBK,EADgB,OAEhB6B,EAAe,IAAI9C,OAAOI,KAAKE,IAAIa,SAASxB,EAASiD,GAFrC,SAGhBE,EAAa1B,QAChBa,KAAK,IAAIH,IAAUD,GAAQE,WAC3BV,KAAK,CACJC,KAAML,IAEPM,GAAG,mBAAmB,SAACC,GACtB9C,EAAY8C,GACZqB,EAASrB,MAVS,2CAAH,0DAcRyB,EAAU,uCAAG,WAAOL,EAAMf,EAAQgB,GAArB,iBAAA9C,EAAA,sEACFa,IADE,cAClBK,EADkB,OAElB6B,EAAe,IAAI9C,OAAOI,KAAKE,IAAIa,SAASxB,EAASiD,GAFnC,SAGlBE,EAAa1B,QAChB8B,OAAO,IAAIpB,IAAUD,GAAQE,WAC7BV,KAAK,CACJC,KAAML,IAEPM,GAAG,mBAAmB,SAACC,GACtB9C,EAAY8C,GACZqB,EAASrB,MAVW,2CAAH,0DAcV2B,EAAS,uCAAG,WAAOP,EAAMf,EAAQgB,GAArB,iBAAA9C,EAAA,sEACDa,IADC,cACjBK,EADiB,OAEjB6B,EAAe,IAAI9C,OAAOI,KAAKE,IAAIa,SAASxB,EAASiD,GAFpC,SAGjBE,EAAa1B,QAChBgC,MAAM,IAAItB,IAAUD,GAAQE,WAC5BV,KAAK,CACJC,KAAML,IAEPM,GAAG,mBAAmB,SAACC,GACtB9C,EAAY8C,GACZqB,EAASrB,MAVU,2CAAH,0DAcT6B,EAAW,uCAAG,WAAOT,EAAMf,EAAQgB,GAArB,iBAAA9C,EAAA,sEACHa,IADG,cACnBK,EADmB,OAEnB6B,EAAe,IAAI9C,OAAOI,KAAKE,IAAIa,SAASxB,EAASiD,GAFlC,SAGnBE,EAAa1B,QAChBkC,QAAQ,IAAIxB,IAAUD,GAAQE,WAC9BV,KAAK,CACJC,KAAML,IAEPM,GAAG,mBAAmB,SAACC,GACtB9C,EAAY8C,GACZqB,EAASrB,MAVY,2CAAH,0DC/WjB,SAAS+B,EAAcC,EAAYC,GACxC,OAAOC,aAAaC,QAAQH,IAAQC,EAQ/B,SAASG,GAAgBJ,EAAYK,GAC1CH,aAAaI,QAAQN,EAAKK,G,ICFxBzD,G,UCVS2D,GAAc,IAAIjC,IAAU,GAAGkC,IAAI,KAAKC,MAAM,GAC9CC,GAAoB,IAAIpC,IAAU,QAClCqC,GAAgC,IAAIrC,IAAU,SDErDsC,GAAY3E,EAAQ,KACpBC,GAASD,EAAQ,KACjBE,GAAUF,EAAQ,KACCA,EAAQ,KACVA,EAAQ,UAIP4E,IAApBrE,OAAOG,WAETC,GAAO,IAAIC,IAAKF,WASX,IAAMmE,GAAe,uCAAG,WAAOC,EAAOtD,GAAd,eAAAlB,EAAA,yDACb,KAAZkB,EADyB,yCACF,KADE,cAEvBuD,EAAgB,IAAIpE,GAAKE,IAAIa,SAASiD,GAAWG,GAF1B,kBAGtBC,EAAcpD,QAAQqD,UAAUxD,GAASyD,QAHnB,2CAAH,wDAMfC,GAAmB,uCAAG,WAAOJ,GAAP,eAAAxE,EAAA,6DAC3ByE,EAAgB,IAAIpE,GAAKE,IAAIa,SAASiD,GAAWG,GADtB,kBAE1BC,EAAcpD,QAAQwD,cAAcF,QAFV,2CAAH,sDAYnBG,GAAiB,uCAAG,WAAON,EAAOtD,EAASF,GAAvB,eAAAhB,EAAA,6DACzByE,EAAgB,IAAIpE,GAAKE,IAAIa,SAASiD,GAAWG,GADxB,kBAExBC,EAAcpD,QAAQ0D,UAAU7D,EAASF,GAAS2D,QAF1B,2CAAH,0DAajBK,GAAgB,uCAAG,WAAOrD,EAAKT,GAAZ,eAAAlB,EAAA,yDACd,KAAZkB,EAD0B,yCACH,KADG,cAExBU,EAAc,IAAIvB,GAAKE,IAAIa,SAASzB,GAAQgC,GAFpB,kBAGvBC,EAAYP,QAAQ4D,gBAAgB/D,GAASyD,QAHtB,2CAAH,wDAYhBO,GAAkB,uCAAG,WAAOvD,EAAKT,GAAZ,eAAAlB,EAAA,6DAC1B4B,EAAc,IAAIvB,GAAKE,IAAIa,SAASzB,GAAQgC,GADlB,kBAEzBC,EAAYP,QAAQ8D,gBAAgBjE,GAASyD,QAFpB,2CAAH,wDAWlBS,GAAW,uCAAG,WAAOzD,EAAKT,GAAZ,eAAAlB,EAAA,6DACnB4B,EAAc,IAAIvB,GAAKE,IAAIa,SAASzB,GAAQgC,GADzB,kBAElBC,EAAYP,QAAQgE,SAASnE,GAASyD,QAFpB,2CAAH,wDAWXW,GAAa,uCAAG,WAAO3D,EAAKT,GAAZ,eAAAlB,EAAA,6DACrB4B,EAAc,IAAIvB,GAAKE,IAAIa,SAASzB,GAAQgC,GADvB,kBAEpBC,EAAYP,QAAQkE,WAAWrE,GAASyD,QAFpB,2CAAH,wDAWba,GAAc,uCAAG,WAAO7D,EAAKT,GAAZ,eAAAlB,EAAA,6DACtB4B,EAAc,IAAIvB,GAAKE,IAAIa,SAASzB,GAAQgC,GADtB,kBAErBC,EAAYP,QAAQoE,YAAYvE,GAASyD,QAFpB,2CAAH,wDAUde,GAAQ,uCAAG,WAAO/D,GAAP,eAAA3B,EAAA,6DAChB4B,EAAc,IAAIvB,GAAKE,IAAIa,SAASzB,GAAQgC,GAD5B,kBAEfC,EAAYP,QAAQiB,QAAQqC,QAFb,2CAAH,sDAURgB,GAAY,uCAAG,WAAOhE,GAAP,eAAA3B,EAAA,6DACpB4B,EAAc,IAAIvB,GAAKE,IAAIa,SAASzB,GAAQgC,GADxB,kBAEnBC,EAAYP,QAAQuE,YAAYjB,QAFb,2CAAH,sDAUZkB,GAAY,uCAAG,WAAOlE,GAAP,eAAA3B,EAAA,6DACpB4B,EAAc,IAAIvB,GAAKE,IAAIa,SAASzB,GAAQgC,GADxB,kBAEnBC,EAAYP,QAAQyE,YAAYnB,QAFb,2CAAH,sDAUZoB,GAAkB,uCAAG,WAAOpE,GAAP,eAAA3B,EAAA,6DAC1B4B,EAAc,IAAIvB,GAAKE,IAAIa,SAASzB,GAAQgC,GADlB,kBAEzBC,EAAYP,QAAQ2E,kBAAkBrB,QAFb,2CAAH,sDAUlBsB,GAAe,uCAAG,WAAOtE,GAAP,eAAA3B,EAAA,6DACvB4B,EAAc,IAAIvB,GAAKE,IAAIa,SAASzB,GAAQgC,GADrB,kBAEtBC,EAAYP,QAAQ6E,eAAevB,QAFb,2CAAH,sDAUfwB,GAAc,uCAAG,WAAOxE,GAAP,eAAA3B,EAAA,6DACtB4B,EAAc,IAAIvB,GAAKE,IAAIa,SAASzB,GAAQgC,GADtB,kBAErBC,EAAYP,QAAQ+E,cAAczB,QAFb,2CAAH,sDAUd0B,GAAc,uCAAG,WAAO1E,GAAP,eAAA3B,EAAA,6DACtB4B,EAAc,IAAIvB,GAAKE,IAAIa,SAASzB,GAAQgC,GADtB,kBAErBC,EAAYP,QAAQiF,cAAc3B,QAFb,2CAAH,sDAWd4B,GAAgB,uCAAG,WAAO5E,EAAKW,GAAZ,eAAAtC,EAAA,6DACxB4B,EAAc,IAAIvB,GAAKE,IAAIa,SAASzB,GAAQgC,GADpB,kBAEvBC,EAAYP,QAAQmF,cAAclE,GAAOqC,QAFlB,2CAAH,wDAWhB8B,GAAa,uCAAG,WAAO9E,EAAKa,GAAZ,eAAAxC,EAAA,6DACrB4B,EAAc,IAAIvB,GAAKE,IAAIa,SAASzB,GAAQgC,GADvB,kBAEpBC,EAAYP,QAAQqF,WAAWlE,GAAWmC,QAFtB,2CAAH,wDAWbgC,GAAY,uCAAG,WAAOhF,EAAKa,GAAZ,eAAAxC,EAAA,6DACpB4B,EAAc,IAAIvB,GAAKE,IAAIa,SAASzB,GAAQgC,GADxB,kBAEnBC,EAAYP,QAAQuF,UAAUpE,GAAWmC,QAFtB,2CAAH,wDAWZkC,GAAW,uCAAG,WAAOlF,EAAKa,GAAZ,eAAAxC,EAAA,6DACnB4B,EAAc,IAAIvB,GAAKE,IAAIa,SAASzB,GAAQgC,GADzB,kBAElBC,EAAYP,QAAQyF,SAAStE,GAAWmC,QAFtB,2CAAH,wDAWXoC,GAAY,uCAAG,WAAOpF,EAAKa,GAAZ,eAAAxC,EAAA,6DACpB4B,EAAc,IAAIvB,GAAKE,IAAIa,SAASzB,GAAQgC,GADxB,kBAEnBC,EAAYP,QAAQ2F,UAAUxE,GAAWmC,QAFtB,2CAAH,wDAWZsC,GAAgB,uCAAG,WAAOtF,EAAKa,GAAZ,eAAAxC,EAAA,6DACxB4B,EAAc,IAAIvB,GAAKE,IAAIa,SAASzB,GAAQgC,GADpB,kBAEvBC,EAAYP,QAAQ6F,cAAc1E,GAAWmC,QAFtB,2CAAH,wDAYhBwC,GAAe,uCAAG,WAAOxF,EAAKT,EAASsB,GAArB,eAAAxC,EAAA,6DACvB4B,EAAc,IAAIvB,GAAKE,IAAIa,SAASzB,GAAQgC,GADrB,kBAEtBC,EAAYP,QAAQ+F,aAAalG,EAASsB,GAAWmC,QAF/B,2CAAH,0DAYf0C,GAAmB,uCAAG,WAAO1F,EAAKT,EAASoB,GAArB,eAAAtC,EAAA,6DAC3B4B,EAAc,IAAIvB,GAAKE,IAAIa,SAASzB,GAAQgC,GADjB,kBAE1BC,EAAYP,QAAQiG,iBAAiBpG,EAASoB,GAAOqC,QAF3B,2CAAH,0DAYnB4C,GAAwB,uCAAG,WAAO5F,EAAKT,EAASsG,GAArB,eAAAxH,EAAA,6DAChCyH,EAAQD,EAAOE,KAAI,SAACpF,GAAD,OAAW+E,GAAoB1F,EAAKT,EAASoB,MADhC,kBAE/BqF,QAAQC,IAAIH,IAFmB,2CAAH,0DAsBxBI,GAAoB,uCAAG,WAAOlG,EAAKW,GAAZ,eAAAtC,EAAA,6DAC5B4B,EAAc,IAAIvB,GAAKE,IAAIa,SAASzB,GAAQgC,GADhB,kBAE3BC,EAAYP,QAAQyG,kBAAkBxF,GAAOqC,QAFlB,2CAAH,wDAWpBoD,GAAyB,uCAAG,WAAOpG,EAAK6F,GAAZ,eAAAxH,EAAA,6DACjCyH,EAAQD,EAAOE,KAAI,SAACpF,GAAD,OAAWuF,GAAqBlG,EAAKW,MADvB,kBAEhCqF,QAAQC,IAAIH,IAFoB,2CAAH,wDAWzBO,GAAgB,uCAAG,WAAOrG,EAAKG,GAAZ,eAAA9B,EAAA,6DACxB4B,EAAc,IAAIvB,GAAKE,IAAIa,SAASzB,GAAQgC,GADpB,kBAEvBC,EAAYP,QAAQ4G,cAAc,IAAIlG,IAAUD,GAAQE,WAAW2C,QAF5C,2CAAH,wDAUhBuD,GAAiB,uCAAG,WAAOvG,GAAP,eAAA3B,EAAA,6DACzB4B,EAAc,IAAIvB,GAAKE,IAAIa,SAASzB,GAAQgC,GADnB,kBAExBC,EAAYP,QAAQ8G,iBAAiBxD,QAFb,2CAAH,sDAUjByD,GAAO,uCAAG,WAAOzG,GAAP,eAAA3B,EAAA,6DACf4B,EAAc,IAAIvB,GAAKE,IAAIa,SAASzB,GAAQgC,GAD7B,kBAEdC,EAAYP,QAAQwB,OAAO8B,QAFb,2CAAH,sDAWP0D,GAAe,uCAAG,WAAO1G,EAAKT,GAAZ,+BAAAlB,EAAA,6DACvB4B,EAAc,IAAIvB,GAAKE,IAAIa,SAASzB,GAAQgC,GAC5C2G,EAAY1G,EAAY2G,cAAc,iBAAkB,CAC5DC,OAAQ,CAAEtH,WACVuH,UAAW,IAEPC,EAAY9G,EAAY2G,cAAc,iBAAkB,CAC5DC,OAAQ,CAAEG,GAAIzH,GACduH,UAAW,IARgB,SAUCd,QAAQC,IAAI,CAACU,EAAWI,IAVzB,0CAUtBE,EAVsB,KAUdC,EAVc,KAWvBC,EAASF,EAAOlB,KAAI,SAACqB,GAAD,MAAQ,CAACzG,MAAOyG,EAAEC,aAAa1G,MAAOR,OAAQiH,EAAEC,aAAaC,iBACpFC,OAAOL,EAAMnB,KAAI,SAACqB,GAAD,MAAQ,CAACzG,MAAOyG,EAAEC,aAAa1G,MAAOR,OAAQ,OAE5DqH,EAduB,aAexBL,EAAOM,QACR,SAAC1B,EAAK2B,GAAW,IACP/G,EAAkB+G,EAAlB/G,MAAOR,EAAWuH,EAAXvH,OACTwH,EAAO5B,EAAI6B,IAAIjH,GAQrB,OANIgH,EACF5B,EAAI8B,IAAIlH,EAAO,CAAEA,QAAOmH,QAASH,EAAKG,QAAQC,KAAK,IAAI3H,IAAUD,MAEjE4F,EAAI8B,IAAIlH,EAAO,CAAEA,QAAOmH,QAAS,IAAI1H,IAAUD,KAG1C4F,IAET,IAAIiC,KACJC,UA7ByB,kBAgCtBT,EAAaU,MAAK,SAAC7J,EAAG8J,GAAJ,OAAU9J,EAAI8J,MAhCV,4CAAH,wDAwCfC,GAAe,uCAAG,WAAOpI,GAAP,iBAAA3B,EAAA,6DACvB4B,EAAc,IAAIvB,GAAKE,IAAIa,SAASzB,GAAQgC,GADrB,SAENC,EAAY2G,cAAc,WAAY,CAC3DE,UAAW,IAHgB,cAEvBuB,EAFuB,OAIzBtC,KAAI,SAAC2B,GACP,IAAMY,EAAOZ,EAAML,aAEnB,OADAiB,EAAKC,YAAcb,EAAMa,YAClBD,KAPoB,kBAStBD,EAAQH,MAAK,SAAC7J,EAAG8J,GAAJ,OAAUA,EAAEI,YAAclK,EAAEkK,gBATnB,2CAAH,sDAiBfC,GAAiB,uCAAG,WAAOxI,GAAP,iCAAA3B,EAAA,6DACzB4B,EAAc,IAAIvB,GAAKE,IAAIa,SAASzB,GAAQgC,GAC5CyI,EAAYxI,EAAY2G,cAAc,iBAAkB,CAAEE,UAAW,IACrE4B,EAAYzI,EAAY2G,cAAc,iBAAkB,CAAEE,UAAW,IACrE6B,EAAW1I,EAAY2G,cAAc,gBAAiB,CAAEE,UAAW,IAJ1C,SAMad,QAAQC,IAAI,CAACwC,EAAWC,EAAWC,IANhD,0CAMxBC,EANwB,KAMdC,EANc,KAMJC,EANI,KAQzB3B,EAASyB,EAAS7C,KAAI,SAACqB,GAAD,MAAQ,CAAE2B,KAAM,WAAYC,KAAM5B,EAAEC,iBAC7DE,OAAOsB,EAAS9C,KAAI,SAACqB,GAAD,MAAQ,CAAE2B,KAAM,WAAYC,KAAM5B,EAAEC,kBACxDE,OAAOuB,EAAQ/C,KAAI,SAACqB,GAAD,MAAQ,CAAE2B,KAAM,UAAWC,KAAM5B,EAAEC,kBAV1B,kBAYxBF,EAAOe,MAAK,SAAC7J,EAAG8J,GAAJ,OAAUA,EAAEa,KAAKrI,MAAQtC,EAAE2K,KAAKrI,UAZpB,4CAAH,sDA2DjBsI,GAAe,uCAAG,WAAO/H,EAAM3B,GAAb,eAAAlB,EAAA,6DACvB+C,EAAe,IAAI1C,GAAKE,IAAIa,SAASxB,GAASiD,GADvB,kBAEtBE,EAAa1B,QAAQgE,SAASnE,GAASyD,QAFjB,2CAAH,wDAWfkG,GAAsB,uCAAG,WAAOhI,EAAM3B,GAAb,eAAAlB,EAAA,yDACpB,KAAZkB,EADgC,yCACT,KADS,cAE9B6B,EAAe,IAAI1C,GAAKE,IAAIa,SAASxB,GAASiD,GAFhB,kBAG7BE,EAAa1B,QAAQ4D,gBAAgB/D,GAASyD,QAHjB,2CAAH,wDAYtBmG,GAAsB,uCAAG,WAAOjI,EAAM3B,GAAb,eAAAlB,EAAA,6DAC9B+C,EAAe,IAAI1C,GAAKE,IAAIa,SAASxB,GAASiD,GADhB,kBAE7BE,EAAa1B,QAAQ8D,gBAAgBjE,GAASyD,QAFjB,2CAAH,wDAWtBoG,GAAwB,uCAAG,WAAOlI,EAAM3B,GAAb,eAAAlB,EAAA,yDACtB,KAAZkB,EADkC,yCACX,KADW,cAEhC6B,EAAe,IAAI1C,GAAKE,IAAIa,SAASxB,GAASiD,GAFd,kBAG/BE,EAAa1B,QAAQ2J,kBAAkB9J,GAASyD,QAHjB,2CAAH,wDAYxBsG,GAAyB,uCAAG,WAAOpI,EAAM3B,GAAb,eAAAlB,EAAA,6DACjC+C,EAAe,IAAI1C,GAAKE,IAAIa,SAASxB,GAASiD,GADb,kBAEhCE,EAAa1B,QAAQ6J,mBAAmBhK,GAASyD,QAFjB,2CAAH,wDAWzBwG,GAAkB,uCAAG,WAAOtI,GAAP,eAAA7C,EAAA,6DAC1B+C,EAAe,IAAI1C,GAAKE,IAAIa,SAASxB,GAASiD,GADpB,kBAEzBE,EAAa1B,QAAQ+E,cAAczB,QAFV,2CAAH,sDAWlByG,GAAoB,uCAAG,WAAOvI,GAAP,eAAA7C,EAAA,6DAC5B+C,EAAe,IAAI1C,GAAKE,IAAIa,SAASxB,GAASiD,GADlB,kBAE3BE,EAAa1B,QAAQgK,gBAAgB1G,QAFV,2CAAH,sDAWpB2G,GAAqB,uCAAG,WAAOzI,GAAP,eAAA7C,EAAA,6DAC7B+C,EAAe,IAAI1C,GAAKE,IAAIa,SAASxB,GAASiD,GADjB,kBAE5BE,EAAa1B,QAAQkK,iBAAiB5G,QAFV,2CAAH,sDAWrB6G,GAAiB,uCAAG,WAAO3I,EAAM3B,GAAb,mCAAAlB,EAAA,6DACzB+C,EAAe,IAAI1C,GAAKE,IAAIa,SAASxB,GAASiD,GADrB,SAILxC,GAAKE,IAAIkL,iBAJJ,cAIzBvB,EAJyB,OAKzBzB,EAAYyB,EAAc,MAC1BwB,EAAQ3I,EAAawF,cAAc,OAAQ,CAC/CC,OAAQ,CAACtH,QAASA,GAAUuH,UAAWA,IACnCkD,EAAU5I,EAAawF,cAAc,SAAU,CACnDC,OAAQ,CAACtH,QAASA,GAAUuH,UAAWA,IATV,SAWFd,QAAQC,IAAI,CAAC8D,EAAOC,IAXlB,0CAWxBzJ,EAXwB,KAWlBiB,EAXkB,KAYzB2F,EAAS5G,EAAKwF,KAAI,SAACqB,GAAD,OAAOA,EAAEC,gBAC9BE,OAAO/F,EAAOuE,KAAI,SAACqB,GAAD,OAAOA,EAAEC,iBAExB4C,EAAa9C,EAAOM,QACxB,SAAC9G,EAAO+G,GACN,OAAI/G,EAAQ+G,EAAMwC,MACTvJ,EAEA+G,EAAMwC,QACd,GArB0B,mBAyBvBC,SAASF,EAAY,IC5jBQ,ED4jBwB,GAAGG,YAzBjC,4CAAH,wDEtiBvB,SAASC,GAAaC,EAAkC5M,GAC7D,IAAM6M,EAAM,IAAInK,IAAUkK,GACpBE,EAAO,IAAIpK,IAAU,IACrBqK,EAAa,IAAIrK,IAAU1C,GACjC,OAAO6M,EAAIG,MAAMF,EAAKlI,IAAImI,IAAaE,eAMlC,IAAMC,GAAiB,SAACC,EAAqCC,GAClE,IAAMxL,EAAM,IAAIc,IAAUyK,GACpBE,EAAS,IAAI3K,IAAU,IAAIkC,IAAI,IAAIlC,IAAU0K,IACnD,OAAOxL,EAAI0L,IAAID,IAGJE,GAAQ,SAAC9K,GACpB,OAAQA,EAAO+K,UAAY/K,EAAOgL,cAGvBC,GAAY,SAACC,EAAoBnI,GAC5C,OAAOmI,EAAQC,aAAa,IAAIlL,IAAU,MAAMmL,UAAUrI,IAO/CsI,GAAW,SAACrL,EAAmBsL,GAC1C,OAAItL,EAAOuL,WAAW,IAAItL,IAAU,IAYtC,SAAauL,EAAOF,GACbE,EAAMC,SAAS,OAClBD,GAAS,KAIX,IADA,IAAME,EAAQF,EAAMG,MAAM,KACjBC,EAAI,EAAGA,EAAIN,EAAWI,EAAM,GAAG9M,OAAQgN,IAC9CJ,GAAS,IAGX,OAAOA,EArBEK,CAAI7L,EAAO8L,UAAUR,EAAUrL,IAAU8L,aAAa7L,UAAWoL,GAM5E,SAAmBE,GACjB,IAAME,EAAQF,EAAMG,MAAM,KAC1B,OAAOD,EAAM,GAAGzB,WAAW+B,QAAQ,wBAAyB,KAAO,IAAMN,EAAM,GALxEO,CAAUjM,EAAOE,QAAQoL,EAAUrL,IAAU8L,eAqB/C,SAASG,GAAYC,GAE1B,OADAA,EAAIA,EAAEC,YAAY,GACXC,KAAKC,IAAIC,OAAOJ,KAAO,IAC1BE,KAAKC,IAAIC,OAAOJ,IAAM,IAAS,IAC/BE,KAAKC,IAAIC,OAAOJ,KAAO,IACrBE,KAAKC,IAAIC,OAAOJ,IAAM,IAAS,KAC/BE,KAAKC,IAAIC,OAAOJ,KAAO,IACrBE,KAAKC,IAAIC,OAAOJ,IAAM,IAAS,IAC/BE,KAAKC,IAAIC,OAAOJ,IC/DnB,SAAeK,KAAtB,gC,8CAAO,4BAAAtO,EAAA,sEACcoI,GAAQ5I,GADtB,WACCqD,EADD,QAEIjC,gBAAkB7B,EAAY6B,cAFlC,yCAGI7B,GAHJ,UAKD8D,EAAKjC,gBAAkB5B,EAAY4B,cALlC,yCAMI5B,GANJ,UAQD6D,EAAKjC,gBAAkB3B,EAAY2B,cARlC,yCASI3B,GATJ,aAYC,IAAIsP,MAAM,6BAZX,6C,sBAeA,SAASC,GAAqBC,GACnC,GAAIA,IAAgB1P,EAClB,MPlBuB,6COoBzB,GAAI0P,IAAgBzP,EAClB,OAAOD,EAET,GAAI0P,IAAgBxP,EAClB,OAAOD,EAGT,MAAM,IAAIuP,MAAM,6BC8DHG,OA3Ef,YAAoD,IAA5BC,EAA2B,EAA3BA,KAA2B,EACTC,mBAAS,IAAI7M,IAAU,IADd,mBAC1C8M,EAD0C,KAC5BC,EAD4B,KAmEjD,OA/DAC,qBAAU,WACR,GAAa,KAATJ,EAAJ,CAIA,IAAIK,GAAc,EAgDlBC,IACA,IAAMC,EAAKC,YAAYF,EAAgB,MAGvC,OAAO,WACLD,GAAc,EACdI,cAAcF,IA3DF,SAOCD,IAPD,2EAOd,8EAAAjP,EAAA,sEAC4BsO,KAD5B,cACQG,EADR,gBAQY9G,QAAQC,IAAI,CACpBrD,GAAgBhF,EAAUoP,GAC1BzJ,GAAmB1F,EAAWmP,GAC9B3J,GAAiBxF,EAAWmP,GAE5BpK,GAAgBhF,EAAUL,GAC1B0F,GAAoB1F,GACpBqF,GAAgBrF,EAAUyP,GAC1B9D,GAAuB4D,EAAaE,GACpC7D,GAAuB2D,EAAaE,GACpC5D,GAAyB0D,EAAaE,GACtC1D,GAA0BwD,EAAaE,KAnB3C,oCAIIU,EAJJ,KAIgBC,EAJhB,KAI+BC,EAJ/B,KAKIC,EALJ,KAKuBC,EALvB,KAK8CC,EAL9C,KAMIC,EANJ,KAM8BC,EAN9B,KAOIC,EAPJ,KAOgCC,EAPhC,KAsBQC,EAAcxD,GAAe,IAAIxK,IAAUsN,GAAa9P,GACxDyQ,EAAoBzD,GAAe,IAAIxK,IAAUuN,GAAgB9P,GACjEyQ,EAAoB1D,GAAe,IAAIxK,IAAUwN,GAAgB/P,GAEjE0Q,EAAiB3D,GAAe,IAAIxK,IAAU2N,GAAoBlQ,GAClE2Q,EAAwB5D,GAAe,IAAIxK,IAAU4N,GAA2BnQ,GAChF4Q,EAAwB7D,GAAe,IAAIxK,IAAU6N,GAA2BpQ,GAChF6Q,EAA0B9D,GAAe,IAAIxK,IAAU8N,GAA6BrQ,GACpF8Q,EAA2B/D,GAAe,IAAIxK,IAAU+N,GAA8BtQ,GAEtF+Q,EAAW,IAAIxO,IAAUyN,GAAmBtC,UAAU,IAAInL,IAAU0N,IAEpEe,EAAkBR,EAAkBtG,KAAKuG,GACzCQ,EAAmBF,EAAStD,aAAamD,EAAsB1G,KAAKyG,IACvEzG,KAAK2G,EAAwB3G,KAAK4G,IAC/BI,EAAqBH,EAAStD,aAAaiD,GAAgBxG,KAAKqG,GAEhElB,EAAe2B,EAAgB9G,KAAK+G,GAAkB/G,KAAKgH,GAE5D1B,GACHF,EAAgBD,GA1CpB,6CAPc,sBAEZC,EAAgB,IAAI/M,IAAU,MA2D/B,CAAC4M,IAGF,yBAAKgC,MAAO,CAAEC,SAAU,GAAIC,QAAS,EAAGC,WAAY,IAAKC,WAAY,IAAKC,WAAY,mCAAtF,SACI7D,GAAS0B,EAAc,KCpBhBoC,OAxDf,YAEsB,IADpBC,EACmB,EADnBA,QAASC,EACU,EADVA,QAASC,EACC,EADDA,UAEZC,EAASC,cAqBf,OAPAvC,qBAAU,WACJsC,EAAOnQ,UACTkQ,GAAaA,EAAUC,GACvBF,GAAWA,OAEZ,CAACE,EAAQD,EAAWD,IAGrB,kBAAC,QAAD,CAAOD,QAASA,EAASC,QAASA,GAChC,kBAAC,SAAD,CAAQI,QAAQ,6BAEhB,yBAAKZ,MAAO,CAACa,MAAO,MAAOC,OAAQ,OAAQZ,QAAS,OAClD,kBAAC,SAAD,CACEa,MAAI,EACJC,MAAO,WACPC,KAAM,yBAAKC,IAAG,6BAAgClB,MAAO,CAAEmB,OAAQ,IAAMC,IAAI,aACzEC,QA5BgB,WACtBX,EAAOlR,QAAQ,gBA8Bb,yBAAKwQ,MAAO,CAACa,MAAO,MAAOC,OAAQ,OAAQZ,QAAS,OAClD,kBAAC,SAAD,CACEa,MAAI,EACJC,MAAO,gBACPC,KAAM,yBAAKC,IAAG,+BAAkClB,MAAO,CAAEmB,OAAQ,IAAMC,IAAI,kBAC3EC,QAhCqB,WAC3BX,EAAOlR,QAAQ,qBAkCb,yBAAKwQ,MAAO,CAACa,MAAO,MAAOC,OAAQ,OAAQZ,QAAS,OAClD,kBAAC,SAAD,CACEa,MAAI,EACJC,MAAO,kBACPC,KAAM,yBAAKC,IAAG,gCAAmClB,MAAO,CAAEmB,OAAQ,IAAMC,IAAI,oBAC5EC,QApCgB,WACtBX,EAAOlR,QAAQ,oBC0CJ8R,OAjDf,YAAwE,IAA/CC,EAA8C,EAA9CA,QAASvD,EAAqC,EAArCA,KAAMwD,EAA+B,EAA/BA,QAA+B,EAC3Cb,cAAlBc,EAD6D,EAC7DA,OAAQC,EADqD,EACrDA,MADqD,EAGjCzD,oBAAS,GAHwB,mBAG9D0D,EAH8D,KAGjDC,EAHiD,KAK/DC,EAAW,uCAAG,WAAOnB,GAAP,SAAArR,EAAA,sDAClBG,EAAQkR,EAAOjR,UACf+R,EAAQd,EAAOnQ,SAFG,2CAAH,sDAKXuR,EAAc,uCAAG,sBAAAzS,EAAA,sDACrBmS,EAAQ,IACRE,IAFqB,2CAAH,qDAKdK,EAAc,kBAAMH,GAAcD,IAExC,MAAkB,cAAXF,EACL,yBAAKzB,MAAO,CAACgC,QAAS,SACpB,yBAAKhC,MAAO,CAACiC,KAAM,OACnB,6BACE,kBAAC,MAAD,CAAK/B,QAAS,EAAGF,MAAO,CAACa,MAAO,UAC9B,yBAAKb,MAAO,CAACgC,QAAS,SACpB,6BACE,kBAAC,WAAD,CAAUX,QAASS,EAAgB9B,MAAO,CAACkC,YAAa,MAAOf,OAAQ,SACrE,kBAAC,YAAD,QAGJ,yBAAKnB,MAAO,CAACiC,KAAM,IAAKE,UAAW,UACjC,kBAAC,gBAAD,CAAeC,OAAQpE,MAG3B,yBAAKgC,MAAO,CAACgC,QAAS,SACpB,yBAAKhC,MAAO,CAACiC,KAAM,IAAKE,UAAW,UACjC,kBAAC,GAAD,CAAcnE,KAAMA,SAO9B,oCACE,kBAAC,GAAD,CAAcuC,QAASoB,EAAanB,QAASuB,EAAatB,UAAWoB,IACrE,kBAAC,SAAD,CAAQZ,KAAM,kBAAC,cAAD,MAAiBD,MAAM,UAAUK,QAASU,EAAaM,UAAWd,MCUtF,SAASe,GAAT,GAA6E,IAAvDC,EAAsD,EAAtDA,MAAOlB,EAA+C,EAA/CA,QAA+C,IAAtCmB,kBAAsC,SAC1E,OACI,kBAAC,WAAD,CAAUnB,QAASA,EAASrB,MAAO,CAACyC,WAAY,MAAOP,YAAa,MAAOf,OAAQ,SACjF,yBAAKnB,MAAO,CAAEE,QAAS,KAAMwC,QAASF,EAAa,EAAI,GAAKvC,SAAU,KAAOsC,IAKtEI,OAlEf,YAEgB,IADdpB,EACa,EADbA,QAASvD,EACI,EADJA,KAAMwD,EACF,EADEA,QAEToB,EAAUC,cACVC,EAAeC,qBAFR,EAIW9E,mBAAS,IAJpB,mBAIN+E,EAJM,KAIAC,EAJA,KAMb7E,qBAAU,WACR,OAAOwE,EAAQM,QAAO,SAACC,GACrBF,EAAQE,EAASC,eAElB,CAAC7B,EAASvD,EAAM4E,IAEnB,IAAMS,EAAO,sBAAyC,UAAvBP,EAAaQ,MAAoB,QAAU,QAA7D,QAEb,OACE,oCACE,yBAAKtD,MAAO,CACVuD,UAAW,aAAeT,EAAaU,OACvCC,gBAAiB,OACjBtB,UAAW,SACXhB,OAAQ,QACRN,MAAO,OACPZ,SAAU,SAEV,yBAAKD,MAAO,CAAC0D,SAAU,SAAUjB,WAAY,OAAQP,YAAa,SAChE,yBAAKlC,MAAO,CAAEgC,QAAS,OAAQ2B,WAAY,SACzC,yBAAK3D,MAAO,CAAEa,MAAO,MAAOsB,UAAW,SACrC,kBAAC,WAAD,CAAUd,QAAS,kBAAMuB,EAAQgB,KAAK,MAAM5D,MAAO,CAACkC,YAAa,OAAQf,OAAQ,SAC/E,yBAAKD,IAAKmC,EAASlC,OAAO,OAAOC,IAAI,uBAGzC,yBAAKpB,MAAO,CAAEa,MAAO,MAAOsB,UAAW,WACrC,kBAACG,GAAD,CAAYC,MAAM,MAAMlB,QAAS,kBAAMuB,EAAQgB,KAAK,UAAUpB,WAAYQ,EAAKpG,SAAS,UACxF,kBAAC0F,GAAD,CAAYC,MAAM,YAAYlB,QAAS,kBAAMuB,EAAQgB,KAAK,WAAWpB,WAAYQ,EAAKpG,SAAS,WAC/F,kBAAC0F,GAAD,CAAYC,MAAM,aAAalB,QAAS,kBAAMuB,EAAQgB,KAAK,iBAAiBpB,WAAYQ,EAAKpG,SAAS,iBACtG,kBAAC0F,GAAD,CAAYC,MAAM,aAAalB,QAAS,kBAAMuB,EAAQgB,KAAK,iBAAiBpB,WAAYQ,EAAKpG,SAAS,iBACtG,kBAAC0F,GAAD,CAAYC,MAAM,QAAQlB,QAAS,kBAAMuB,EAAQgB,KAAK,YAAYpB,WAAYQ,EAAKpG,SAAS,YAC5F,kBAAC0F,GAAD,CAAYC,MAAM,UAAUlB,QAAS,kBAAMuB,EAAQgB,KAAK,cAAcpB,WAAYQ,EAAKpG,SAAS,eAElG,yBAAKoD,MAAO,CAAEa,MAAO,MAAOsB,UAAW,UACrC,kBAAC,GAAD,CAAeZ,QAASA,EAASvD,KAAMA,EAAMwD,QAASA,UCvCrDqC,OATf,YAAiD,IAA3BlS,EAA0B,EAA1BA,MACpB,OACE,oCACE,yBAAKqO,MAAO,CAAEC,SAAU,GAAIC,QAAS,IAArC,SACA,yBAAKF,MAAO,CAAEC,SAAU,GAAIC,QAAS,EAAGC,WAAY,IAAKC,WAAY,IAAKC,WAAY,mCAAoC1O,KCHhI,SAASmS,KACP,IAMIC,EAFgBvG,KAAKwG,MAAMC,KAAKC,MAAQ,KAJzB,WAObvS,EAAQ6L,KAAKwG,MAAMD,EANL,OAOpBA,GAPoB,MAOFpS,EAClB,IAAMwS,EAAY3G,KAAKwG,MAAMD,EAPhB,MAQbA,GARa,KAQKI,EAClB,IAAMC,EAAc5G,KAAKwG,MAAMD,EARhB,IAUf,OADAA,GATe,GASGK,EACZ,GAAN,OAAUzS,EAAV,aAAoBwS,EAApB,YAAiCC,EAAc,EAAIA,EAAc,IAAMA,EAAYhJ,WAAnF,YAAiG2I,EAAiB,EAAIA,EAAiB,IAAMA,EAAe3I,YAwH9J,SAASiJ,GAAT,GAEoB,IADlB9B,EACiB,EADjBA,MAAO+B,EACU,EADVA,YAAarD,EACH,EADGA,KAAMI,EACT,EADSA,QAASkD,EAClB,EADkBA,IAEnC,OACE,kBAAC,WAAD,CAAUlD,QAASA,EAASrB,MAAO,CAAEa,MAAO,SAC1C,kBAAC,MAAD,KACE,yBAAKb,MAAO,CAAEE,QAAS,GAAID,SAAU,KAClCsC,EACAgC,EAAM,kBAAC,MAAD,KAAMA,GAAa,sCAE5B,0BAAMvE,MAAO,CAAEC,SAAU,KACtBgB,GAGH,yBAAKjB,MAAO,CAAE2D,WAAY,EAAGjB,QAAS,KACnC,IACA4B,EACA,OAQIE,OA1If,YAA0C,IAAvBxG,EAAsB,EAAtBA,KACX4E,EAAUC,cADuB,EAGL5E,mBAAS,cAHJ,mBAGhChJ,EAHgC,KAGrBwP,EAHqB,KAuBvC,OAlBArG,qBAAU,WACR,IAAIC,GAAc,EADJ,SAGCC,IAHD,2EAGd,sBAAAjP,EAAA,sDACOgP,GACHoG,EAAaX,MAFjB,4CAHc,sBAQdxF,IACA,IAAMC,EAAKC,YAAYF,EAAgB,KAGvC,OAAO,WACLD,GAAc,EACdI,cAAcF,MAEf,CAACP,IAGF,oCACE,yBAAKgC,MAAO,CAAEE,QAAS,KAAM8B,QAAS,OAAQ0C,SAAU,OAAQC,WAAY,WAC1E,yBAAK3E,MAAO,CAAE4E,UAAW,SACzB,yBAAK5E,MAAO,CAAE4E,UAAW,MAAOC,SAAU,EAAG3C,YAAa,KAAMC,UAAW,UACzE,kBAAC,MAAD,KACE,kBAAC,GAAD,CAAYxQ,MAAOsD,OAIzB,yBAAK+K,MAAO,CAAEE,QAAS,KAAM8B,QAAS,OAAQ0C,SAAU,OAAQC,WAAY,WAC1E,yBAAK3E,MAAO,CAAE4E,UAAW,MAAO1C,YAAa,KAAMO,WAAY,OAC7D,kBAAC4B,GAAD,CACE9B,MAAM,MACN+B,YAAY,6BACZrD,KAAM,uBAAG6D,UAAU,sBACnBzD,QAAS,WACPuB,EAAQgB,KAAK,aAKnB,yBAAK5D,MAAO,CAAE4E,UAAW,QACvB,kBAACP,GAAD,CACE9B,MAAM,aACN+B,YAAY,wCACZrD,KAAM,uBAAG6D,UAAU,yBACnBzD,QAAS,WACPuB,EAAQgB,KAAK,cAKnB,yBAAK5D,MAAO,CAAE4E,UAAW,MAAOnC,WAAY,KAAMP,YAAa,OAC7D,kBAACmC,GAAD,CACE9B,MAAM,aACN+B,YAAY,wCACZrD,KAAM,uBAAG6D,UAAU,sBACnBzD,QAAS,WACPuB,EAAQgB,KAAK,qBAKrB,yBAAK5D,MAAO,CAAEE,QAAS,KAAM8B,QAAS,OAAQ0C,SAAU,OAAQC,WAAY,WAC1E,yBAAK3E,MAAO,CAAE4E,UAAW,MAAO1C,YAAa,KAAMO,WAAY,OAC7D,kBAAC4B,GAAD,CACE9B,MAAM,aACN+B,YAAY,oBACZrD,KAAM,uBAAG6D,UAAU,gBACnBzD,QAAS,WACPuB,EAAQgB,KAAK,oBAKnB,yBAAK5D,MAAO,CAAE4E,UAAW,QACvB,kBAACP,GAAD,CACE9B,MAAM,QACN+B,YAAY,0BACZrD,KAAM,uBAAG6D,UAAU,wBACnBzD,QAAS,WACPuB,EAAQgB,KAAK,eAKnB,yBAAK5D,MAAO,CAAE4E,UAAW,MAAOnC,WAAY,KAAMP,YAAa,OAC7D,kBAACmC,GAAD,CACE9B,MAAM,UACN+B,YAAY,+BACZrD,KAAM,uBAAG6D,UAAU,sBACnBzD,QAAS,WACPuB,EAAQgB,KAAK,oBCzGZmB,OAXf,YAA8D,IAAtC/D,EAAqC,EAArCA,MAAOgE,EAA8B,EAA9BA,QAC7B,OACE,oCACE,yBAAKhF,MAAO,CAAEC,SAAU,GAAIC,QAAS,IAAMc,GAC3C,yBAAKhB,MAAO,CAAEE,QAAS,IACrB,kBAAC,gBAAD,CAAekC,OAAQ4C,EAASC,SAAO,OCyBhCC,OA3Bf,YAAuE,IAA/CC,EAA8C,EAA9CA,MAAO9I,EAAuC,EAAvCA,QAAuC,IAA9B+I,cAA8B,MAAvB,GAAuB,EAChEC,EAAU,IACVtJ,EAAS,IACPuJ,EAAY,IAAIlU,IAAUiL,GAChC,GAAIiJ,EAAUC,IAAI,IAAInU,IAAU,IAAK,CACnC,IAAMoU,EAAShJ,GAAS8I,EAAW,GAAGxI,MAAM,KAC5CuI,EAAUG,EAAO,GACjBzJ,EAASyJ,EAAO,GAGlB,OACE,oCACE,yBAAKxF,MAAO,CAAEC,SAAU,GAAIC,QAAS,IAAMiF,GAC3C,yBAAKnF,MAAO,CAAEE,QAAS,IACrB,0BAAMF,MAAO,CAAEC,SAAU,KAAOoF,GADlC,IAGE,0BAAMrF,MAAO,CAAEC,SAAU,KACtB,IACAlE,EACA,KAES,KAAXqJ,EAAgB,GAAK,0BAAMpF,MAAO,CAAEC,SAAU,KAAOmF,MChB/CK,OAVf,YAAuD,IAAlCpE,EAAiC,EAAjCA,QACnB,OACE,yBAAKrB,MAAO,CAAEE,QAAS,IACrB,kBAAC,aAAD,CAAYmB,QAASA,GACnB,0BAAMrB,MAAO,CAAE0C,QAAS,KAAxB,YCUOgD,OAjBf,YAEyF,IADvF1E,EACsF,EADtFA,MAAO1Q,EAC+E,EAD/EA,IAC+E,IAD1E3B,cAC0E,MADjE,GACiE,MAD7DgX,oBAC6D,SAChFC,EAAQ,IAAIxU,IAAUd,GAC5B,OAAIsV,EAAMC,GAAG,IAAIzU,IAAU,KAAOuU,EAE9B,yBAAK3F,MAAO,CAAEE,QAAS,EAAGwC,QAAS,KACjC,0BAAM1C,MAAO,CAAEC,SAAU,KAAOe,GAChC,0BAAMhB,MAAO,CAAEC,SAAU,KAAO2F,EAAME,WAAWzU,QAAQ,IACzD,0BAAM2O,MAAO,CAAEC,SAAU,KAAOtR,IAI/B,yBAAKqR,MAAO,CAAEE,QAAS,EAAGwC,QAAS,OCF7BqD,I,+JCZKC,WAAOhK,IAAV,M,gICwBFiK,OAhBf,YAAgE,IAA1CC,EAAyC,EAAzCA,KAAMC,EAAmC,EAAnCA,QAASC,EAA0B,EAA1BA,QAC7BhX,EAAQ2T,qBACd,OACE,kBAACsD,GAAD,CAAiBjX,MAAOA,GACtB,kBAAC,WAAD,CACE+W,QAASA,EACTG,SAAUF,IAEZ,0BAAMpG,MAAO,CAAEc,OAAQ,QACpBoF,GAEH,+BAOAG,GAAkBL,WAAOhK,IAAV,MAGV,SAACuK,GAAD,OAAWA,EAAMnX,MAAMoX,2BCMnBC,GA1BS,SAAC,GAEI,IAD3BC,EAC0B,EAD1BA,eAAgBC,EACU,EADVA,gBAAiBC,EACP,EADOA,YAE3BC,EAAQF,EAAgBpK,UAAUmK,GAExC,OACE,yBAAK1G,MAAO,CAAEE,QAAS,KAAM8B,QAAS,OAAQ0C,SAAU,OAAQC,WAAY,WAC1E,yBAAK3E,MAAO,CAAE4E,UAAW,QACvB,kBAAC,GAAD,CAAcO,MAAM,YAAY9I,QAASwK,EAAOzB,OAAQ,UAE1D,yBAAKpF,MAAO,CAAE4E,UAAW,QACvB,kBAAC,GAAD,CAAcO,MAAM,gBAAgB9I,QAASqK,EAAgBtB,OAAQ,SAEvE,yBAAKpF,MAAO,CAAE4E,UAAW,QACvB,kBAAC,GAAD,CAAcO,MAAM,iBAAiB9I,QAASsK,EAAiBvB,OAAQ,UAEzE,yBAAKpF,MAAO,CAAE4E,UAAW,QACvB,oCACE,kBAAC,GAAD,CAAc5D,MAAM,mBAAmBgE,QAAS4B,QCH3CE,OAff,YAAsD,IAAhC7F,EAA+B,EAA/BA,KAAMiF,EAAyB,EAAzBA,KAC1B,OACE,oCACE,yBAAKlG,MAAO,CAAEE,QAAS,KAAM8B,QAAS,OAAQ2C,WAAY,WACxD,yBAAK3E,MAAO,CAAEkC,YAAa,KAAMjC,SAAU,KACxCgB,GAEH,6BACE,kBAAC,SAAD,CAAQL,QAASsF,QCyE3B,SAAS7B,GAAT,GAEoB,IADlB9B,EACiB,EADjBA,MAAO+B,EACU,EADVA,YAAarD,EACH,EADGA,KAAM8F,EACT,EADSA,KAE1B,OACE,kBAAC,WAAD,CAAUA,KAAMA,EAAM/G,MAAO,CAAEa,MAAO,SACpC,kBAAC,MAAD,KACE,yBAAKb,MAAO,CAAEE,QAAS,GAAID,SAAU,KAClCsC,GAEH,0BAAMvC,MAAO,CAAEC,SAAU,KACtBgB,GAGH,yBAAKjB,MAAO,CAAE2D,WAAY,EAAGjB,QAAS,KACnC,IACA4B,EACA,OAQI0C,OAxGf,YAAgD,IAAzBhJ,EAAwB,EAAxBA,KAAwB,EACDC,mBAAS,IAAI7M,IAAU,IADtB,mBACtCsV,EADsC,KACtBO,EADsB,OAEChJ,mBAAS,IAAI7M,IAAU,IAFxB,mBAEtCuV,EAFsC,KAErBO,EAFqB,KA+B7C,OA3BA9I,qBAAU,WACR,IAAIC,GAAc,EADJ,SAGCC,IAHD,2EAGd,kCAAAjP,EAAA,sEAGY2H,QAAQC,IAAI,CACpBrD,GAAgBhF,EAAUL,GAC1BqF,GAAgBpF,EAAKC,KAAMF,KAL/B,mCAEIsQ,EAFJ,KAEuBsI,EAFvB,KAQO9I,IACH4I,EAAkBrL,GAAeiD,EAAmBjQ,IACpDsY,EAAmBtL,GAAeuL,EAAoB3Y,EAAKE,YAV/D,4CAHc,sBAiBd4P,IACA,IAAMC,EAAKC,YAAYF,EAAgB,MAGvC,OAAO,WACLD,GAAc,EACdI,cAAcF,MAEf,CAACP,IAGF,oCACE,kBAAC,GAAD,CAAYiD,KAAM,uBAAG6D,UAAU,wBAAyBoB,KAAK,UAE7D,kBAAC,GAAD,CACEQ,eAAgBA,EAChBC,gBAAiBA,EACjBC,YAAarY,IAGf,yBAAKyR,MAAO,CAAEE,QAAS,KAAM8B,QAAS,OAAQ0C,SAAU,OAAQC,WAAY,WAC1E,yBAAK3E,MAAO,CAAE4E,UAAW,MAAO1C,YAAa,KAAMO,WAAY,OAC7D,kBAAC,GAAD,CACEF,MAAM,OACN+B,YAAY,4BACZrD,KAAM,uBAAG6D,UAAU,sBACnBiC,KAAM,0EAIV,yBAAK/G,MAAO,CAAE4E,UAAW,QACvB,kBAAC,GAAD,CACErC,MAAM,QACN+B,YAAY,0BACZrD,KAAM,uBAAG6D,UAAU,wBACnBiC,KAAM,sJAIV,yBAAK/G,MAAO,CAAE4E,UAAW,MAAOnC,WAAY,KAAMP,YAAa,OAC7D,kBAAC,GAAD,CACEK,MAAM,SACN+B,YAAY,+BACZrD,KAAM,uBAAG6D,UAAU,iBACnBiC,KAAM,2HCnDHK,OAjBf,YAAwE,IAAlD7F,EAAiD,EAAjDA,QAASnS,EAAwC,EAAxCA,MAAOiY,EAAiC,EAAjCA,YAMpC,OACE,kBAAC,SAAD,CACEpG,KAAgB,SAAV7R,EAAmB,kBAAC,WAAD,MAAe,kBAAC,iBAAD,MACxCiS,QARsB,WACDgG,EAAT,UAAVjY,EAA+B,OAClB,UAOf4R,MAAM,GACNqB,UAAWd,KCiCjB,SAAS+F,GAAT,GAEmB,IADjBrG,EACgB,EADhBA,KAAM8F,EACU,EADVA,KAEN,OACE,kBAAC,WAAD,CAAUA,KAAMA,EAAM/G,MAAO,CAACyC,WAAY,MAAOP,YAAa,QAC5D,0BAAMlC,MAAO,CAAEC,SAAU,KAAOgB,IAKvBsG,OArDf,YAA6D,IAA5CF,EAA2C,EAA3CA,YAAajY,EAA8B,EAA9BA,MAAOmS,EAAuB,EAAvBA,QAC7BuB,EAAeC,qBAErB,OACE,oCACE,yBAAK/C,MAAO,CACVuD,UAAW,aAAeT,EAAaU,OACvCC,gBAAiBX,EAAa0E,QAC9BrF,UAAW,SACX1F,SAAU,QACVgL,KAAM,IACNC,OAAQ,IACRvG,OAAQ,OACRN,MAAO,OACPZ,SAAU,SAEV,yBAAKD,MAAO,CAAC0D,SAAU,SAAUjB,WAAY,OAAQP,YAAa,SAChE,yBAAKlC,MAAO,CAAEE,QAAS,KAAM8B,QAAS,SACpC,yBAAKhC,MAAO,CAAEa,MAAO,MAAOsB,UAAW,SACrC,kBAACmF,GAAD,CAAYrG,KAAM,uBAAG6D,UAAU,kBAAmBiC,KAAM,gDACxD,kBAACO,GAAD,CAAYrG,KAAM,uBAAG6D,UAAU,mBAAoBiC,KAAM,0CACzD,kBAACO,GAAD,CAAYrG,KAAM,uBAAG6D,UAAU,kBAAmBiC,KAAM,0CACxD,kBAACO,GAAD,CAAYrG,KAAM,uBAAG6D,UAAU,oBAAqBiC,KAAM,oCAC1D,kBAACO,GAAD,CAAYrG,KAAM,uBAAG6D,UAAU,mBAAoBiC,KAAM,gCAE3D,yBAAK/G,MAAO,CAAEa,MAAO,MAAOsB,UAAW,QAAShB,OAAQ,OAAQwG,UAAW,OAAQC,aAAc,SAAjG,aACY,0BAAMC,KAAK,MAAMC,kBAAgB,cAAjC,sBADZ,kBAGA,yBAAK9H,MAAO,CAAEa,MAAO,KAAMsB,UAAW,QAASwF,UAAW,QACxD,kBAAC,GAAD,CAAkBpG,QAASA,EAASnS,MAAOA,EAAOiY,YAAaA,UCvB9DU,OATf,YAAqD,IAAhC/G,EAA+B,EAA/BA,MAAOkF,EAAwB,EAAxBA,KAC1B,OACE,oCACE,yBAAKlG,MAAO,CAAEC,SAAU,GAAIC,QAAS,IAAMc,GAC3C,yBAAKhB,MAAO,CAAEC,SAAU,GAAIC,QAAS,IAAMgG,KCM3C8B,GAAa,CAAC,WAAY,SAAU,UAE1C,SAASvG,GAAOwG,EAAeC,GAC7B,OAAOF,GAAWC,IAAoC,IAAlBA,EAAsB,GAAK,UAAYC,GAG7E,IAuBeC,GAvBW,SAAC,GAAD,IACxBC,EADwB,EACxBA,kBAAmBC,EADK,EACLA,mBAAoBC,EADf,EACeA,gBAAiBC,EADhC,EACgCA,qBAAsBC,EADtD,EACsDA,qBAAsBP,EAD5E,EAC4EA,cAAeC,EAD3F,EAC2FA,SAD3F,OAGxB,yBAAKlI,MAAO,CAAEE,QAAS,KAAM8B,QAAS,OAAQ0C,SAAU,OAAQC,WAAY,WAC1E,yBAAK3E,MAAO,CAAE4E,UAAW,QACvB,kBAAC,GAAD,CAAcO,MAAM,UAAU9I,QAAS+L,EAAmBhD,OAAQ,UAEpE,yBAAKpF,MAAO,CAAE4E,UAAW,QACvB,kBAAC,GAAD,CAAcO,MAAM,SAAS9I,QAASkM,EAAuBnD,OAAQ,UAEvE,yBAAKpF,MAAO,CAAE4E,UAAW,QACvB,kBAAC,GAAD,CAAcO,MAAM,SAAS9I,QAASmM,EAAsBpD,OAAQ,UAEtE,yBAAKpF,MAAO,CAAE4E,UAAW,QACvB,kBAAC,GAAD,CAAcO,MAAM,gBAAgB9I,QAASD,GAAUiM,EAAoBC,GAAmBlD,OAAQ,OAExG,yBAAKpF,MAAO,CAAE4E,UAAW,QACvB,kBAAC,GAAD,CAAW5D,MAAM,SAASkF,KAAMzE,GAAOwG,EAAeC,QCC7CO,OA3Bf,YAA4F,IAAlEtV,EAAiE,EAAjEA,MAAOuV,EAA0D,EAA1DA,OAAQC,EAAkD,EAAlDA,UAAkD,IAAvCtG,gBAAuC,SACzF,OACE,oCACE,kBAAC,YAAD,CACEtI,KAAK,SACL6O,kBAAkB,MAClBD,UAAWA,EACX5H,MAAI,EACJ5N,MAAOA,EAAM0V,aAAe,GAAK1V,EAAM9B,UACvCiV,SAAU,SAAC5N,GACLA,EAAMoQ,OAAO3V,MACfuV,EAAO,IAAItX,IAAUsH,EAAMoQ,OAAO3V,QAElCuV,EAAO,IAAItX,KAAW,KAG1B2X,OAAQ,WACF5V,EAAM0V,cACRH,EAAO,IAAItX,IAAU,KAGzBiR,SAAUA,MCgGH2G,OA7Gf,YAE0B,IADxBhL,EACuB,EADvBA,KAAM3B,EACiB,EADjBA,QAASjI,EACQ,EADRA,UAAWuK,EACH,EADGA,cAAe8C,EAClB,EADkBA,OAClB,EACmBxD,mBAAS,IAAI7M,IAAU,IAD1C,mBAChB6X,EADgB,KACDC,EADC,OAEqBjL,mBAAS,IAAI7M,IAAU,IAF5C,mBAEhB+X,EAFgB,KAEAC,EAFA,KAIvB,OACE,kBAAC,MAAD,CAAKC,QAAQ,SAC4B,IAAtCjV,EAAUkV,WAAWjW,IACpB,yBAAK2M,MAAO,CAACgC,QAAS,OAAQ0C,SAAU,SAEtC,yBAAK1E,MAAO,CAAC4E,UAAW,QACtB,kBAAC,GAAD,CAAcO,MAAM,SAAS9I,QAASsC,EAAeyG,OAAQ,SAG/D,yBAAKpF,MAAO,CAAC4E,UAAW,MAAOjB,WAAY,OACzC,yBAAK3D,MAAO,CAACgC,QAAS,SACpB,yBAAKhC,MAAO,CAACa,MAAO,MAAO0I,SAAU,QACnC,oCACE,kBAAC,GAAD,CACEZ,UAAU,MACVxV,MAAO8V,EACPP,OAAQQ,EACR7G,SAAqB,IAAXZ,IAEZ,kBAAC,GAAD,CACEJ,QAAS,WACP6H,EAAiB7M,QAKzB,yBAAK2D,MAAO,CAACa,MAAO,MAAO0I,SAAU,QACnC,kBAAC,SAAD,CACExI,MAAI,EACJE,KAAiB,IAAXQ,EAAe,kBAAC,iBAAD,MAAoB,kBAAC,WAAD,MACzCT,MAAM,UACNK,QAAS,WACPnQ,EACErC,EACAwM,GAAa4N,EAAera,KAGhCyT,SAAqB,IAAXZ,IAAiBxF,GAAMgN,IAAkBA,EAAcO,cAAcnN,QAKvF,yBAAK2D,MAAO,CAAC4E,UAAW,QAExB,yBAAK5E,MAAO,CAAC4E,UAAW,MAAOjB,WAAY,OACzC,yBAAK3D,MAAO,CAACgC,QAAS,SACpB,yBAAKhC,MAAO,CAACa,MAAO,MAAO0I,SAAU,QACnC,oCACE,kBAAC,GAAD,CACEZ,UAAU,MACVxV,MAAOgW,EACPT,OAAQU,EACR/G,SAAqB,IAAXZ,IAEZ,kBAAC,GAAD,CACEJ,QAAS,WACP+H,EAAkBzK,QAK1B,yBAAKqB,MAAO,CAACa,MAAO,MAAO0I,SAAU,QACnC,kBAAC,SAAD,CACExI,MAAI,EACJE,KAAiB,IAAXQ,EAAe,kBAAC,kBAAD,MAAqB,kBAAC,WAAD,MAC1CT,MAAM,WACNK,QAAS,WACP/P,EACEzC,EACAwM,GAAa8N,EAAgBva,KAGjCyT,SAAqB,IAAXZ,IAAiBxF,GAAMkN,IAAmBA,EAAeK,cAAc7K,SAO3F,yBAAKqB,MAAO,CAACgC,QAAS,OAAQ0C,SAAU,SAEtC,yBAAK1E,MAAO,CAAC4E,UAAW,QACtB,kBAAC,GAAD,CAAcO,MAAM,SAAS9I,QAASsC,EAAeyG,OAAQ,SAE/D,yBAAKpF,MAAO,CAAC4E,UAAW,SAExB,yBAAK5E,MAAO,CAAC4E,UAAW,MAAOjB,WAAY,OACzC,kBAAC,SAAD,CACE5C,MAAI,EACJE,KAAM,kBAAC,iBAAD,MACND,MAAM,UACNK,QAAS,WACPlR,EAAQvB,EAAUC,IAEpBwT,SAAmB,KAATrE,QCTTyL,OA5Ff,YAEqB,IADnBC,EACkB,EADlBA,OAAQC,EACU,EADVA,OAAQlI,EACE,EADFA,OAAQmI,EACN,EADMA,OACN,EACkB3L,mBAAS,IAAI7M,IAAU,IADzC,mBACXyY,EADW,KACCC,EADD,OAEsB7L,mBAAS,IAAI7M,IAAU,IAF7C,mBAEX2Y,EAFW,KAEGC,EAFH,KAIlB,OACE,kBAAC,MAAD,CAAKX,QAAQ,QACX,yBAAKrJ,MAAO,CAACgC,QAAS,OAAQ0C,SAAU,SAEtC,yBAAK1E,MAAO,CAAC4E,UAAW,QACtB,kBAAC,GAAD,CAAcO,MAAM,SAAS9I,QAASsN,EAAQvE,OAAQ,SAGxD,yBAAKpF,MAAO,CAAC4E,UAAW,QACtB,kBAAC,GAAD,CAAW5D,MAAM,cAAckF,KAAiB,IAAX0D,EAAe,GAAgB,IAAXA,EAAe,UAAf,UAA8BA,EAA9B,cAG3D,yBAAK5J,MAAO,CAAC4E,UAAW,MAAOjB,WAAY,OACzC,yBAAK3D,MAAO,CAACgC,QAAS,SACpB,yBAAKhC,MAAO,CAACa,MAAO,MAAO0I,SAAU,QACnC,oCACE,kBAAC,GAAD,CACEZ,UAAU,MACVxV,MAAO0W,EACPnB,OAAQoB,IAEV,kBAAC,GAAD,CACEzI,QAAS,WACPyI,EAAcJ,QAKtB,yBAAK1J,MAAO,CAACa,MAAO,MAAO0I,SAAU,QACnC,kBAAC,SAAD,CACExI,MAAI,EACJE,KAAiB,IAAXQ,EAAe,kBAAC,iBAAD,MAAoB,kBAAC,cAAD,MACzCT,MAAM,OACNK,QAAS,WACP9P,EACE1C,EACAwM,GAAawO,EAAYjb,KAG7ByT,SAAqB,IAAXZ,IAAiBxF,GAAM4N,IAAeA,EAAWL,cAAcE,QAKjF,yBAAK1J,MAAO,CAACa,MAAO,QAEpB,yBAAKb,MAAO,CAAC4E,UAAW,MAAOjB,WAAY,OACzC,yBAAK3D,MAAO,CAACgC,QAAS,SACpB,yBAAKhC,MAAO,CAACa,MAAO,MAAO0I,SAAU,QACnC,oCACE,kBAAC,GAAD,CACEZ,UAAU,MACVxV,MAAO4W,EACPrB,OAAQsB,IAEV,kBAAC,GAAD,CACE3I,QAAS,WACP2I,EAAgBL,QAKxB,yBAAK3J,MAAO,CAACa,MAAO,MAAO0I,SAAU,QACnC,kBAAC,SAAD,CACExI,MAAI,EACJE,KAAiB,IAAXQ,EAAe,kBAAC,kBAAD,MAAqB,kBAAC,cAAD,MAC1CT,MAAM,SACNK,QAAS,WACP7P,EACE3C,EACAwM,GAAa0O,EAAcnb,KAG/ByT,SAAqB,IAAXZ,IAAiBxF,GAAM8N,IAAiBA,EAAaP,cAAcG,SAMvF,yBAAK3J,MAAO,CAACa,MAAO,OAAQ8C,WAAY,KAAMxB,UAAW,WACvD,0BAAMnC,MAAO,CAAE0C,QAAS,KAAxB,qDCyBOuH,OA/Gf,YAA2C,IAAzBjM,EAAwB,EAAxBA,KACRkM,EAAaC,cAAbD,SACJA,IACFlM,EAAOkM,GAH+B,MAMIjM,mBAAS,IAAI7M,IAAU,IAN3B,mBAMjCgZ,EANiC,KAMjBC,EANiB,OAOQpM,mBAAS,IAAI7M,IAAU,IAP/B,mBAOjCkZ,EAPiC,KAOfC,EAPe,OAQMtM,mBAAS,IAAI7M,IAAU,IAR7B,mBAQjCoZ,EARiC,KAQhBC,EARgB,OASMxM,mBAAS,IAAI7M,IAAU,IAT7B,mBASjCkX,EATiC,KAShBoC,EATgB,OAUUzM,mBAAS,IAAI7M,IAAU,IAVjC,mBAUjCiO,EAViC,KAUdsL,EAVc,OAWU1M,mBAAS,IAAI7M,IAAU,IAXjC,mBAWjCkO,EAXiC,KAWdsL,EAXc,OAYJ3M,mBAAS,GAZL,mBAYjC4M,EAZiC,KAYrBC,EAZqB,OAaY7M,mBAAS,GAbrB,mBAajC8M,EAbiC,KAabC,EAba,OAcZ/M,mBAAS,GAdG,mBAcjC2L,EAdiC,KAczBqB,EAdyB,KA+ExC,OA9DA7M,qBAAU,WACR,GAAa,KAATJ,EAQF,OAPAqM,EAAkB,IAAIjZ,IAAU,IAChCmZ,EAAoB,IAAInZ,IAAU,IAClCqZ,EAAmB,IAAIrZ,IAAU,IACjCsZ,EAAmB,IAAItZ,IAAU,IACjCuZ,EAAqB,IAAIvZ,IAAU,IACnCwZ,EAAqB,IAAIxZ,IAAU,SACnC0Z,EAAc,GAGhB,IAAIzM,GAAc,EAXJ,SAaCC,IAbD,2EAad,kEAAAjP,EAAA,sEAIY2H,QAAQC,IAAI,CACpBrD,GAAgBhF,EAAUoP,GAC1B7J,GAAkBvF,EAAUoP,EAAMnP,GAClC+E,GAAgB/E,EAAWmP,GAC3B/J,GAAoBpF,GACpB0F,GAAmB1F,EAAWmP,GAC9B3J,GAAiBxF,EAAWmP,GAC5BvJ,GAAY5F,EAAWmP,GACvBL,KAEAhJ,GAAc9F,EAAWmP,GACzBnJ,GAAehG,EAAWmP,KAf9B,oCAEIU,EAFJ,KAEgBwM,EAFhB,KAE8BC,EAF9B,KAE2CC,EAF3C,KAEuDzM,EAFvD,KAEsEC,EAFtE,KAEqF6C,EAFrF,KAE6F3D,EAF7F,KAGIuN,EAHJ,KAGmBC,EAHnB,KAkBQlB,EAAiBxO,GAAe8C,EAAY9P,GAC5C4b,EAAkB5O,GAAeuP,EAAatc,GAC9CyZ,EAAkB1M,GAAewP,EAAYvc,GAC7CwQ,EAAoBzD,GAAe+C,EAAe9P,GAClDyQ,EAAoB1D,GAAegD,EAAe/P,GAClDgc,EAAa1P,SAASsG,EAAQ,IAC9B7M,EAAauG,SAASkQ,EAAe,IACrCvW,EAAcqG,SAASmQ,EAAgB,IAExCjN,IACHgM,EAAkB,IAAIjZ,IAAUgZ,IAChCG,EAAoB,IAAInZ,IAAU8Z,IAClCT,EAAmB,IAAIrZ,IAAUoZ,IACjCE,EAAmB,IAAItZ,IAAUkX,IACjCqC,EAAqB,IAAIvZ,IAAUiO,IACnCuL,EAAqB,IAAIxZ,IAAUkO,IACnCwL,EAAcD,GACdG,EAAsBxN,KAAK+N,IAAI3W,EAAYE,IAC3CmW,EAAUnN,IAAgBxP,E1BhFI,G0BgFmC,IApCrE,6CAbc,sBAoDdgQ,IACA,IAAMC,EAAKC,YAAYF,EAAgB,MAGvC,OAAO,WACLD,GAAc,EACdI,cAAcF,MAEf,CAACP,IAGF,oCACE,kBAAC,GAAD,CAAYiD,KAAM,uBAAG6D,UAAU,sBAAuBoB,KAAK,QAE3D,kBAAC,GAAD,CACEkC,kBAAmBgC,EACnB/B,mBAAoBmC,EACpBlC,gBAAiBA,EACjBC,qBAAsBlJ,EACtBmJ,qBAAsBlJ,EACtB2I,cAAe4C,EACf3C,SAAU6C,IAGZ,kBAAC,GAAD,CACE/M,KAAMA,EACN3B,QAAS+N,EACThW,UAAWkW,EACX3L,cAAeU,EACfoC,OAAQoJ,IAGV,kBAAC,GAAD,CACEnB,OAAQrK,EACRsK,OAAQrK,EACRmC,OAAQoJ,EACRjB,OAAQA,MCzGD4B,OAZf,YAAwD,IAAjCjJ,EAAgC,EAAhCA,MAAOkJ,EAAyB,EAAzBA,IACtBC,EAAS,IAAIta,IAAUqa,GAAK3F,WAElC,OACE,oCACE,yBAAK9F,MAAO,CAAEC,SAAU,GAAIC,QAAS,IAAMqC,GAC3C,yBAAKvC,MAAO,CAAEC,SAAU,GAAIC,QAAS,IAAMwL,KC8BlCC,OA/Bf,YAIuB,IAHrB3N,EAGoB,EAHpBA,KACArM,EAEoB,EAFpBA,MACAsD,EACoB,EADpBA,UAEA,OACE,kBAAC,MAAD,CAAKoU,QAAQ,iBACX,yBAAKrJ,MAAO,CAAEgC,QAAS,SAErB,yBAAKhC,MAAO,CAAEa,MAAO,QACnB,kBAAC,GAAD,CAAa0B,MAAM,4BAA4BkJ,IAAKxW,KAGtD,yBAAK+K,MAAO,CAAEa,MAAO,SACrB,yBAAKb,MAAO,CAAEa,MAAO,MAAO8C,WAAY,OACtC,kBAAC,SAAD,CACE5C,MAAI,EACJE,KAAM,kBAAC,iBAAD,MACND,MAAM,UACNK,QAAS,WACPtQ,EAAQlC,IAEVwT,SAAmB,KAATrE,GAAerM,GAASsD,QCT/B2W,GAjBS,SAAC,GAAD,IACtBja,EADsB,EACtBA,MAAOsD,EADe,EACfA,UADe,OAGtB,yBAAK+K,MAAO,CAAEE,QAAS,KAAM8B,QAAS,OAAQ2C,WAAY,WACxD,yBAAK3E,MAAO,CAAEa,MAAO,QACnB,kBAAC,GAAD,CAAa0B,MAAM,UAAUkJ,IAAK9Z,KAEpC,yBAAKqO,MAAO,CAAEa,MAAO,QACnB,kBAAC,GAAD,CAAa0B,MAAM,YAAYkJ,IAAKxW,KAEtC,yBAAK+K,MAAO,CAAEa,MAAO,QACnB,kBAAC,GAAD,CAAWG,MAAM,SAASkF,KAAMvU,EAAQ,IAAM,WAAa,eCqClDka,OAhDf,YAAgD,IAAzB7N,EAAwB,EAAxBA,KAAwB,EAEnBC,mBAAS,GAFU,mBAEtCtM,EAFsC,KAE/Bma,EAF+B,OAGX7N,mBAAS,GAHE,mBAGtChJ,EAHsC,KAG3BwP,EAH2B,KA4B7C,OAxBArG,qBAAU,WACR,IAAIC,GAAc,EADJ,SAGCC,IAHD,2EAGd,kCAAAjP,EAAA,sEACyC2H,QAAQC,IAAI,CACjDlC,GAASlG,GACTmG,GAAanG,KAHjB,mCACSkd,EADT,KACmBC,EADnB,KAMO3N,IACHyN,EAAS3Q,SAAS4Q,EAAU,KAC5BtH,EAAatJ,SAAS6Q,EAAc,MARxC,4CAHc,sBAcd1N,IACA,IAAMC,EAAKC,YAAYF,EAAgB,MAGvC,OAAO,WACLD,GAAc,EACdI,cAAcF,MAEf,CAACP,IAGF,oCACE,kBAAC,GAAD,CAAYiD,KAAM,uBAAG6D,UAAU,kBAAmBoB,KAAK,UAEvD,kBAAC,GAAD,CACEvU,MAAOA,EACPsD,UAAWA,IAGb,kBAAC,SAAD,CAAQ2L,QAAQ,kBAEhB,kBAAC,GAAD,CACE5C,KAAMA,EACNrM,MAAOA,EACPsD,UAAWA,MCfJgX,GAvBY,SAAC,GAAD,IACzBC,EADyB,EACzBA,KAAMC,EADmB,EACnBA,OAAQrT,EADW,EACXA,QAASsT,EADE,EACFA,QAASC,EADP,EACOA,WADP,OAGzB,yBAAKrM,MAAO,CAAEE,QAAS,KAAM8B,QAAS,OAAQ0C,SAAU,OAAQC,WAAY,WAC1E,yBAAK3E,MAAO,CAAE4E,UAAW,QACvB,kBAAC,GAAD,CAAcO,MAAM,aAAa9I,QAASD,GAAU8P,EAAMC,GAAS/G,OAAQ,OAE7E,yBAAKpF,MAAO,CAAE4E,UAAW,QACvB,kBAAC,GAAD,CAAcO,MAAM,aAAa9I,QAAS6P,EAAM9G,OAAQ,SAE1D,yBAAKpF,MAAO,CAAE4E,UAAW,QACvB,kBAAC,GAAD,CAAcO,MAAM,UAAU9I,QAASvD,KAEzC,yBAAKkH,MAAO,CAAE4E,UAAW,QACvB,kBAAC,GAAD,CAAcO,MAAM,UAAU9I,QAAS+P,EAAQ9P,aAAa,KAAM8I,OAAQ,OAE5E,yBAAKpF,MAAO,CAAE4E,UAAW,QACvB,kBAAC,GAAD,CAAcO,MAAM,aAAa9I,QAASgQ,OCmFjCC,OA3Ff,YAE0B,IADxBtO,EACuB,EADvBA,KAAM3B,EACiB,EADjBA,QAASjI,EACQ,EADRA,UAAW8X,EACH,EADGA,KACH,EACqBjO,mBAAS,IAAI7M,IAAU,IAD5C,mBAChBmb,EADgB,KACAC,EADA,OAEOvO,mBAAS,IAAI7M,IAAU,IAF9B,mBAEhBgb,EAFgB,KAEPK,EAFO,KAIjBC,EAAa,uCAAG,WAAOH,GAAP,mBAAAld,EAAA,0DAChBkd,EAAeI,IAAI,IAAIvb,IAAU,IADjB,uBAElBqb,EAAW,IAAIrb,IAAU,IAFP,iCAKdwb,EAAqBvR,GAAakR,EAAgB3d,GALpC,SAMEyI,GAAiBxI,EAAW+d,GAN9B,OAMdR,EANc,OAOdS,EAAmBjR,GAAewQ,EAASxd,GACjD6d,EAAWI,GARS,2CAAH,sDAWnB,OACE,kBAAC,MAAD,CAAKxD,QAAQ,YAC4B,IAAtCjV,EAAUkV,WAAWjW,IACpB,yBAAK2M,MAAO,CAACgC,QAAS,OAAQ0C,SAAU,SAEtC,yBAAK1E,MAAO,CAAC4E,UAAW,QACtB,kBAAC,GAAD,CAAcO,MAAK,UAAa9I,QAASA,EAAS+I,OAAQ,UAE5D,yBAAKpF,MAAO,CAAC4E,UAAW,SAExB,yBAAK5E,MAAO,CAAC4E,UAAW,MAAOjB,WAAY,OACzC,yBAAK3D,MAAO,CAACgC,QAAS,SACpB,yBAAKhC,MAAO,CAACa,MAAO,MAAO0I,SAAU,QACnC,oCACE,kBAAC,GAAD,CACEZ,UAAU,MACVxV,MAAOoZ,EACP7D,OAAQ,SAACvV,GACPqZ,EAAkBrZ,GAClB8I,GAAM9I,GAASuZ,EAAcvZ,GAASuZ,EAAc,IAAItb,IAAU,OAGtE,kBAAC,GAAD,CACEiQ,QAAS,WACP,IAAMyL,EAAoBZ,EAAK5C,WAAWjN,GAAW,EAAIA,EAAU6P,EACnEM,EAAkBM,GAClBJ,EAAcI,QAKtB,yBAAK9M,MAAO,CAACa,MAAO,MAAO0I,SAAU,QACnC,kBAAC,SAAD,CACExI,MAAI,EACJE,KAAM,kBAAC,kBAAD,MACND,MAAM,OACNK,QAAS,WACP5P,EACE5C,EACAwM,GAAakR,EAAgB3d,KAGjCyT,SAAmB,KAATrE,GAAekO,EAAKhQ,UAAYG,EAAQH,WAAaD,GAAMsQ,OAI3E,kBAAC,GAAD,CAAcvL,MAAM,WAAW1Q,IAAKic,EAAexT,KAAKqT,OAI5D,yBAAKpM,MAAO,CAACgC,QAAS,OAAQ0C,SAAU,SAEtC,yBAAK1E,MAAO,CAAC4E,UAAW,QACtB,kBAAC,GAAD,CAAcO,MAAK,oBAAoB9I,QAASA,KAElD,yBAAK2D,MAAO,CAAC4E,UAAW,SAExB,yBAAK5E,MAAO,CAAC4E,UAAW,MAAOjB,WAAY,OACzC,kBAAC,SAAD,CACE5C,MAAI,EACJE,KAAM,kBAAC,iBAAD,MACND,MAAM,UACNK,QAAS,WACPlR,EAAQvB,EAAUC,IAEpBwT,SAAmB,KAATrE,QCjBT+O,OAvEf,YAE0B,IADxB/O,EACuB,EADvBA,KAAMgP,EACiB,EADjBA,aAAc3X,EACG,EADHA,gBACG,EACK4I,mBAAS,IADd,mBAChBpH,EADgB,KACRoW,EADQ,OAEChP,mBAAS,GAFV,mBAEhB+E,EAFgB,KAEVC,EAFU,OAGehF,oBAAS,GAHxB,mBAGhBiP,EAHgB,KAGHC,EAHG,KAsCvB,OAhCA/O,qBAAU,WACR,GAAa,KAATJ,EAAJ,CACA,IAAIK,GAAc,EAoBlBC,IACA,IAAMC,EAAKC,YAAYF,EAAgB,MAGvC,OAAO,WACLD,GAAc,EACdI,cAAcF,IA5BF,SAICD,IAJD,2EAId,oCAAAjP,EAAA,sEACiCqI,GAAgB7I,EAAWmP,GAD5D,cACQoP,EADR,OAEQC,EAAeD,EAAiBrW,KAAI,SAAAqB,GAAC,OAAI+C,SAAS/C,EAAEzG,UAF5D,SAGiCiF,GAAyB/H,EAAWmP,EAAMqP,GAH3E,cAGQ1W,EAHR,gBAImCS,GAA0BvI,EAAWwe,GAJxE,OAIQC,EAJR,OAMQ9U,EAAe4U,EAAiBrW,KAAI,SAACpF,EAAOoL,GAGhD,OAFApL,EAAM0K,QAAU,IAAIjL,IAAUuF,EAAiBoG,IAC/CpL,EAAM4b,WAAaD,EAAmBvQ,GAC/BpL,KAGJ0M,IAEH4O,EAAUzU,GACV2U,GAAe,IAfnB,6CAJc,yBA8Bb,CAACnP,EAAM3I,IAGR,kBAAC,WAAD,CACEmY,OAAQ,CAAC,QAAS,YAAa,UAAW,UAAW,IACrD/L,OAASyL,EAAc,UAAY,UAEnCO,QAAST,EAAenW,EAAOgB,QAAO,SAAClG,GAAD,OAAYA,EAAM0K,QAAQH,YAAYrF,EAC5E6W,eAAgB,GAChB1K,KAAMA,EACN2K,aAAc1K,EACd2K,YAAa,SAACjc,GAAD,MAAW,CACtBA,EAAMA,MAAMyJ,WACZoB,GAASZ,GAAejK,EAAMmH,QAASlK,GAAe,GACtD4N,GAASZ,GAAejK,EAAM0K,QAASzN,GAAe,GACtD+C,EAAM4b,WAAWnS,WACjB,kBAAC,SAAD,CACE6F,KAAM,kBAAC,iBAAD,MACND,MAAM,SACNK,QAAS,kBAAM3P,EACb7C,EACA8C,EAAMA,MACNA,EAAM0K,QAAQmN,cAAcnO,GAAahG,EAAiBzG,IACtDyM,GAAahG,EAAiBzG,GAC9B+C,EAAM0K,UAEZgG,SAAU1Q,EAAM0K,QAAQH,gBC1BnB2R,OAlDf,WACE,IAAMC,EAAoBjb,EAAc,oBAAqB,KADvC,EAEgBoL,mBAA+B,MAAtB6P,GAFzB,mBAEfC,EAFe,KAEFC,EAFE,KAGhB5e,EAAQ2T,qBAEd,OACE,kBAAC,QAAD,CAAOxC,QAASwN,EAAaE,aAAa,GACxC,yBAAKjO,MAAO,CAAEa,MAAO,SACnB,yBAAKb,MAAO,CAAEC,SAAU,GAAIC,QAAS,EAAGgO,MAAO9e,EAAM+e,UAArD,WAIA,yBAAKnO,MAAO,CACVyC,WAAY,KACZxC,SAAU,GACVC,QAAS,IAET,4WASA,yBAAKF,MAAO,CACVE,QAAS,GACTiC,UAAW,SACX+L,MAAO9e,EAAMgf,wBAHf,wDlCzBuB,GkCyBvB,aAUF,yBAAKpO,MAAO,CAAEmC,UAAW,UACvB,kBAAC,SAAD,CACEnB,MAAO,eACPK,QAAS,WACPnO,GAAgB,oBAAqB,KACrC8a,GAAe,UCxBvBK,GAAa,IAAIjd,IAAU,IAAIkC,IAAI,IAyI1Bgb,OAvIf,YAAiD,IAAzBtQ,EAAwB,EAAxBA,KACdkM,EAAaC,cAAbD,SACJA,IACFlM,EAAOkM,GAGT,IAAMqE,EAAqB1b,EAAc,sBAAuB,KANlB,EAQhBoL,mBAAS,IAAI7M,IAAU,IARP,mBAQvCiL,EARuC,KAQ9BmS,EAR8B,OASZvQ,mBAAS,IAAI7M,IAAU,IATX,mBASvCgD,EATuC,KAS5Bqa,EAT4B,OAUlBxQ,mBAAS,IAAI7M,IAAU,IAVL,mBAUvC+a,EAVuC,KAU/BuC,EAV+B,OAWhBzQ,mBAAS,IAAI7M,IAAU,IAXP,mBAWvC0H,EAXuC,KAW9B6V,EAX8B,OAYV1Q,mBAAS,IAAI7M,IAAU,IAZb,mBAYvCib,EAZuC,KAY3BuC,EAZ2B,OAaJ3Q,mBAAS,IAAI7M,IAAU,IAbnB,mBAavCkG,EAbuC,KAaxBuX,EAbwB,OActB5Q,mBAAS,IAAI7M,IAAU,IAdD,mBAcvC8a,EAduC,KAcjC4C,EAdiC,OAeN7Q,mBAAgC,MAAvBsQ,GAfH,mBAevCvB,EAfuC,KAezB+B,EAfyB,KAyF9C,OAxEA3Q,qBAAU,WACR,GAAa,KAATJ,EAGF,OAFAwQ,EAAW,IAAIpd,IAAU,SACzBqd,EAAa,IAAIrd,IAAU,IAG7B,IAAIiN,GAAc,EANJ,SAQCC,IARD,2EAQd,oCAAAjP,EAAA,sEAC2C2H,QAAQC,IAAI,CACnDrD,GAAgBhF,EAAUoP,GAC1B7J,GAAkBvF,EAAUoP,EAAMnP,KAHtC,mCACSmgB,EADT,KACqBC,EADrB,KAMQ7P,EAAcxD,GAAeoT,EAAYpgB,GAE1CyP,IACHmQ,EAAW,IAAIpd,IAAUgO,IACzBqP,EAAa,IAAIrd,IAAU6d,IAC1B,IAAI7d,IAAU6d,IAXnB,4CARc,sBAsBd3Q,IACA,IAAMC,EAAKC,YAAYF,EAAgB,MAGvC,OAAO,WACLD,GAAc,EACdI,cAAcF,MAEf,CAACP,IAEJI,qBAAU,WACR,IAAIC,GAAc,EADJ,SAGCC,IAHD,2EAGd,gDAAAjP,EAAA,sEACgE2H,QAAQC,IAAI,CACxEhD,GAAoBrF,GACpBsG,GAAarG,GACbyG,GAAgBzG,GAChBuG,GAAmBvG,KALvB,sCACSqgB,EADT,KACoBC,EADpB,KAC6BC,EAD7B,KACyCC,EADzC,KAQQnb,EAAc0H,GAAesT,EAAWtgB,GACxCuG,EAAYyG,GAAeuT,EAASvgB,GACpC2G,EAAeqG,GAAewT,EAAYxgB,GAC1CyG,EAAkBuG,GAAeyT,EAAezgB,GAEjDyP,EAbP,oBAcIqQ,EAAU,IAAItd,IAAU8C,IACxB4a,EAAQ,IAAI1d,IAAU+D,IACtBwZ,EAAW,IAAIvd,IAAUmE,IACzBqZ,EAAc,IAAIxd,IAAUiE,KAExBF,EAAUqU,cAAc,IAAIpY,IAAU,IAnB9C,kCAoBqCiG,GAAiBxI,EAAWwf,IApBjE,QAoBYiB,EApBZ,OAqBMT,EAAiBjT,GAAe0T,EAAkB1gB,IArBxD,wBAuBMigB,EAAiB,IAAIzd,IAAU,IAvBrC,6CAHc,sBA8BdkN,IACA,IAAMC,EAAKC,YAAYF,EAAgB,MAGvC,OAAO,WACLD,GAAc,EACdI,cAAcF,MAEf,CAACP,IAGF,oCACE,kBAAC,GAAD,MAEA,kBAAC,GAAD,CAAYiD,KAAM,uBAAG6D,UAAU,sBAAuBoB,KAAK,kBAE3D,kBAAC,GAAD,CACEgG,KAAMA,EACNC,OAAQA,EACRrT,QAASA,EACTsT,QAAS9U,EACT+U,WAAYA,IAGd,kBAAC,SAAD,CAAQzL,QAAQ,aAEhB,kBAAC,GAAD,CACE5C,KAAMA,EACN5J,UAAWA,EACXiI,QAASA,EACT6P,KAAMA,IAGR,yBAAKlM,MAAO,CAAEgC,QAAS,SACrB,kBAAC,SAAD,CAAQpB,QAAQ,YAChB,yBAAKZ,MAAO,CAAEyC,WAAY,OAAQ8M,UAAW,aAC3C,kBAACC,GAAD,CACEtJ,KAAK,gBACLE,QAAS,SAACD,GACRjT,GAAgB,sBAAuBiT,EAAU,IAAM,KACvD4I,EAAgB5I,IAElBA,QAAS6G,MAKf,kBAAC,GAAD,CACEhP,KAAMA,EACNgP,aAAcA,EACd3X,gBAAiBgX,MC1InBrE,GAAa,CAAC,SAAU,QAAS,UAsBxByH,GApBU,SAAC,GAAD,IACvBC,EADuB,EACvBA,MAAOC,EADgB,EAChBA,WAAY1H,EADI,EACJA,cAAezQ,EADX,EACWA,eADX,OAGvB,yBAAKwI,MAAO,CAAEE,QAAS,KAAM8B,QAAS,OAAQ0C,SAAU,OAAQC,WAAY,WAC1E,yBAAK3E,MAAO,CAAE4E,UAAW,QACvB,kBAAC,GAAD,CAAcO,MAAM,gBAAgB9I,QAASD,GAAUsT,EAAOC,GAAavK,OAAO,OAEpF,yBAAKpF,MAAO,CAAE4E,UAAW,QACvB,kBAAC,GAAD,CAAcO,MAAM,qBAAqB9I,QAAS5I,GAA8B6I,aAAa,KAAM8I,OAAO,OAE5G,yBAAKpF,MAAO,CAAE4E,UAAW,QACvB,kBAAC,GAAD,CAAW5D,MAAM,SAASkF,KAAM8B,GAAWC,MAE7C,yBAAKjI,MAAO,CAAE4E,UAAW,QACvB,kBAAC,GAAD,CAAc5D,MAAM,iBAAiBgE,QAASxN,OC5B7C,SAASoY,GAAeje,EAAOuJ,EAAO2U,EAAQ3C,EAAa/c,EAAS2f,EAAQC,GACjF,OAAc,IAAV7U,EACK,MAELvJ,EAAQuJ,EACH,UAELvJ,EAASuJ,EAAQ2U,EACZ,SAEL3C,EACK,YAGLvb,EAASuJ,EAAQ2U,GAGjB1f,EAAQ4I,KAAK+W,GAAQvT,UAAUwT,GAAOzG,WAAW9V,IAAqB,EAFjE,WAKFrD,EAAQmZ,WAAWwG,GAAU,EAAI,WAAa,WAGhD,SAASE,GAAWN,EAAkBC,GAC3C,OAAOD,EAAM1T,IAAI2T,GAAYrG,WAAW7V,KAAkC,ECV5E,SAASwc,GAAmBpe,GAC1B,MAAQ,yBAAyBqe,KAAKre,GAiDzBse,OA9Cf,YAE2B,IADzBnS,EACwB,EADxBA,KAAM0R,EACkB,EADlBA,MAAOC,EACW,EADXA,WAAY1H,EACD,EADCA,cACD,EACUhK,mBAAS,MADnB,mBACjBpM,EADiB,KACNue,EADM,KAGxB,OACE,kBAAC,MAAD,CAAK/G,QAAQ,WACX,yBAAKrJ,MAAO,CAACgC,QAAS,OAAQ0C,SAAU,SAEtC,yBAAK1E,MAAO,CAAC4E,UAAW,MAAOjB,WAAY,OACzC,oCACE,kBAAC,YAAD,CACE5C,MAAI,EACJ5N,MAAOtB,EACPyU,SAAU,SAAC5N,GACLA,EAAMoQ,OAAO3V,MACfid,EAAa1X,EAAMoQ,OAAO3V,OAE1Bid,EAAa,WAMvB,yBAAKpQ,MAAO,CAAC4E,UAAW,QAExB,yBAAK5E,MAAO,CAAC4E,UAAW,MAAOjB,WAAY,OACzC,kBAAC,SAAD,CACE5C,MAAI,EACJE,KAAM,kBAAC,YAAD,MACND,MAAM,UACNK,QAAS,WACPzP,EACE/C,EACAgD,EACA,IAGJwQ,SAAmB,KAATrE,IAAgBgS,GAAWN,EAAOC,KAAgBM,GAAmBpe,IAAgC,IAAlBoW,Q,SC3B1FoI,G,mFAAf,WAA+B1e,EAAe2e,GAA9C,yBAAAjhB,EAAA,sEACkC4E,GAAoBpF,GADtD,cACQ0hB,EADR,gBAE6BvZ,QAAQC,IAAIqZ,EAAUvZ,KAAI,SAACyZ,GAAD,OAAOla,GAAiBzH,EAAW2hB,EAAE3e,eAF5F,cAEQ4e,EAFR,gBAGyBzZ,QAAQC,IAAIqZ,EAAUvZ,KAAI,SAACyZ,GAAD,OAAO1a,GAAcjH,EAAW2hB,EAAE3e,eAHrF,cAGQ6e,EAHR,iBAI0B1Z,QAAQC,IAAIqZ,EAAUvZ,KAAI,SAACyZ,GAAD,OAAOxa,GAAanH,EAAW2hB,EAAE3e,eAJrF,eAIQ8e,EAJR,iBAK0B3Z,QAAQC,IAAIqZ,EAAUvZ,IAAV,uCAAc,WAAOyZ,GAAP,eAAAnhB,EAAA,yDAC1CuhB,EAAMJ,EAAEtV,MAAQsV,EAAEX,OAAS,IAC7Ble,EAAQif,GAFoC,gCAGjChb,GAAiB/G,EAAW+hB,GAHK,wEAKzCL,GALyC,2CAAd,wDALtC,QAaE,IARMM,EALR,OAaW9T,EAAI,EAAGA,EAAIuT,EAAUvgB,OAAQgN,IACpCuT,EAAUvT,GAAG+T,MAASR,EAAUvgB,OAASgN,EACzCuT,EAAUvT,GAAG7B,MAAQC,SAASmV,EAAUvT,GAAG7B,OAC3CoV,EAAUvT,GAAG8S,OAAS1U,SAASmV,EAAUvT,GAAG8S,QAC5CS,EAAUvT,GAAG0E,OAASmO,GACpBje,EACA2e,EAAUvT,GAAG7B,MACboV,EAAUvT,GAAG8S,OACbY,EAAa1T,GACb,IAAI3L,IAAUsf,EAAS3T,IACvB,IAAI3L,IAAUuf,EAAU5T,IACxB,IAAI3L,IAAUyf,EAAU9T,KAxB9B,yBA2BSuT,GA3BT,6C,sBA0FeS,OA5Df,YAA0D,IAA/B/S,EAA8B,EAA9BA,KACnB4E,EAAUC,cADuC,EAErB5E,mBAAqB,IAFA,mBAEhDqS,EAFgD,KAErCU,EAFqC,OAG/B/S,mBAAS,GAHsB,mBAGhD+E,EAHgD,KAG1CC,EAH0C,OAIjBhF,oBAAS,GAJQ,mBAIhDiP,EAJgD,KAInCC,EAJmC,KA+BvD,OAzBA/O,qBAAU,WACR,IAAIC,GAAc,EADJ,SAGCC,IAHD,2EAGd,oCAAAjP,EAAA,sEACyC2H,QAAQC,IAAI,CACjDlC,GAASlG,GACTuK,GAAgBvK,KAHpB,sCACSkd,EADT,KACmBkF,EADnB,KAMO5S,EANP,iCAOqCgS,GAAgBlV,SAAS4Q,GAAWkF,GAPzE,OAOUC,EAPV,OAQIF,EAAaE,GACb/D,GAAe,GATnB,6CAHc,sBAed7O,IACA,IAAMC,EAAKC,YAAYF,EAAgB,MAGvC,OAAO,WACLD,GAAc,EACdI,cAAcF,MAEf,CAACP,IAGF,kBAAC,WAAD,CACEwP,OAAQ,CAAC,WAAY,YAAa,WAAY,WAAY,WAAY,SAAU,IAChF/L,OAASyL,EAAc,UAAY,UAEnCO,QAAS6C,EACT5C,eAAgB,GAChB1K,KAAMA,EACN2K,aAAc1K,EACd2K,YAAa,SAACuD,GAAD,MAAc,CACzB,IAAMA,EAASL,MACf,kBAAC,GAAD,CAAc9P,MAAM,GAAGgE,QAASmM,EAAStf,YACzCsf,EAASjW,MAAME,YACd+V,EAASjW,MAAQiW,EAAStB,QAAQzU,WACnC,kBAAC,GAAD,CAAc4F,MAAM,GAAGgE,QAASmM,EAAS5gB,UACzC4gB,EAAS1P,OACT,kBAAC,SAAD,CACEV,MAAI,EACJE,KAAM,kBAAC,YAAD,MACND,MAAM,QACNK,QAAS,WACPuB,EAAQgB,KAAR,gCAAsCuN,EAAStf,oBCH5Cuf,OA7Ff,YAA+C,IAAzBpT,EAAwB,EAAxBA,KAAwB,EAElBC,mBAAS,IAAI7M,IAAU,IAFL,mBAErCse,EAFqC,KAE9B2B,EAF8B,OAGRpT,mBAAS,IAAI7M,IAAU,IAHf,mBAGrCue,EAHqC,KAGzB2B,EAHyB,OAIRrT,mBAAS,GAJD,mBAIrC4M,EAJqC,KAIzBC,EAJyB,OAKA7M,mBAAS,MALT,mBAKrCzG,EALqC,KAKrB+Z,EALqB,KA4D5C,OArDAnT,qBAAU,WACR,GAAa,KAATJ,EAGF,OAFAqT,EAAS,IAAIjgB,IAAU,SACvB0Z,EAAc,GAGhB,IAAIzM,GAAc,EANJ,SAQCC,IARD,2EAQd,kCAAAjP,EAAA,sEACsC2H,QAAQC,IAAI,CAC9CxC,GAAY5F,EAAWmP,GACvBpK,GAAgB/E,EAAWmP,KAH/B,mCACSwT,EADT,KACoBC,EADpB,KAMOpT,IACHgT,EAASzV,GAAe6V,EAAU5iB,IAClCic,EAAc3P,SAASqW,EAAW,MARtC,4CARc,sBAmBdlT,IACA,IAAMC,EAAKC,YAAYF,EAAgB,MAGvC,OAAO,WACLD,GAAc,EACdI,cAAcF,MAEf,CAACP,IAEJI,qBAAU,WACR,IAAIC,GAAc,EADJ,SAGCC,IAHD,2EAGd,kCAAAjP,EAAA,sEACmD2H,QAAQC,IAAI,CAC3DhD,GAAoBpF,GACpB0I,GAAkB1I,KAHtB,mCACS6iB,EADT,KACwBC,EADxB,KAMOtT,IACHiT,EAAc1V,GAAe8V,EAAe7iB,IAC5C0iB,EAAkBI,IARtB,4CAHc,sBAcdrT,IACA,IAAMC,EAAKC,YAAYF,EAAgB,MAGvC,OAAO,WACLD,GAAc,EACdI,cAAcF,MAEf,CAACP,IAGF,oCACE,kBAAC,GAAD,CAAYiD,KAAM,uBAAG6D,UAAU,gBAAiBoB,KAAK,eAErD,kBAAC,GAAD,CACEwJ,MAAOA,EACPC,WAAYA,EACZ1H,cAAe4C,EACfrT,eAAgBA,IAIhBwY,GAAWN,EAAOC,GAChB,oCACE,kBAAC,SAAD,CAAQ/O,QAAQ,sBAChB,kBAAC,GAAD,CACE5C,KAAMA,EACN0R,MAAOA,EACPC,WAAYA,EACZ1H,cAAe4C,KAInB,GAGJ,kBAAC,SAAD,CAAQjK,QAAQ,sBAEhB,kBAAC,GAAD,CAAkB5C,KAAMA,MCtFxB4T,GAAgB,CAAC,YAAa,UAAW,UAwEhCC,OAtEf,YAEe,IADbhgB,EACY,EADZA,UAAW6d,EACC,EADDA,MAAO3d,EACN,EADMA,KAAM0P,EACZ,EADYA,OAExB,OACE,kBAAC,MAAD,CAAK4H,QAAQ,QACX,yBAAKrJ,MAAO,CAACgC,QAAS,SAEpB,yBAAKhC,MAAO,CAACa,MAAO,QAClB,kBAAC,GAAD,CAAcsE,MAAM,WAAW9I,QAASqT,EAAOtK,OAAS,UAE1D,yBAAKpF,MAAO,CAACa,MAAO,QAClB,kBAAC,GAAD,CAAWG,MAAM,UAAUkF,KAAM0L,GAAc7f,MAGjD,yBAAKiO,MAAO,CAACa,MAAO,MAAO8C,WAAY,OACrC,kBAAC,SAAD,CACE5C,MAAI,EACJE,KAAM,kBAAC,iBAAD,MACND,MAAM,SACNK,QAAS,WACPzP,EACE/C,EACAgD,EACA,IAGJwQ,SAAqB,IAAXZ,GAAyB,IAAT1P,GAAc2d,EAAMxT,YAIlD,yBAAK8D,MAAO,CAACa,MAAO,QACpB,yBAAKb,MAAO,CAACa,MAAO,MAAO8C,WAAY,OACrC,kBAAC,SAAD,CACE5C,MAAI,EACJE,KAAM,kBAAC,kBAAD,MACND,MAAM,SACNK,QAAS,WACPzP,EACE/C,EACAgD,EACA,IAGJwQ,SAAqB,IAAXZ,GAAyB,IAAT1P,GAAc2d,EAAMxT,YAIlD,yBAAK8D,MAAO,CAACa,MAAO,QACpB,yBAAKb,MAAO,CAACa,MAAO,MAAO8C,WAAY,OACrC,yBAAK3D,MAAO,CAACgC,QAAS,SAClB,kBAAC,SAAD,CACEjB,MAAI,EACJE,KAAM,kBAAC,iBAAD,MACND,MAAM,SACNK,QAAS,WACPzP,EACE/C,EACAgD,EACA,IAGJwQ,SAAqB,IAAXZ,GAAyB,IAAT1P,GAAc2d,EAAMxT,gBCnE9D,SAAS4V,GAAc3hB,EAAoB2f,EAAmBH,GAC5D,OAAOxf,EAAQ4I,KAAK+W,GAAQxT,aAAa,KAAOyV,mBAAmBpC,GAAYpT,UAAU,KAG3F,IAsBeyV,GAtBI,SAAC,GAAD,IARD7hB,EAAoB2f,EASpC/Z,EADiB,EACjBA,WAAYE,EADK,EACLA,UAAW0Z,EADN,EACMA,WAAYsC,EADlB,EACkBA,kBADlB,OAGjB,yBAAKjS,MAAO,CAAEE,QAAS,KAAM8B,QAAS,OAAQ2C,WAAY,WACxD,yBAAK3E,MAAO,CAAEa,MAAO,QACnB,kBAAC,GAAD,CAAcsE,MAAM,UAAU9I,QAAStG,EAAYqP,OAAS,UAE9D,yBAAKpF,MAAO,CAAEa,MAAO,QACnB,kBAAC,GAAD,CAAcsE,MAAM,SAAS9I,QAASpG,EAAWmP,OAAS,UAE5D,yBAAKpF,MAAO,CAAEa,MAAO,QACnB,kBAAC,GAAD,CAAcsE,MAAM,WAAW9I,SAnBnBlM,EAmBqC4F,EAnBjB+Z,EAmB6B7Z,EAlB1D9F,EAAQmM,aAAa,KAAOyV,mBAAmB5hB,EAAQ4I,KAAK+W,IAASvT,UAAU,MAkBT6I,OAAO,OAEjF6M,EACC,yBAAKjS,MAAO,CAACa,MAAO,QAClB,kBAAC,GAAD,CAAcsE,MAAM,gBAAgB9I,QAASyV,GAAc/b,EAAYE,EAAW0Z,GAAavK,OAAO,OAC/F,KCTA8M,GAjBM,SAAC,GAAD,IAClBvgB,EADkB,EAClBA,MAAOsJ,EADW,EACXA,WAAYkX,EADD,EACCA,YADD,OAGnB,yBAAKnS,MAAO,CAAEE,QAAS,KAAM8B,QAAS,OAAQ2C,WAAY,WACxD,yBAAK3E,MAAO,CAAEa,MAAO,QACnB,kBAAC,GAAD,CAAa0B,MAAM,QAAQkJ,IAAK9Z,KAElC,yBAAKqO,MAAO,CAAEa,MAAO,QACnB,kBAAC,GAAD,CAAa0B,MAAM,SAASkJ,IAAKxQ,KAEnC,yBAAK+E,MAAO,CAAEa,MAAO,QACnB,kBAAC,GAAD,CAAa0B,MAAM,SAASkJ,IAAK0G,OCkDxBC,OArDf,YAEiB,IADfpU,EACc,EADdA,KAAMnM,EACQ,EADRA,UAoBAwgB,EAlBN,SAAgB1gB,EAAOsJ,EAAYkX,EAAajF,EAAaoF,GAC3D,OAAmB,IAAfrX,EACK,MAELtJ,EAAQsJ,EACH,UAELtJ,EAASsJ,EAAakX,EACjB,SAELjF,EACK,YAELoF,EACK,WAEF,WAEC7Q,CAnBI,EADG9P,MACH,EADUsJ,WACV,EADsBkX,YACtB,EADmCjF,YACnC,EADgDoF,UAsB9D,OACE,kBAAC,MAAD,CAAKjJ,QAAQ,UACX,yBAAKrJ,MAAO,CAACgC,QAAS,SAEpB,yBAAKhC,MAAO,CAAEa,MAAO,QACnB,kBAAC,GAAD,CAAWG,MAAM,SAASkF,KAAMmM,KAElC,yBAAKrS,MAAO,CAACa,MAAO,SAEpB,yBAAKb,MAAO,CAACa,MAAO,MAAO8C,WAAY,OACrC,yBAAK3D,MAAO,CAACgC,QAAS,SAClB,kBAAC,SAAD,CACEjB,MAAI,EACJE,KAAM,kBAAC,aAAD,MACND,MAAM,SACNK,QAAS,WACPrP,EACEnD,EACAgD,IAGJwQ,SAAmB,KAATrE,GAAqB,aAANqU,SC6F1BE,OAtIf,YAA8C,IAAzBvU,EAAwB,EAAxBA,KACXnM,EAAcsY,cAAdtY,UADmC,EAGPoM,mBAAS,IAAI7M,IAAU,IAHhB,mBAGpC2E,EAHoC,KAGxByc,EAHwB,OAITvU,mBAAS,IAAI7M,IAAU,IAJd,mBAIpC6E,EAJoC,KAIzBwc,EAJyB,OAKPxU,mBAAS,IAAI7M,IAAU,IALhB,mBAKpCue,EALoC,KAKxB2B,EALwB,OAMnBrT,mBAAS,GANU,mBAMpClM,EANoC,KAM9B2gB,EAN8B,OAOfzU,mBAAS,GAPM,mBAOpCwD,EAPoC,KAO5BkR,EAP4B,OAQT1U,mBAAS,IAAI7M,IAAU,IARd,mBAQpCwhB,EARoC,KAQzBC,EARyB,OASjB5U,mBAAS,GATQ,mBASpCtM,EAToC,KAS7Bma,EAT6B,OAUP7N,mBAAS,GAVF,mBAUpChD,EAVoC,KAUxB6X,EAVwB,OAWL7U,mBAAS,GAXJ,mBAWpCkU,EAXoC,KAWvBY,EAXuB,OAYL9U,oBAAS,GAZJ,mBAYpCiP,EAZoC,KAYvBC,EAZuB,KA8F3C,OAhFA/O,qBAAU,WACR,GAAa,KAATJ,EAIF,OAHA0U,EAAQ,GACRC,EAAU,QACVE,EAAa,IAAIzhB,IAAU,IAG7B,IAAIiN,GAAc,EAPJ,SASCC,IATD,2EASd,oCAAAjP,EAAA,sEAGY2H,QAAQC,IAAI,CACpBT,GAAgB3H,EAAWmP,EAAMnM,GACjC4C,GAAY5F,EAAWmP,GACvBpK,GAAgB/E,EAAWmP,KAN/B,mCAEIgV,EAFJ,KAEaxB,EAFb,KAEwByB,EAFxB,KASO5U,IACHqU,EAAQvX,SAAS6X,EAAS,KAC1BL,EAAUxX,SAASqW,EAAW,KAC9BqB,EAAajX,GAAeqX,EAAcpkB,KAZ9C,4CATc,sBAwBdyP,IACA,IAAMC,EAAKC,YAAYF,EAAgB,MAGvC,OAAO,WACLD,GAAc,EACdI,cAAcF,MAEf,CAACP,EAAMnM,IAEVuM,qBAAU,WACR,IAAIC,GAAc,EADJ,SAGCC,IAHD,2EAGd,oDAAAjP,EAAA,sEAIY2H,QAAQC,IAAI,CACpBnB,GAAcjH,EAAWgD,GACzBmE,GAAanH,EAAWgD,GACxBoC,GAAoBpF,GACpBkG,GAASlG,GACTqH,GAAYrH,EAAWgD,GACvBuE,GAAavH,EAAWgD,GACxByE,GAAiBzH,EAAWgD,KAXhC,sCAEIqhB,EAFJ,KAEmBC,EAFnB,KAEiCzB,EAFjC,KAGI3F,EAHJ,KAGcqH,EAHd,KAG2BC,EAH3B,KAGyC9c,EAHzC,KAcQ+c,EAASnY,SAAS4Q,EAAU,IAC5BwH,EAASpY,SAASiY,EAAa,IAC/BI,EAAUrY,SAASkY,EAAc,MAGnCC,GADEG,EAAaF,EAASC,EAAU,IAlBxC,kCAoB0B5d,GAAiB/G,EAAW4kB,GApBtD,QAoBI/B,EApBJ,eAuBOrT,IACHmU,EAAc5W,GAAesX,EAAerkB,IAC5C4jB,EAAa7W,GAAeuX,EAActkB,IAC1CyiB,EAAc1V,GAAe8V,EAAe7iB,IAC5Cid,EAASwH,GACTR,EAAcS,GACdR,EAAeS,GACfrG,EAAe5W,IA9BnB,6CAHc,sBAoCd+H,IACA,IAAMC,EAAKC,YAAYF,EAAgB,MAGvC,OAAO,WACLD,GAAc,EACdI,cAAcF,MAEf,CAAC1M,IAGF,oCACE,kBAAC,GAAD,CAAYoP,KAAM,uBAAG6D,UAAU,gBAAiBoB,KAAK,cACrD,kBAAC,gBAAD,CAAe9D,OAAQvQ,EAAWoT,SAAS,IAE3C,kBAAC,GAAD,CACElP,WAAYA,EACZE,UAAWA,EACX0Z,WAAYA,EACZsC,kBAAmBhX,EAAa,MAGlC,kBAAC,SAAD,CAAQ2F,QAAQ,SAChB,kBAAC,GAAD,CACE/O,UAAWA,EACX6d,MAAOkD,EACP7gB,KAAMA,EACN0P,OAAQA,IAGV,kBAAC,SAAD,CAAQb,QAAQ,WAChB,kBAAC,GAAD,CACEjP,MAAOA,EACPsJ,WAAYA,EACZkX,YAAaA,IAGf,kBAAC,GAAD,CACEnU,KAAMA,EACNnM,UAAWA,EACXF,MAAOA,EACPsJ,WAAYA,EACZkX,YAAaA,EACbjF,YAAaA,EACboF,SAAuG,aAA7F1C,GAAeje,EAAOsJ,EAAYkX,GAAa,EAAOpc,EAAYE,EAAW0Z,OClEhF+D,GAzDU,SAAC,GAMI,IAL5Bxf,EAK2B,EAL3BA,YACAuB,EAI2B,EAJ3BA,YAAaE,EAIc,EAJdA,YAAaN,EAIC,EAJDA,gBAC1Bse,EAG2B,EAH3BA,cAAeC,EAGY,EAHZA,aAAcC,EAGF,EAHEA,cAC7BC,EAE2B,EAF3BA,mBAAoBC,EAEO,EAFPA,oBAGdC,GADqB,EAD3B7e,UAC2B,EADhBI,aACgB,EADF+B,cAEF7B,EAAYsD,KAAKpD,GAAaoD,KAAK1D,IACpD4e,EAAkBN,EAAc5a,KAAK6a,GAAc7a,KAAK8a,GACxDK,EAAwBJ,EAAmB/a,KAAKgb,GAChDI,EAAoBjgB,EAAYX,MAAMygB,GAAgBzgB,MAAM0gB,GAAiB1gB,MAAM2gB,GAEzF,OACE,oCACE,yBAAKlU,MAAO,CAACgC,QAAS,OAAQ0C,SAAU,SACtC,yBAAK1E,MAAO,CAAE4E,UAAW,MAAO1C,YAAa,OAC3C,kBAAC,MAAD,CAAKmH,QAAQ,qBACX,kBAAC,eAAD,CACEA,QAAO,gBAAMhM,GAAYnJ,EAAY4R,aACrCsO,MAAO,CACL,CAAEC,KAAM,MAAOC,YAAclY,GAAU4X,EAAgB9f,GAAa4R,WAAWzU,QAAQ,IACvF,CAAEgjB,KAAM,UAAWC,YAAclY,GAAU6X,EAAiB/f,GAAa4R,WAAWzU,QAAQ,IAC5F,CAAEgjB,KAAM,cAAeC,YAAclY,GAAU+X,EAAmBjgB,GAAa4R,WAAWzU,QAAQ,SAK1G,yBAAK2O,MAAO,CAAE4E,UAAW,MAAO1C,YAAa,OAC3C,kBAAC,MAAD,CAAKmH,QAAQ,iBACX,kBAAC,eAAD,CACEA,QAAO,gBAAMhM,GAAY2W,EAAelO,aACxCsO,MAAO,CACL,CAAEC,KAAM,SAAUC,YAAclY,GAAU3G,EAAaue,GAAgBlO,WAAWzU,QAAQ,IAC1F,CAAEgjB,KAAM,SAAUC,YAAclY,GAAUzG,EAAaqe,GAAgBlO,WAAWzU,QAAQ,IAC1F,CAAEgjB,KAAM,aAAcC,YAAclY,GAAU/G,EAAiB2e,GAAgBlO,WAAWzU,QAAQ,SAK1G,yBAAK2O,MAAO,CAAE4E,UAAW,QACvB,kBAAC,MAAD,CAAKyE,QAAQ,qBACX,kBAAC,eAAD,CACEA,QAAO,gBAAMhM,GAAY4W,EAAgBnO,aACzCsO,MAAO,CACL,CAAEC,KAAM,YAAaC,YAAclY,GAAUuX,EAAeM,GAAiBnO,WAAWzU,QAAQ,IAChG,CAAEgjB,KAAM,WAAYC,YAAclY,GAAUwX,EAAcK,GAAiBnO,WAAWzU,QAAQ,IAC9F,CAAEgjB,KAAM,YAAaC,YAAclY,GAAUyX,EAAeI,GAAiBnO,WAAWzU,QAAQ,YC/ChH,SAASkjB,GAAYxa,EAAMC,GACzB,MAAgB,YAATD,EAAqB,OAASyC,GAASZ,GAAe,IAAIxK,IAAU4I,EAAK6M,OAAQjY,GAAe,GAGzG,SAAS4lB,GAAsBza,EAAMC,GACnC,MAAgB,aAATD,EACL,IAAMyC,GAASZ,GAAe,IAAIxK,IAAU4I,EAAKya,eAAgB7lB,GAAe,GAChF,QAGJ,SAAS8lB,GAAgB3a,EAAMC,GAC7B,MAAgB,aAATD,EACL,IAAMyC,GAASZ,GAAe,IAAIxK,IAAU4I,EAAK2a,UAAW/lB,GAAe,GAClE,aAATmL,EACE,IAAMyC,GAASZ,GAAe,IAAIxK,IAAU4I,EAAK4a,SAAUhmB,GAAe,GAC1E,QAGN,SAASimB,GAAkB9a,EAAMC,GAC/B,MAAgB,aAATD,EACL,IAAMyC,GAASZ,GAAe,IAAIxK,IAAU4I,EAAK8a,WAAYlmB,GAAe,GAC5E,QAGJ,SAASgf,GAAT,GAA4D,IAArC7T,EAAoC,EAApCA,KAAMC,EAA8B,EAA9BA,KAC3B,MAAO,CACLA,EAAKrI,MAAMyJ,WACXmZ,GAAYxa,EAAMC,GAClBwa,GAAsBza,EAAMC,GAC5B0a,GAAgB3a,EAAMC,GACtB6a,GAAkB9a,EAAMC,IAiDb+a,OA7Cf,YAE4B,IAD1B/W,EACyB,EADzBA,KACyB,EACaC,mBAAuB,IADpC,mBAClB+W,EADkB,KACLC,EADK,OAEDhX,mBAAS,GAFR,mBAElB+E,EAFkB,KAEZC,EAFY,OAGahF,oBAAS,GAHtB,mBAGlBiP,EAHkB,KAGLC,EAHK,KA8BzB,OAxBA/O,qBAAU,WACR,IAAIC,GAAc,EADJ,SAGCC,IAHD,2EAGd,gCAAAjP,EAAA,sEACiC2H,QAAQC,IAAI,CACzCuC,GAAkB3K,KAFtB,mCACSqmB,EADT,KAKO7W,IACH4W,EAAeC,GACf/H,GAAe,IAPnB,4CAHc,sBAcd7O,IACA,IAAMC,EAAKC,YAAYF,EAAgB,MAGvC,OAAO,WACLD,GAAc,EACdI,cAAcF,MAEf,CAACP,IAGF,kBAAC,WAAD,CACEwP,OAAQ,CAAC,QAAS,QAAS,oBAAgB,cAAU,iBACrD/L,OAASyL,EAAc,UAAY,UACnCO,QAASuH,EACTtH,eAAgB,GAChB1K,KAAMA,EACN2K,aAAc1K,EACd2K,YAAaA,MCnFbS,GAAa,IAAIjd,IAAU,IAAIkC,IAAI,IAmH1B6hB,OAjHf,YAA+C,IAAzBnX,EAAwB,EAAxBA,KAAwB,EAENC,mBAAS,IAAI7M,IAAU,IAFjB,mBAErC8C,EAFqC,KAExBkhB,EAFwB,OAGNnX,mBAAS,IAAI7M,IAAU,IAHjB,mBAGrCqE,EAHqC,KAGxB4f,EAHwB,OAINpX,mBAAS,IAAI7M,IAAU,IAJjB,mBAIrCuE,EAJqC,KAIxB2f,EAJwB,OAKErX,mBAAS,IAAI7M,IAAU,IALzB,mBAKrCiE,EALqC,KAKpBkgB,EALoB,OAMFtX,mBAAS,IAAI7M,IAAU,IANrB,mBAMrCuiB,EANqC,KAMtB6B,EANsB,OAOMvX,mBAAS,IAAI7M,IAAU,IAP7B,mBAOrCqkB,EAPqC,KAOlBC,EAPkB,OAQQzX,mBAAS,IAAI7M,IAAU,IAR/B,mBAQrCukB,EARqC,KAQjBC,EARiB,OASkB3X,mBAAS,IAAI7M,IAAU,IATzC,mBASrCykB,EATqC,KASZC,EATY,OAUoB7X,mBAAS,IAAI7M,IAAU,IAV3C,mBAUrC2kB,EAVqC,KAUXC,EAVW,OAWV/X,mBAAS,IAAI7M,IAAU,IAXb,mBAWrC+D,EAXqC,KAW1B8gB,EAX0B,OAYJhY,mBAAS,IAAI7M,IAAU,IAZnB,oBAYrCmE,GAZqC,MAYvB2gB,GAZuB,SAaFjY,mBAAS,IAAI7M,IAAU,IAbrB,qBAarCkG,GAbqC,MAatBuX,GAbsB,MAiF5C,OAlEAzQ,qBAAU,WACR,IAAIC,GAAc,EADJ,SAGCC,IAHD,2EAGd,0DAAAjP,EAAA,sEAC4BsO,KAD5B,cACQG,EADR,OAEQqY,EAAoBtY,GAAqBC,GAFjD,SAUY9G,QAAQC,IAAI,CACpBhD,GAAoBrF,GAEpB4G,GAAe3G,GACf6G,GAAe7G,GACfuG,GAAmBvG,GAEnB+E,GAAgBhF,EAAUL,GAC1BkM,GAAqBqD,GACrBnD,GAAsBmD,GAEtBrD,GAAqB0b,GACrBxb,GAAsBwb,GAEtBjhB,GAAarG,GACbyG,GAAgBzG,KAzBpB,uCAKIunB,EALJ,KAMIC,EANJ,KAMoBC,EANpB,KAMoCC,EANpC,KAOIC,EAPJ,KAOsBC,EAPtB,KAO4CC,EAP5C,KAQIC,EARJ,KAQgCC,EARhC,KASIC,EATJ,KASkBC,EATlB,MA4BOzY,EA5BP,oBA6BI+W,EAAexZ,GAAewa,EAAgBxnB,IAE9CymB,EAAezZ,GAAeya,EAAgBznB,IAC9C0mB,EAAe1Z,GAAe0a,EAAgB1nB,IAC9C2mB,EAAmB3Z,GAAe2a,EAAoB3nB,IAEtD4mB,EAAiB5Z,GAAe4a,EAAkB5nB,IAClD8mB,EAAqB9Z,GAAe6a,EAAsB7nB,IAC1DgnB,EAAsBha,GAAe8a,EAAuB9nB,IAE5DknB,EAA2Bla,GAAe+a,EAA4B/nB,IACtEonB,EAA4Bpa,GAAegb,EAA6BhoB,IAExEqnB,EAAara,GAAeib,EAAcjoB,IAC1CsnB,GAAgBta,GAAekb,EAAiBloB,KAE5C,IAAIwC,IAAUylB,GAAcrN,cAAc6E,IA7ClD,kCA8CqChX,GAAiBxI,EAAWwf,IA9CjE,QA8CYiB,EA9CZ,OA+CMT,GAAiBjT,GAAe0T,EAAkB1gB,IA/CxD,wBAiDMigB,GAAiB,IAAIzd,IAAU,IAjDrC,6CAHc,sBAwDdkN,IACA,IAAMC,EAAKC,YAAYF,EAAgB,MAGvC,OAAO,WACLD,GAAc,EACdI,cAAcF,MAEf,CAACP,IAGF,oCACE,kBAAC,GAAD,CAAYiD,KAAM,uBAAG6D,UAAU,sBAAuBoB,KAAK,sBAE3D,kBAAC,GAAD,CACEhS,YAAaA,EAEbuB,YAAaA,EACbE,YAAaA,EACbN,gBAAiBA,EAEjBse,cAAeA,EACfC,aAAc6B,EACd5B,cAAe8B,EAEf7B,mBAAoB+B,EACpB9B,oBAAqBgC,EAErB5gB,UAAWA,EACXI,aAAcA,GACd+B,cAAeA,KAGjB,kBAAC,SAAD,CAAQsJ,QAAQ,uBAEhB,kBAAC,GAAD,CACE5C,KAAMA,MCSCgL,OA/Gf,YAE0B,IADxBlL,EACuB,EADvBA,YAAaE,EACU,EADVA,KAAM3B,EACI,EADJA,QAASjI,EACL,EADKA,UAAWuK,EAChB,EADgBA,cAAe8C,EAC/B,EAD+BA,OAC/B,EACmBxD,mBAAS,IAAI7M,IAAU,IAD1C,mBAChB6X,EADgB,KACDC,EADC,OAEqBjL,mBAAS,IAAI7M,IAAU,IAF5C,mBAEhB+X,EAFgB,KAEAC,EAFA,KAIvB,OACE,kBAAC,MAAD,CAAKC,QAAQ,SAC4B,IAAtCjV,EAAUkV,WAAWjW,IACpB,yBAAK2M,MAAO,CAACgC,QAAS,OAAQ0C,SAAU,SAEtC,yBAAK1E,MAAO,CAAC4E,UAAW,QACtB,kBAAC,GAAD,CAAcO,MAAM,SAAS9I,QAASsC,EAAeyG,OAAQ,YAG/D,yBAAKpF,MAAO,CAAC4E,UAAW,MAAOjB,WAAY,OACzC,yBAAK3D,MAAO,CAACgC,QAAS,SACpB,yBAAKhC,MAAO,CAACa,MAAO,MAAO0I,SAAU,QACnC,oCACE,kBAAC,GAAD,CACEZ,UAAU,SACVxV,MAAO8V,EACPP,OAAQQ,EACR7G,SAAqB,IAAXZ,IAEZ,kBAAC,GAAD,CACEJ,QAAS,WACP6H,EAAiB7M,QAKzB,yBAAK2D,MAAO,CAACa,MAAO,MAAO0I,SAAU,QACnC,kBAAC,SAAD,CACExI,MAAI,EACJE,KAAiB,IAAXQ,EAAe,kBAAC,iBAAD,MAAoB,kBAAC,WAAD,MACzCT,MAAM,UACNK,QAAS,WACPpP,EACE6L,EACAzC,GAAa4N,EAAe1a,IAC5B,SAACuC,GAAD,OAAUoY,EAAiB,IAAI9X,IAAU,QAG7CiR,SAA0B,KAAhBvE,GAAiC,IAAX2D,IAAiBxF,GAAMgN,QAK/D,yBAAKjJ,MAAO,CAAC4E,UAAW,QAExB,yBAAK5E,MAAO,CAAC4E,UAAW,MAAOjB,WAAY,OACzC,yBAAK3D,MAAO,CAACgC,QAAS,SACpB,yBAAKhC,MAAO,CAACa,MAAO,MAAO0I,SAAU,QACnC,oCACE,kBAAC,GAAD,CACEZ,UAAU,SACVxV,MAAOgW,EACPT,OAAQU,EACR/G,SAAqB,IAAXZ,IAEZ,kBAAC,GAAD,CACEJ,QAAS,WACP+H,EAAkBzK,QAK1B,yBAAKqB,MAAO,CAACa,MAAO,MAAO0I,SAAU,QACnC,kBAAC,SAAD,CACExI,MAAI,EACJE,KAAiB,IAAXQ,EAAe,kBAAC,kBAAD,MAAqB,kBAAC,WAAD,MAC1CT,MAAM,WACNK,QAAS,WACPhP,EACEyL,EACAzC,GAAa8N,EAAgB5a,IAC7B,SAACuC,GAAD,OAAUsY,EAAkB,IAAIhY,IAAU,QAG9CiR,SAA0B,KAAhBvE,GAAiC,IAAX2D,IAAiBxF,GAAMkN,SAOjE,yBAAKnJ,MAAO,CAACgC,QAAS,OAAQ0C,SAAU,SAEtC,yBAAK1E,MAAO,CAAC4E,UAAW,QACtB,kBAAC,GAAD,CAAcO,MAAM,SAAS9I,QAASsC,EAAeyG,OAAQ,YAE/D,yBAAKpF,MAAO,CAAC4E,UAAW,SAExB,yBAAK5E,MAAO,CAAC4E,UAAW,MAAOjB,WAAY,OACzC,kBAAC,SAAD,CACE5C,MAAI,EACJE,KAAM,kBAAC,iBAAD,MACND,MAAM,UACNK,QAAS,WACPlR,EAAQ5B,EAAUuP,IAEpBuE,SAA0B,KAAhBvE,GAA+B,KAATE,QCT/ByL,OA9Ff,YAEqB,IADnB3L,EACkB,EADlBA,YAAa4L,EACK,EADLA,OAAQC,EACH,EADGA,OAAQlI,EACX,EADWA,OAAQmI,EACnB,EADmBA,OACnB,EACkB3L,mBAAS,IAAI7M,IAAU,IADzC,mBACXyY,EADW,KACCC,EADD,OAEsB7L,mBAAS,IAAI7M,IAAU,IAF7C,mBAEX2Y,EAFW,KAEGC,EAFH,KAIlB,OACE,kBAAC,MAAD,CAAKX,QAAQ,QACX,yBAAKrJ,MAAO,CAACgC,QAAS,OAAQ0C,SAAU,SAEtC,yBAAK1E,MAAO,CAAC4E,UAAW,QACtB,kBAAC,GAAD,CAAcO,MAAM,SAAS9I,QAASsN,EAAQvE,OAAQ,YAGxD,yBAAKpF,MAAO,CAAC4E,UAAW,QACtB,kBAAC,GAAD,CAAW5D,MAAM,cAAckF,KAAiB,IAAX0D,EAAe,GAAgB,IAAXA,EAAe,UAAf,UAA8BA,EAA9B,cAG3D,yBAAK5J,MAAO,CAAC4E,UAAW,MAAOjB,WAAY,OACzC,yBAAK3D,MAAO,CAACgC,QAAS,SACpB,yBAAKhC,MAAO,CAACa,MAAO,MAAO0I,SAAU,QACnC,oCACE,kBAAC,GAAD,CACEZ,UAAU,SACVxV,MAAO0W,EACPnB,OAAQoB,IAEV,kBAAC,GAAD,CACEzI,QAAS,WACPyI,EAAcJ,QAKtB,yBAAK1J,MAAO,CAACa,MAAO,MAAO0I,SAAU,QACnC,kBAAC,SAAD,CACExI,MAAI,EACJE,KAAiB,IAAXQ,EAAe,kBAAC,iBAAD,MAAoB,kBAAC,cAAD,MACzCT,MAAM,OACNK,QAAS,WACP/O,EACEwL,EACAzC,GAAawO,EAAYtb,IACzB,SAACuC,GAAD,OAAUgZ,EAAc,IAAI1Y,IAAU,QAG1CiR,SAA0B,KAAhBvE,IAAuB7B,GAAM4N,QAK/C,yBAAK7J,MAAO,CAAC4E,UAAW,QAExB,yBAAK5E,MAAO,CAAC4E,UAAW,MAAOjB,WAAY,OACzC,yBAAK3D,MAAO,CAACgC,QAAS,SACpB,yBAAKhC,MAAO,CAACa,MAAO,MAAO0I,SAAU,QACnC,oCACE,kBAAC,GAAD,CACEZ,UAAU,SACVxV,MAAO4W,EACPrB,OAAQsB,IAEV,kBAAC,GAAD,CACE3I,QAAS,WACP2I,EAAgBL,QAKxB,yBAAK3J,MAAO,CAACa,MAAO,MAAO0I,SAAU,QACnC,kBAAC,SAAD,CACExI,MAAI,EACJE,KAAiB,IAAXQ,EAAe,kBAAC,kBAAD,MAAqB,kBAAC,cAAD,MAC1CT,MAAM,SACNK,QAAS,WACP9O,EACEuL,EACAzC,GAAa0O,EAAcxb,IAC3B,SAACuC,GAAD,OAAUkZ,EAAgB,IAAI5Y,IAAU,QAG5CiR,SAA0B,KAAhBvE,IAAuB7B,GAAM8N,SAMjD,yBAAK/J,MAAO,CAACa,MAAO,OAAQ8C,WAAY,KAAMxB,UAAW,WACvD,0BAAMnC,MAAO,CAAE0C,QAAS,KAAxB,qDC7FFsF,GAAa,CAAC,WAAY,UAEhC,SAASvG,GAAOwG,EAAeC,GAC7B,OAAOF,GAAWC,IAAoC,IAAlBA,EAAsB,GAAK,UAAYC,GAG7E,IAuBe6O,GAvBQ,SAAC,GAAD,IACrBC,EADqB,EACrBA,kBAAmBxO,EADE,EACFA,qBAAsByO,EADpB,EACoBA,0BAA2BC,EAD/C,EAC+CA,2BAA4BC,EAD3E,EAC2EA,gBAAiBC,EAD5F,EAC4FA,kBAAmBlP,EAD/G,EAC+GA,SAD/G,OAGrB,yBAAKlI,MAAO,CAAEE,QAAS,KAAM8B,QAAS,OAAQ0C,SAAU,OAAQC,WAAY,WAC1E,yBAAK3E,MAAO,CAAE4E,UAAW,QACvB,kBAAC,GAAD,CAAcO,MAAM,UAAU9I,QAAS2a,EAAoB5R,OAAQ,aAErE,yBAAKpF,MAAO,CAAE4E,UAAW,QACvB,kBAAC,GAAD,CAAcO,MAAM,WAAW9I,QAAS4a,EAA2B7R,OAAQ,UAE7E,yBAAKpF,MAAO,CAAE4E,UAAW,QACvB,kBAAC,GAAD,CAAcO,MAAM,YAAY9I,QAAS6a,EAA4B9R,OAAQ,UAE/E,yBAAKpF,MAAO,CAAE4E,UAAW,QACvB,kBAAC,GAAD,CAAcO,MAAM,iBAAiB9I,QAASD,GAAUoM,EAAsB2O,GAAmB/R,OAAQ,OAE3G,yBAAKpF,MAAO,CAAE4E,UAAW,QACvB,kBAAC,GAAD,CAAW5D,MAAM,cAAckF,KAAMzE,GAAO2V,EAAmBlP,QCmCtDmP,OAxDf,YAEgB,IADdvZ,EACa,EADbA,YAAawZ,EACA,EADAA,UAAW7V,EACX,EADWA,OACX,EACyBxD,mBAAS,IAAI7M,IAAU,IADhD,mBACNmmB,EADM,KACOC,EADP,KAGb,OACE,kBAAC,MAAD,CAAKnO,QAAQ,SACX,yBAAKrJ,MAAO,CAACgC,QAAS,OAAQ0C,SAAU,SAEtC,yBAAK1E,MAAO,CAAC4E,UAAW,QACtB,kBAAC,GAAD,CAAcO,MAAM,YAAY9I,QAASib,EAAWlS,OAAQ,SAG9D,yBAAKpF,MAAO,CAAC4E,UAAW,SACxB,yBAAK5E,MAAO,CAAC4E,UAAW,MAAOjB,WAAY,OACzC,yBAAK3D,MAAO,CAACgC,QAAS,SACpB,yBAAKhC,MAAO,CAACa,MAAO,MAAO0I,SAAU,QACnC,oCACE,kBAAC,GAAD,CACEZ,UAAU,MACVxV,MAAOokB,EACP7O,OAAQ8O,EACRnV,SAAqB,IAAXZ,IAEZ,kBAAC,GAAD,CACEJ,QAAS,WACPmW,EAAeF,QAKvB,yBAAKtX,MAAO,CAACa,MAAO,MAAO0I,SAAU,QACnC,kBAAC,SAAD,CACExI,MAAI,EACJE,KAAM,kBAAC,gBAAD,MACND,MAAM,QACNK,QAAS,WACP5O,EACEqL,EACAzC,GAAakc,EAAa3oB,IAC1B,SAACkC,GAAD,OAAU0mB,EAAe,IAAIpmB,IAAU,QAG3CiR,SAA0B,KAAhBvE,GAAiC,IAAX2D,IAAiBxF,GAAMsb,SAMjE,yBAAKvX,MAAO,CAACa,MAAO,OAAQ8C,WAAY,KAAMxB,UAAW,WACvD,0BAAMnC,MAAO,CAAE0C,QAAS,KAAxB,uEC6DO+U,OAzGf,YAEkB,IADhB3Z,EACe,EADfA,YAAaE,EACE,EADFA,KAAM0Z,EACJ,EADIA,SAAUhR,EACd,EADcA,eAAgBC,EAC9B,EAD8BA,gBAAiBgR,EAC/C,EAD+CA,gBAAiBC,EAChE,EADgEA,kBAAmBnW,EACnF,EADmFA,OACnF,EAC2BxD,mBAAS,IAAI7M,IAAU,IADlD,mBACRymB,EADQ,KACOC,EADP,OAEqB7Z,mBAAS,IAAI7M,IAAU,IAF5C,mBAER2mB,EAFQ,KAEIC,EAFJ,KAITC,EAAiBtR,EAAgBzK,SAAW,IAAI9K,IAAU,GAAKuV,EAAgB3K,IAAI0K,GAEnFwR,EAAoB,SAACC,GACzB,IAAKA,EAGH,OAFAL,EAAiB,IAAI1mB,IAAU,SAC/B4mB,EAAc,IAAI5mB,IAAU,IAI9B,IAAMgnB,EAAc,IAAIhnB,IAAU+mB,GAClCL,EAAiBM,GAEjB,IAAMC,EAAchd,GAAa+c,EAAaxpB,GACxC0pB,EAAgB1c,GACpByc,EAAY/b,aAAa2b,GAAgBtc,aAAavK,IAAU8L,aAChEtO,GACFopB,EAAcM,IAGhB,OACE,kBAAC,MAAD,CAAKjP,QAAQ,WACVuO,EAAkBtO,WAAWjW,GAAYkJ,UAAU,IAAM,EACxD,yBAAKyD,MAAO,CAACgC,QAAS,OAAQ0C,SAAU,SAEtC,yBAAK1E,MAAO,CAAC4E,UAAW,QACtB,kBAAC,GAAD,CAAcO,MAAM,WAAW9I,QAASqb,EAAUtS,OAAQ,SAE5D,yBAAKpF,MAAO,CAAC4E,UAAW,QACtB,kBAAC,GAAD,CAAcO,MAAM,eAAe9I,QAASsb,EAAiBvS,OAAQ,UAEvE,yBAAKpF,MAAO,CAAC4E,UAAW,QAExB,yBAAK5E,MAAO,CAAC4E,UAAW,MAAOjB,WAAY,OACzC,yBAAK3D,MAAO,CAACgC,QAAS,SACpB,yBAAKhC,MAAO,CAACa,MAAO,MAAO0I,SAAU,QACnC,oCACE,kBAAC,GAAD,CACEZ,UAAU,MACVxV,MAAO0kB,EACPnP,OAAQwP,EACR7V,SAAqB,IAAXZ,IAEZ,kBAAC,GAAD,CAAcT,MAAM,YAAY1Q,IAAKynB,EAAYppB,OAAO,UACxD,kBAAC,GAAD,CACE0S,QAAS,WACP6W,EAAkBR,QAK1B,yBAAK1X,MAAO,CAACa,MAAO,MAAO0I,SAAU,QACnC,kBAAC,SAAD,CACExI,MAAI,EACJE,KAAM,kBAAC,cAAD,MACND,MAAM,UACNK,QAAS,WACP1O,EACEmL,EACAzC,GAAawc,EAAejpB,IAC5B,SAACkC,GAAD,OAAUgnB,EAAiB,IAAI1mB,IAAU,QAG7CiR,SAA0B,KAAhBvE,GAAiC,IAAX2D,IAAiBxF,GAAM4b,IAAkBE,EAAWvO,cAAcmO,SAO5G,yBAAK3X,MAAO,CAACgC,QAAS,OAAQ0C,SAAU,SAEtC,yBAAK1E,MAAO,CAAC4E,UAAW,QACtB,kBAAC,GAAD,CAAcO,MAAM,WAAW9I,QAASqb,EAAUtS,OAAQ,SAE5D,yBAAKpF,MAAO,CAAC4E,UAAW,QACtB,kBAAC,GAAD,CAAcO,MAAM,eAAe9I,QAASsb,EAAiBvS,OAAQ,UAEvE,yBAAKpF,MAAO,CAAC4E,UAAW,QAExB,yBAAK5E,MAAO,CAAC4E,UAAW,MAAOjB,WAAY,OACzC,kBAAC,SAAD,CACE5C,MAAI,EACJE,KAAM,kBAAC,iBAAD,MACND,MAAM,UACNK,QAAS,WACPlR,EAAQ3B,EAAKC,KAAMqP,IAErBuE,SAA0B,KAAhBvE,GAA+B,KAATE,MAKxC,yBAAKgC,MAAO,CAACa,MAAO,OAAQ8C,WAAY,KAAMxB,UAAW,WACvD,0BAAMnC,MAAO,CAAE0C,QAAS,KAAxB,+DCzBO6V,OA9Ef,YAEkB,IADhBpC,EACe,EADfA,kBAAmBzM,EACJ,EADIA,OAAQ4N,EACZ,EADYA,UAAW3N,EACvB,EADuBA,OAAQlI,EAC/B,EAD+BA,OAAQ+W,EACvC,EADuCA,iBACvC,EACiBva,oBAAS,GAD1B,mBACRwa,EADQ,KACEC,EADF,OAEmBza,oBAAS,GAF5B,mBAER0a,EAFQ,KAEGC,EAFH,OAGe3a,oBAAS,GAHxB,mBAGR4a,EAHQ,KAGCC,EAHD,KAKf,OACE,kBAAC,MAAD,CAAKzP,QAAQ,WACX,yBAAKrJ,MAAO,CAACgC,QAAS,OAAQ0C,SAAU,SAEtC,yBAAK1E,MAAO,CAAC4E,UAAW,MAAOjB,WAAY,OACzC,yBAAK3D,MAAO,CAACgC,QAAS,SACpB,yBAAKhC,MAAO,CAACa,MAAO,QAClB,kBAAC,GAAD,CAAcsE,MAAM,SAAS9I,QAASsN,EAAQvE,OAAQ,WACtD,kBAAC,SAAD,CACErE,MAAI,EACJE,KAAM,kBAAC,kBAAD,MACND,MAAM,SACNK,QAAS,WACP9O,EACE4jB,EACA9a,GAAasO,EAAQpb,IACrB,SAACuC,GAAD,OAAU4nB,EAAY5nB,EAAKf,OAAS,OAGxCsS,SAAgC,KAAtB8T,IAA6Bla,GAAM0N,IAAW8O,GAAYD,OAM5E,yBAAKxY,MAAO,CAAC4E,UAAW,MAAOjB,WAAY,OACzC,yBAAK3D,MAAO,CAACgC,QAAS,SACpB,yBAAKhC,MAAO,CAACa,MAAO,QAClB,kBAAC,GAAD,CAAcsE,MAAM,SAAS9I,QAASqN,EAAQtE,OAAQ,WACtD,kBAAC,SAAD,CACErE,MAAI,EACJE,KAAM,kBAAC,kBAAD,MACND,MAAM,WACNK,QAAS,WACPhP,EACE8jB,EACA9a,GAAaqO,EAAQnb,IACrB,SAACuC,GAAD,OAAU8nB,EAAa9nB,EAAKf,OAAS,OAGzCsS,SAAgC,KAAtB8T,IAA6Bla,GAAMyN,IAAWiP,GAAwB,IAAXlX,OAM7E,yBAAKzB,MAAO,CAAC4E,UAAW,MAAOjB,WAAY,OACzC,yBAAK3D,MAAO,CAACgC,QAAS,SACpB,yBAAKhC,MAAO,CAACa,MAAO,QAClB,kBAAC,GAAD,CAAcsE,MAAM,YAAY9I,QAASib,EAAWlS,OAAQ,QAC5D,kBAAC,SAAD,CACErE,MAAI,EACJE,KAAM,kBAAC,gBAAD,MACND,MAAM,QACNK,QAAS,WACP5O,EACE0jB,EACA9a,GAAaic,EAAW1oB,IACxB,SAACkC,GAAD,OAAUgoB,EAAWhoB,EAAKf,OAAS,OAGvCsS,SAAgC,KAAtB8T,IAA6Bla,GAAMqb,IAAcuB,GAAsB,IAAXpX,UCiJvEsX,OA5Mf,YAAyC,IAAzB/a,EAAwB,EAAxBA,KACNkM,EAAaC,cAAbD,SACJA,IACFlM,EAAOkM,GAH6B,MAMAjM,mBAAS,IANT,mBAM/BH,EAN+B,KAMlBkb,EANkB,OAOQ/a,mBAAS,IAAI7M,IAAU,IAP/B,mBAO/B+lB,EAP+B,KAOd8B,EAPc,OAQMhb,mBAAS,IAAI7M,IAAU,IAR7B,mBAQ/BsV,EAR+B,KAQfO,EARe,OASQhJ,mBAAS,IAAI7M,IAAU,IAT/B,mBAS/BuV,EAT+B,KASdO,EATc,OAUMjJ,mBAAS,IAAI7M,IAAU,IAV7B,mBAU/BmO,EAV+B,KAUf2Z,EAVe,OAWUjb,mBAAS,IAAI7M,IAAU,IAXjC,mBAW/B+nB,EAX+B,KAWbC,EAXa,OAYQnb,mBAAS,IAAI7M,IAAU,IAZ/B,mBAY/BumB,EAZ+B,KAYd0B,EAZc,OAaYpb,mBAAS,IAAI7M,IAAU,IAbnC,mBAa/BwmB,EAb+B,KAaZ0B,EAbY,OAcYrb,mBAAS,IAAI7M,IAAU,IAdnC,mBAc/BiO,EAd+B,KAcZsL,EAdY,OAeY1M,mBAAS,IAAI7M,IAAU,IAfnC,oBAe/BkO,GAf+B,MAeZsL,GAfY,SAgBgB3M,mBAAS,IAAI7M,IAAU,IAhBvC,qBAgB/BmoB,GAhB+B,MAgBVC,GAhBU,SAiBkBvb,mBAAS,IAAI7M,IAAU,IAjBzC,qBAiB/BqoB,GAjB+B,MAiBTC,GAjBS,SAkBFzb,mBAAS,GAlBP,qBAkB/B4M,GAlB+B,MAkBnBC,GAlBmB,SAmBc7M,mBAAS,GAnBvB,qBAmB/B8M,GAnB+B,MAmBXC,GAnBW,SAoBwB/M,mBAAS,IAAI7M,IAAU,IApB/C,qBAoB/BuoB,GApB+B,MAoBNC,GApBM,SAqBwB3b,mBAAS,IAAI7M,IAAU,IArB/C,qBAqB/ByoB,GArB+B,MAqBNC,GArBM,SAsB4B7b,mBAAS,IAAI7M,IAAU,IAtBnD,qBAsB/B2oB,GAtB+B,MAsBJC,GAtBI,SAuB8B/b,mBAAS,IAAI7M,IAAU,IAvBrD,qBAuB/B6oB,GAvB+B,MAuBHC,GAvBG,SAwBUjc,mBAAS,GAxBnB,qBAwB/Bkc,GAxB+B,MAwBbC,GAxBa,SAyBVnc,mBAAS,GAzBC,qBAyB/B2L,GAzB+B,MAyBvBqB,GAzBuB,MA4BtC7M,qBAAU,WACR,GAAa,KAATJ,EAoBF,OAnBAgb,EAAe,IACfC,EAAmB,IAAI7nB,IAAU,IACjC6V,EAAkB,IAAI7V,IAAU,IAChC8V,EAAmB,IAAI9V,IAAU,IACjC8nB,EAAkB,IAAI9nB,IAAU,IAChCgoB,EAAoB,IAAIhoB,IAAU,IAClCioB,EAAmB,IAAIjoB,IAAU,IACjCkoB,EAAqB,IAAIloB,IAAU,IACnCuZ,EAAqB,IAAIvZ,IAAU,IACnCwZ,GAAqB,IAAIxZ,IAAU,IACnCooB,GAAuB,IAAIpoB,IAAU,IACrCsoB,GAAwB,IAAItoB,IAAU,IACtC0Z,GAAc,GACdE,GAAsB,GACtB4O,GAA2B,IAAIxoB,IAAU,IACzC0oB,GAA2B,IAAI1oB,IAAU,IACzC4oB,GAA6B,IAAI5oB,IAAU,IAC3C8oB,GAA8B,IAAI9oB,IAAU,SAC5CgpB,GAAoB,GAGtB,IAAI/b,GAAc,EAvBJ,SAyBCC,IAzBD,2EAyBd,2GAAAjP,EAAA,sEAC+BsO,KAD/B,cACQ0c,EADR,OAEQlE,EAAoBtY,GAAqBwc,GAFjD,SASYrjB,QAAQC,IAAI,CACpBuD,GAAmB6f,GACnBzmB,GAAgBhF,EAAUL,GAC1BqF,GAAgBpF,EAAKC,KAAMF,GAC3BqF,GAAgBrF,EAAUyP,GAC1BpK,GAAgBpF,EAAKC,KAAMuP,GAE3B7J,GAAkB5F,EAAUyP,EAAMqc,GAClClmB,GAAkB3F,EAAKC,KAAMuP,EAAMqc,GACnClgB,GAAuBkgB,EAAgBrc,GACvC9D,GAAuBmgB,EAAgBrc,GAEvC5D,GAAyBigB,EAAgBrc,GACzC1D,GAA0B+f,EAAgBrc,GAC1C/D,GAAgBogB,EAAgBrc,GAChCnD,GAAkBwf,EAAgBrc,GAElC7D,GAAuBgc,EAAmBnY,GAC1C9D,GAAuBic,EAAmBnY,GAC1C5D,GAAyB+b,EAAmBnY,GAC5C1D,GAA0B6b,EAAmBnY,GAC7C/D,GAAgBkc,EAAmBnY,KA9BvC,oCAKIsc,EALJ,KAKwBzb,EALxB,KAK2CsI,EAL3C,KAK+D9K,EAL/D,KAKwEke,EALxE,KAMInmB,EANJ,KAMeomB,EANf,KAM8B7b,EAN9B,KAM6CC,EAN7C,KAOI6b,EAPJ,KAOqBC,EAPrB,MAOuCjZ,EAPvC,MAO+C4J,EAP/C,MAQIsP,EARJ,MAQyBC,EARzB,MAQ8CC,EAR9C,MAQqEC,EARrE,MAQ6FC,EAR7F,MAiCQ5D,EAAkBvb,GAAe0e,EAAoB1rB,GACrDosB,EAAiBpf,GAAeiD,EAAmBjQ,GACnDqsB,EAAkBrf,GAAeuL,EAAoB3Y,EAAKE,UAC1D6Q,EAAiB3D,GAAeS,EAAS9N,GACzCopB,EAAkB/b,GAAe2e,EAAa/rB,EAAKE,UACnD2Q,EAAoBzD,GAAe+C,EAAepQ,GAClD+Q,EAAoB1D,GAAegD,EAAerQ,GAClDgrB,EAAsB3d,GAAe6e,EAAiB7rB,GACtD6qB,EAAuB7d,GAAe8e,EAAkB9rB,GACxDic,EAAa1P,SAASsG,EAAQ,IAC9B7M,EAAauG,SAASkQ,EAAe,IACrCsO,GAA0B/d,GAAe+e,EAAqBpsB,GAC9DsrB,GAA0Bje,GAAegf,EAAqBrsB,GAC9DwrB,GAA4Bne,GAAeif,EAAuBtsB,GAClE0rB,GAA6Bre,GAAekf,EAAwBlsB,GACpEurB,GAAmBhf,SAAS4f,EAAc,IAE3C1c,IACH2a,EAAeqB,GACfpB,EAAmB,IAAI7nB,IAAU+lB,IACjClQ,EAAkB,IAAI7V,IAAU4pB,IAChC9T,EAAmB,IAAI9V,IAAU6pB,IACjC/B,EAAkB,IAAI9nB,IAAUmO,IAChC6Z,EAAoB,IAAIhoB,IAAUgD,IAClCklB,EAAqB,IAAIloB,IAAUopB,IACnCnB,EAAmB,IAAIjoB,IAAUumB,IACjChN,EAAqB,IAAIvZ,IAAUiO,IACnCuL,GAAqB,IAAIxZ,IAAUkO,IACnCka,GAAuB,IAAIpoB,IAAUmoB,IACrCG,GAAwB,IAAItoB,IAAUqoB,IACtC3O,GAAcD,GACdG,GAAsBpW,GACtBglB,GAA2B,IAAIxoB,IAAUuoB,KACzCG,GAA2B,IAAI1oB,IAAUyoB,KACzCG,GAA6B,IAAI5oB,IAAU2oB,KAC3CG,GAA8B,IAAI9oB,IAAU6oB,KAC5CG,GAAoBD,IACpBlP,GAAUoP,IAAmB/rB,EvDjJE,EuDiJsC,IAtEzE,6CAzBc,sBAkGdgQ,IACA,IAAMC,EAAKC,YAAYF,EAAgB,MAGvC,OAAO,WACLD,GAAc,EACdI,cAAcF,MAEf,CAACP,IAEJ,IAAMkd,GAAqBnB,GAA0BvQ,cAAc,IAAIpY,IAAU,wBAC3E+pB,GAAmBxB,GAAwBnQ,cAAc,IAAMyQ,GAA2BzQ,cAAc,IAAMqQ,GAAwBrQ,cAAc,GAC1J,OACE,oCACE,kBAAC,GAAD,CAAYvI,KAAM,uBAAG6D,UAAU,yBAA0BoB,KAAK,mBAE7DiV,GACC,oCACE,kBAAC,SAAD,CAAQva,QAAS,0BAEjB,kBAAC,GAAD,CACEuV,kBAAmBtY,GAAqBC,GACxC0a,iBAAkB0C,GAClBxR,OAAQiQ,GACRrC,UAAW2C,GACXtQ,OAAQkQ,GACRpY,OAAQ0Y,MAGV,GAEJ,kBAAC,GAAD,CACEnD,kBAAmBzX,EACnBiJ,qBAAsBlJ,GACtB2X,0BAA2BsC,GAC3BrC,2BAA4BuC,GAC5BtC,gBAAiBA,EACjBC,kBAAmBvM,GACnB3C,SAAU6C,KAGZ,kBAAC,GAAD,CACEjN,YAAaA,EACbE,KAAMA,EACN3B,QAASkD,EACTnL,UAAW+kB,EACXxa,cAAeU,EACfoC,OAAQoJ,KAGV,kBAAC,GAAD,CACE/M,YAAaA,EACb4L,OAAQrK,EACRsK,OAAQrK,GACRmC,OAAQoJ,GACRjB,OAAQA,KAGV,kBAAC,GAAD,CACE9L,YAAaA,EACbwZ,UAAWmC,GACXhY,OAAQoJ,KAGV,kBAAC,GAAD,CACE/M,YAAaA,EACbE,KAAMA,EACN0Z,SAAUwD,GAAqB,IAAI9pB,IAAU,GAAKmoB,GAClD9X,OAAQoJ,GACRnE,eAAgBA,EAChBC,gBAAiBA,EACjBgR,gBAAiBA,EACjBC,kBAAmBA,MCpM3B,SAASvT,GAAT,GAEoB,IADlB9B,EACiB,EADjBA,MAAO+B,EACU,EADVA,YAAarD,EACH,EADGA,KAAMI,EACT,EADSA,QAASkD,EAClB,EADkBA,IAEnC,OACE,kBAAC,WAAD,CAAUlD,QAASA,EAASrB,MAAO,CAAEa,MAAO,SAC1C,kBAAC,MAAD,KACE,yBAAKb,MAAO,CAAEE,QAAS,GAAID,SAAU,KAClCsC,EACAgC,EAAM,kBAAC,MAAD,KAAMA,GAAa,sCAE5B,0BAAMvE,MAAO,CAAEC,SAAU,KACtBgB,GAGH,yBAAKjB,MAAO,CAAE2D,WAAY,EAAGjB,QAAS,KACnC,IACA4B,EACA,OAQI8W,OApDf,WAEE,OACE,oCACE,yBAAKpb,MAAO,CAAEE,QAAS,KAAM8B,QAAS,OAAQ2C,WAAY,WACxD,kBAAC,GAAD,CACEpC,MAAM,0BACN+B,YAAY,yBACZrD,KAAM,uBAAG6D,UAAU,wBACnBzD,QAAS,WAEP/R,OAAO6T,SAAW,iCCoFfkY,OAhFf,WACE,IAAMC,EAAczoB,EAAc,QAAS,SAD9B,EAGiBoL,oBAAS,GAH1B,mBAGNsD,EAHM,KAGGga,EAHH,OAIWtd,mBAAS,IAJpB,mBAIND,EAJM,KAIAwD,EAJA,OAKavD,mBAASqd,GALtB,mBAKNlsB,EALM,KAKCosB,EALD,KAiCb,OApBApd,qBAAU,WACR,IAAIC,GAAc,EADJ,SAGCC,IAHD,2EAGd,sBAAAjP,EAAA,sDACOgP,GAEHkd,EAAsC,qBAApBjsB,OAAOG,UAH7B,4CAHc,sBAUd6O,IACA,IAAMC,EAAKC,YAAYF,EAAgB,MAGvC,OAAO,WACLD,GAAc,EACdI,cAAcF,MAEf,CAACP,IAGF,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEyd,QAAS,GACTC,WAAY,CACVC,cAAe,CAAEC,OAAQ,uCACzBC,WAAY,CACVC,IAAK,sCACLC,QAAQ,kBACRC,WAAY,MAIhB,kBAAC,OAAD,CAAMC,UAAS,UAAKC,IAAL,eAA0C9sB,MAAOA,EAAO+sB,QAAQ,GAC7E,kBAAC,GAAD,CAAQ5a,QAASA,EAASvD,KAAMA,EAAMwD,QAASA,IAC/C,kBAAC,SAAD,KAEED,EACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO6a,KAAK,kBAAiB,kBAAC,GAAD,CAAQpe,KAAMA,KAC3C,kBAAC,IAAD,CAAOoe,KAAK,SAAQ,kBAAC,GAAD,CAAQpe,KAAMA,KAClC,kBAAC,IAAD,CAAOoe,KAAK,WAAU,kBAAC,GAAD,CAAape,KAAMA,KACzC,kBAAC,IAAD,CAAOoe,KAAK,sBAAqB,kBAAC,GAAD,CAAcpe,KAAMA,KACrD,kBAAC,IAAD,CAAOoe,KAAK,aAAY,kBAAC,GAAD,CAAcpe,KAAMA,KAC5C,kBAAC,IAAD,CAAOoe,KAAK,oCAAmC,kBAAC,GAAD,CAAWpe,KAAMA,KAChE,kBAAC,IAAD,CAAOoe,KAAK,gBAAe,kBAAC,GAAD,CAAYpe,KAAMA,KAC7C,kBAAC,IAAD,CAAOoe,KAAK,WAAU,kBAACC,GAAD,CAAOre,KAAMA,KACnC,kBAAC,IAAD,CAAOoe,KAAK,gBAAe,kBAAC,GAAD,CAAYpe,KAAMA,KAC7C,kBAAC,IAAD,CAAOoe,KAAK,mBAAkB,kBAAC,GAAD,CAAMpe,KAAMA,KAC1C,kBAAC,IAAD,CAAOoe,KAAK,UAAS,kBAAC,GAAD,CAAMpe,KAAMA,KACjC,kBAAC,IAAD,CAAOoe,KAAK,KAAI,kBAAC,GAAD,CAAUpe,KAAMA,MAGlC,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOoe,KAAK,KAAI,kBAAC,GAAD,SAItB,yBAAKpc,MAAO,CAACmB,OAAQ,QAASN,MAAO,UACrC,kBAAC,GAAD,CAAQU,QAASA,EAASnS,MAAOA,EAAOiY,YAjE5B,SAACiV,GACnBd,EAASc,GACTntB,EAAgBmtB,GAChBppB,GAAgB,QAASopB,UClBTC,QACW,cAA7BjtB,OAAO6T,SAASqZ,UAEe,UAA7BltB,OAAO6T,SAASqZ,UAEhBltB,OAAO6T,SAASqZ,SAASC,MACvB,2D,8CCTNC,KAAOC,OAAO,MACdC,OAEAC,IAASC,OAAO,kBAAC,GAAD,MAASC,SAASC,eAAe,SDuH3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBC,MAAK,SAAAC,GACJA,EAAaC,gBAEdC,OAAM,SAAAC,GACLtvB,QAAQsvB,MAAMA,EAAMC,c","file":"static/js/main.48472647.chunk.js","sourcesContent":["export const notify = {\r\n  hash: (v) => console.log(v)\r\n}","/* eslint-disable camelcase */\r\n// eslint-disable-next-line import/prefer-default-export\r\nexport const UniswapV2Router02 = '0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D';\r\nexport const DollarPool1 = '0x9BA9776ca8922AB737d7Da001389cbF25F49e63c';\r\nexport const DollarPool2 = '0xA5976897BC0081e3895013B08654DfEc50Bcb33F';\r\nexport const DollarPool3 = '0xBBDA9B2f267b94147cB5b51653237C2F1EE69054';\r\nexport const DollarPool4 = '0x4082D11E506e3250009A991061ACd2176077C88f';\r\n","export const UNI = {\r\n  addr: '0x03cfbfb7132af5caa25bfeeb0989cdb879b578bb', // Uniswap V2: ESD-USDC\r\n  decimals: 18,\r\n  symbol: 'UNI',\r\n};\r\n\r\nexport const USDC = {\r\n  addr: '0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48', // USD Coin\r\n  decimals: 6,\r\n  symbol: 'USDC',\r\n};\r\n\r\nexport const ESD = {\r\n  addr: '0xb33C3e51d1Cc68176c3f17aAfe90668dbd969478', // Empty Set Dollar: ESD Token\r\n  decimals: 18,\r\n  symbol: 'ESD',\r\n};\r\n\r\nexport const ESDS = {\r\n  addr: '0xaB397274Ef41DE0a29F44CF7e42224c823aa34Ae', // Root/Implementation\r\n  decimals: 18,\r\n  symbol: 'ESDS',\r\n};\r\n","/* eslint-disable camelcase */\r\nimport Web3 from 'web3';\r\nimport BigNumber from 'bignumber.js';\r\n\r\nimport { notify } from './txNotifier.ts';\r\nimport { UniswapV2Router02 } from '../constants/contracts';\r\n\r\nimport { ESD, USDC } from '../constants/tokens';\r\n\r\nconst uniswapRouterAbi = require('../constants/abi/UniswapV2Router02.json');\r\nconst testnetUSDCAbi = require('../constants/abi/TestnetUSDC.json');\r\nconst daoAbi = require('../constants/abi/Implementation.json');\r\nconst poolAbi = require('../constants/abi/Pool.json');\r\n\r\nconst DEADLINE_FROM_NOW = 60 * 15;\r\nconst UINT256_MAX = '0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff';\r\n\r\n/**\r\n * Connection Utilities\r\n */\r\n\r\nexport const updateModalMode = async (theme) => {\r\n  window.darkMode = theme === 'dark';\r\n};\r\n\r\nexport const connect = async (ethereum) => {\r\n  window.web3 = new Web3(ethereum);\r\n  let addresses = await window.web3.eth.getAccounts();\r\n  if (!addresses.length) {\r\n    try {\r\n      addresses = await window.ethereum.enable();\r\n    } catch (e) {\r\n      console.log(e);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  return addresses.length ? addresses[0].toLowerCase() : null;\r\n};\r\n\r\n// eslint-disable-next-line consistent-return\r\nexport const checkConnectedAndGetAddress = async () => {\r\n  let addresses = await window.web3.eth.getAccounts();\r\n  if (!addresses.length) {\r\n    try {\r\n      addresses = await window.ethereum.enable();\r\n      // eslint-disable-next-line no-empty\r\n    } catch (e) { }\r\n  }\r\n\r\n  return addresses[0];\r\n};\r\n\r\n/**\r\n * ERC20 Utilities\r\n */\r\n\r\nexport const approve = async (tokenAddr, spender, amt = UINT256_MAX) => {\r\n  const account = await checkConnectedAndGetAddress();\r\n  const oToken = new window.web3.eth.Contract(testnetUSDCAbi, tokenAddr);\r\n  await oToken.methods\r\n    .approve(spender, amt)\r\n    .send({ from: account })\r\n    .on('transactionHash', (hash) => {\r\n      notify.hash(hash);\r\n    });\r\n};\r\n\r\nexport const mintTestnetUSDC = async (amount) => {\r\n  const account = await checkConnectedAndGetAddress();\r\n  const usdc = new window.web3.eth.Contract(testnetUSDCAbi, USDC.addr);\r\n\r\n  await usdc.methods.mint(account, new BigNumber(amount).toFixed())\r\n    .send({ from: account })\r\n    .on('transactionHash', (hash) => {\r\n      notify.hash(hash);\r\n    });\r\n};\r\n\r\n/**\r\n * Uniswap Protocol\r\n */\r\n\r\nexport const buyESD = async (buyAmount, maxInputAmount) => {\r\n  const account = await checkConnectedAndGetAddress();\r\n  const router = new window.web3.eth.Contract(uniswapRouterAbi, UniswapV2Router02);\r\n  const deadline = Math.ceil(Date.now() / 1000) + DEADLINE_FROM_NOW;\r\n\r\n  await router.methods.swapTokensForExactTokens(\r\n    buyAmount,\r\n    maxInputAmount,\r\n    [USDC.addr, ESD.addr],\r\n    account,\r\n    deadline,\r\n  )\r\n    .send({ from: account })\r\n    .on('transactionHash', (hash) => {\r\n      notify.hash(hash);\r\n    });\r\n};\r\n\r\nexport const sellESD = async (sellAmount, minOutputAmount) => {\r\n  const account = await checkConnectedAndGetAddress();\r\n  const router = new window.web3.eth.Contract(uniswapRouterAbi, UniswapV2Router02);\r\n  const deadline = Math.ceil(Date.now() / 1000) + DEADLINE_FROM_NOW;\r\n\r\n  await router.methods.swapExactTokensForTokens(\r\n    sellAmount,\r\n    minOutputAmount,\r\n    [ESD.addr, USDC.addr],\r\n    account,\r\n    deadline,\r\n  )\r\n    .send({ from: account })\r\n    .on('transactionHash', (hash) => {\r\n      notify.hash(hash);\r\n    });\r\n};\r\n\r\nexport const addLiquidity = async (amountESD, amountUSDC, slippage) => {\r\n  const account = await checkConnectedAndGetAddress();\r\n  const router = new window.web3.eth.Contract(uniswapRouterAbi, UniswapV2Router02);\r\n  const deadline = Math.ceil(Date.now() / 1000) + DEADLINE_FROM_NOW;\r\n  const slippageBN = new BigNumber(slippage);\r\n  const minAmountESD = new BigNumber(amountESD)\r\n    .multipliedBy(new BigNumber(1).minus(slippageBN))\r\n    .integerValue(BigNumber.ROUND_FLOOR);\r\n  const minAmountUSDC = new BigNumber(amountUSDC)\r\n    .multipliedBy(new BigNumber(1).minus(slippageBN))\r\n    .integerValue(BigNumber.ROUND_FLOOR);\r\n\r\n  await router.methods.addLiquidity(\r\n    ESD.addr,\r\n    USDC.addr,\r\n    new BigNumber(amountESD).toFixed(),\r\n    new BigNumber(amountUSDC).toFixed(),\r\n    minAmountESD,\r\n    minAmountUSDC,\r\n    account,\r\n    deadline,\r\n  )\r\n    .send({ from: account })\r\n    .on('transactionHash', (hash) => {\r\n      notify.hash(hash);\r\n    });\r\n};\r\n\r\nexport const removeLiquidity = async (liquidityAmount, minAmountESD, minAmountUSDC) => {\r\n  const account = await checkConnectedAndGetAddress();\r\n  const router = new window.web3.eth.Contract(uniswapRouterAbi, UniswapV2Router02);\r\n  const deadline = Math.ceil(Date.now() / 1000) + DEADLINE_FROM_NOW;\r\n\r\n  await router.methods.removeLiquidity(\r\n    ESD.addr,\r\n    USDC.addr,\r\n    new BigNumber(liquidityAmount).toFixed(),\r\n    new BigNumber(minAmountESD).toFixed(),\r\n    new BigNumber(minAmountUSDC).toFixed(),\r\n    account,\r\n    deadline,\r\n  )\r\n    .send({ from: account })\r\n    .on('transactionHash', (hash) => {\r\n      notify.hash(hash);\r\n    });\r\n};\r\n\r\n/**\r\n * Døllar Protocol\r\n */\r\n\r\nexport const advance = async (dao) => {\r\n  const account = await checkConnectedAndGetAddress();\r\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\r\n  await daoContract.methods\r\n    .advance()\r\n    .send({\r\n      from: account,\r\n    })\r\n    .on('transactionHash', (hash) => {\r\n      notify.hash(hash);\r\n    });\r\n};\r\n\r\nexport const deposit = async (dao, amount) => {\r\n  const account = await checkConnectedAndGetAddress();\r\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\r\n  await daoContract.methods\r\n    .deposit(new BigNumber(amount).toFixed())\r\n    .send({\r\n      from: account,\r\n    })\r\n    .on('transactionHash', (hash) => {\r\n      notify.hash(hash);\r\n    });\r\n};\r\n\r\nexport const withdraw = async (dao, amount) => {\r\n  const account = await checkConnectedAndGetAddress();\r\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\r\n  await daoContract.methods\r\n    .withdraw(new BigNumber(amount).toFixed())\r\n    .send({\r\n      from: account,\r\n    })\r\n    .on('transactionHash', (hash) => {\r\n      notify.hash(hash);\r\n    });\r\n};\r\n\r\nexport const bond = async (dao, amount) => {\r\n  const account = await checkConnectedAndGetAddress();\r\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\r\n  await daoContract.methods\r\n    .bond(new BigNumber(amount).toFixed())\r\n    .send({\r\n      from: account,\r\n    })\r\n    .on('transactionHash', (hash) => {\r\n      notify.hash(hash);\r\n    });\r\n};\r\n\r\nexport const unbond = async (dao, amount) => {\r\n  const account = await checkConnectedAndGetAddress();\r\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\r\n  await daoContract.methods\r\n    .unbond(new BigNumber(amount).toFixed())\r\n    .send({\r\n      from: account,\r\n    })\r\n    .on('transactionHash', (hash) => {\r\n      notify.hash(hash);\r\n    });\r\n};\r\n\r\nexport const unbondUnderlying = async (dao, amount) => {\r\n  const account = await checkConnectedAndGetAddress();\r\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\r\n  await daoContract.methods\r\n    .unbondUnderlying(new BigNumber(amount).toFixed())\r\n    .send({\r\n      from: account,\r\n    })\r\n    .on('transactionHash', (hash) => {\r\n      notify.hash(hash);\r\n    });\r\n};\r\n\r\nexport const purchaseCoupons = async (dao, amount) => {\r\n  const account = await checkConnectedAndGetAddress();\r\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\r\n  await daoContract.methods\r\n    .purchaseCoupons(new BigNumber(amount).toFixed())\r\n    .send({\r\n      from: account,\r\n    })\r\n    .on('transactionHash', (hash) => {\r\n      notify.hash(hash);\r\n    });\r\n};\r\n\r\nexport const redeemCoupons = async (dao, epoch, amount) => {\r\n  const account = await checkConnectedAndGetAddress();\r\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\r\n  await daoContract.methods\r\n    .redeemCoupons(epoch, new BigNumber(amount).toFixed())\r\n    .send({\r\n      from: account,\r\n    })\r\n    .on('transactionHash', (hash) => {\r\n      notify.hash(hash);\r\n    });\r\n};\r\n\r\nexport const recordVote = async (dao, candidate, voteType) => {\r\n  const account = await checkConnectedAndGetAddress();\r\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\r\n  await daoContract.methods\r\n    .vote(candidate, voteType)\r\n    .send({\r\n      from: account,\r\n    })\r\n    .on('transactionHash', (hash) => {\r\n      notify.hash(hash);\r\n    });\r\n};\r\n\r\nexport const commit = async (dao, candidate) => {\r\n  const account = await checkConnectedAndGetAddress();\r\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\r\n  await daoContract.methods\r\n    .commit(candidate)\r\n    .send({\r\n      from: account,\r\n    })\r\n    .on('transactionHash', (hash) => {\r\n      notify.hash(hash);\r\n    });\r\n};\r\n\r\n/* UNI-V2 Incentivization Pool */\r\nexport const depositPool = async (pool, amount, callback) => {\r\n  const account = await checkConnectedAndGetAddress();\r\n  const poolContract = new window.web3.eth.Contract(poolAbi, pool);\r\n  await poolContract.methods\r\n    .deposit(new BigNumber(amount).toFixed())\r\n    .send({\r\n      from: account,\r\n    })\r\n    .on('transactionHash', (hash) => {\r\n      notify.hash(hash);\r\n      callback(hash);\r\n    });\r\n};\r\n\r\nexport const withdrawPool = async (pool, amount, callback) => {\r\n  const account = await checkConnectedAndGetAddress();\r\n  const poolContract = new window.web3.eth.Contract(poolAbi, pool);\r\n  await poolContract.methods\r\n    .withdraw(new BigNumber(amount).toFixed())\r\n    .send({\r\n      from: account,\r\n    })\r\n    .on('transactionHash', (hash) => {\r\n      notify.hash(hash);\r\n      callback(hash);\r\n    });\r\n};\r\n\r\nexport const bondPool = async (pool, amount, callback) => {\r\n  const account = await checkConnectedAndGetAddress();\r\n  const poolContract = new window.web3.eth.Contract(poolAbi, pool);\r\n  await poolContract.methods\r\n    .bond(new BigNumber(amount).toFixed())\r\n    .send({\r\n      from: account,\r\n    })\r\n    .on('transactionHash', (hash) => {\r\n      notify.hash(hash);\r\n      callback(hash);\r\n    });\r\n};\r\n\r\nexport const unbondPool = async (pool, amount, callback) => {\r\n  const account = await checkConnectedAndGetAddress();\r\n  const poolContract = new window.web3.eth.Contract(poolAbi, pool);\r\n  await poolContract.methods\r\n    .unbond(new BigNumber(amount).toFixed())\r\n    .send({\r\n      from: account,\r\n    })\r\n    .on('transactionHash', (hash) => {\r\n      notify.hash(hash);\r\n      callback(hash);\r\n    });\r\n};\r\n\r\nexport const claimPool = async (pool, amount, callback) => {\r\n  const account = await checkConnectedAndGetAddress();\r\n  const poolContract = new window.web3.eth.Contract(poolAbi, pool);\r\n  await poolContract.methods\r\n    .claim(new BigNumber(amount).toFixed())\r\n    .send({\r\n      from: account,\r\n    })\r\n    .on('transactionHash', (hash) => {\r\n      notify.hash(hash);\r\n      callback(hash);\r\n    });\r\n};\r\n\r\nexport const providePool = async (pool, amount, callback) => {\r\n  const account = await checkConnectedAndGetAddress();\r\n  const poolContract = new window.web3.eth.Contract(poolAbi, pool);\r\n  await poolContract.methods\r\n    .provide(new BigNumber(amount).toFixed())\r\n    .send({\r\n      from: account,\r\n    })\r\n    .on('transactionHash', (hash) => {\r\n      notify.hash(hash);\r\n      callback(hash);\r\n    });\r\n};\r\n","/**\r\n * Get value by key\r\n * @param {string} key\r\n * @param {string} defaultValue\r\n */\r\nexport function getPreference(key:string, defaultValue:string): string {\r\n  return localStorage.getItem(key) || defaultValue;\r\n}\r\n\r\n/**\r\n * store value to storage\r\n * @param {string} key\r\n * @param {string} value\r\n */\r\nexport function storePreference(key:string, value:string):void {\r\n  localStorage.setItem(key, value);\r\n}\r\n","import Web3 from 'web3';\r\n\r\nimport BigNumber from 'bignumber.js';\r\nimport { UniswapV2Router02 } from '../constants/contracts';\r\nimport { ESD, UNI, USDC } from '../constants/tokens';\r\nimport { POOL_EXIT_LOCKUP_EPOCHS } from '../constants/values';\r\n\r\nconst dollarAbi = require('../constants/abi/Dollar.json');\r\nconst daoAbi = require('../constants/abi/Implementation.json');\r\nconst poolAbi = require('../constants/abi/Pool.json');\r\nconst uniswapRouterAbi = require('../constants/abi/UniswapV2Router02.json');\r\nconst uniswapPairAbi = require('../constants/abi/UniswapV2Pair.json');\r\n\r\nlet web3;\r\n// eslint-disable-next-line no-undef\r\nif (window.ethereum !== undefined) {\r\n  // eslint-disable-next-line no-undef\r\n  web3 = new Web3(ethereum);\r\n}\r\n\r\n/**\r\n *\r\n * @param {string} token address\r\n * @param {string} account address\r\n * @return {Promise<string>}\r\n */\r\nexport const getTokenBalance = async (token, account) => {\r\n  if (account === '') return '0';\r\n  const tokenContract = new web3.eth.Contract(dollarAbi, token);\r\n  return tokenContract.methods.balanceOf(account).call();\r\n};\r\n\r\nexport const getTokenTotalSupply = async (token) => {\r\n  const tokenContract = new web3.eth.Contract(dollarAbi, token);\r\n  return tokenContract.methods.totalSupply().call();\r\n};\r\n\r\n/**\r\n *\r\n * @param {string} token\r\n * @param {string} account\r\n * @param {string} spender\r\n * @return {Promise<string>}\r\n */\r\nexport const getTokenAllowance = async (token, account, spender) => {\r\n  const tokenContract = new web3.eth.Contract(dollarAbi, token);\r\n  return tokenContract.methods.allowance(account, spender).call();\r\n};\r\n\r\n// Døllar Protocol\r\n\r\n/**\r\n *\r\n * @param {string} dao address\r\n * @param {string} account address\r\n * @return {Promise<string>}\r\n */\r\nexport const getBalanceBonded = async (dao, account) => {\r\n  if (account === '') return '0';\r\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\r\n  return daoContract.methods.balanceOfBonded(account).call();\r\n};\r\n\r\n/**\r\n *\r\n * @param {string} dao address\r\n * @param {string} account address\r\n * @return {Promise<string>}\r\n */\r\nexport const getBalanceOfStaged = async (dao, account) => {\r\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\r\n  return daoContract.methods.balanceOfStaged(account).call();\r\n};\r\n\r\n/**\r\n *\r\n * @param {string} dao address\r\n * @param {string} account address\r\n * @return {Promise<string>}\r\n */\r\nexport const getStatusOf = async (dao, account) => {\r\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\r\n  return daoContract.methods.statusOf(account).call();\r\n};\r\n\r\n/**\r\n *\r\n * @param {string} dao address\r\n * @param {string} account address\r\n * @return {Promise<string>}\r\n */\r\nexport const getFluidUntil = async (dao, account) => {\r\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\r\n  return daoContract.methods.fluidUntil(account).call();\r\n};\r\n\r\n/**\r\n *\r\n * @param {string} dao address\r\n * @param {string} account address\r\n * @return {Promise<string>}\r\n */\r\nexport const getLockedUntil = async (dao, account) => {\r\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\r\n  return daoContract.methods.lockedUntil(account).call();\r\n};\r\n\r\n/**\r\n *\r\n * @param {string} dao address\r\n * @return {Promise<string>}\r\n */\r\nexport const getEpoch = async (dao) => {\r\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\r\n  return daoContract.methods.epoch().call();\r\n};\r\n\r\n/**\r\n *\r\n * @param {string} dao address\r\n * @return {Promise<string>}\r\n */\r\nexport const getEpochTime = async (dao) => {\r\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\r\n  return daoContract.methods.epochTime().call();\r\n};\r\n\r\n/**\r\n *\r\n * @param {string} dao address\r\n * @return {Promise<string>}\r\n */\r\nexport const getTotalDebt = async (dao) => {\r\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\r\n  return daoContract.methods.totalDebt().call();\r\n};\r\n\r\n/**\r\n *\r\n * @param {string} dao address\r\n * @return {Promise<string>}\r\n */\r\nexport const getTotalRedeemable = async (dao) => {\r\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\r\n  return daoContract.methods.totalRedeemable().call();\r\n};\r\n\r\n/**\r\n *\r\n * @param {string} dao address\r\n * @return {Promise<string>}\r\n */\r\nexport const getTotalCoupons = async (dao) => {\r\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\r\n  return daoContract.methods.totalCoupons().call();\r\n};\r\n\r\n/**\r\n *\r\n * @param {string} dao address\r\n * @return {Promise<string>}\r\n */\r\nexport const getTotalBonded = async (dao) => {\r\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\r\n  return daoContract.methods.totalBonded().call();\r\n};\r\n\r\n/**\r\n *\r\n * @param {string} dao address\r\n * @return {Promise<string>}\r\n */\r\nexport const getTotalStaged = async (dao) => {\r\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\r\n  return daoContract.methods.totalStaged().call();\r\n};\r\n\r\n/**\r\n *\r\n * @param {string} dao address\r\n * @param {number} epoch number\r\n * @return {Promise<string>}\r\n */\r\nexport const getTotalBondedAt = async (dao, epoch) => {\r\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\r\n  return daoContract.methods.totalBondedAt(epoch).call();\r\n};\r\n\r\n/**\r\n *\r\n * @param {string} dao address\r\n * @param {string} candidate address\r\n * @return {Promise<string>}\r\n */\r\nexport const getApproveFor = async (dao, candidate) => {\r\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\r\n  return daoContract.methods.approveFor(candidate).call();\r\n};\r\n\r\n/**\r\n *\r\n * @param {string} dao address\r\n * @param {string} candidate address\r\n * @return {Promise<string>}\r\n */\r\nexport const getRejectFor = async (dao, candidate) => {\r\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\r\n  return daoContract.methods.rejectFor(candidate).call();\r\n};\r\n\r\n/**\r\n *\r\n * @param {string} dao address\r\n * @param {string} candidate address\r\n * @return {Promise<string>}\r\n */\r\nexport const getStartFor = async (dao, candidate) => {\r\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\r\n  return daoContract.methods.startFor(candidate).call();\r\n};\r\n\r\n/**\r\n *\r\n * @param {string} dao address\r\n * @param {string} candidate address\r\n * @return {Promise<string>}\r\n */\r\nexport const getPeriodFor = async (dao, candidate) => {\r\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\r\n  return daoContract.methods.periodFor(candidate).call();\r\n};\r\n\r\n/**\r\n *\r\n * @param {string} dao address\r\n * @param {string} candidate address\r\n * @return {Promise<boolean>}\r\n */\r\nexport const getIsInitialized = async (dao, candidate) => {\r\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\r\n  return daoContract.methods.isInitialized(candidate).call();\r\n};\r\n\r\n/**\r\n *\r\n * @param {string} dao address\r\n * @param {string} account address\r\n * @param {string} candidate address\r\n * @return {Promise<string>}\r\n */\r\nexport const getRecordedVote = async (dao, account, candidate) => {\r\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\r\n  return daoContract.methods.recordedVote(account, candidate).call();\r\n};\r\n\r\n/**\r\n *\r\n * @param {string} dao address\r\n * @param {string} account address\r\n * @param {number} epoch number\r\n * @return {Promise<string>}\r\n */\r\nexport const getBalanceOfCoupons = async (dao, account, epoch) => {\r\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\r\n  return daoContract.methods.balanceOfCoupons(account, epoch).call();\r\n};\r\n\r\n/**\r\n *\r\n * @param {string} dao address\r\n * @param {string} account address\r\n * @param {number[]} epochs number[]\r\n * @return {Promise<string[]>}\r\n */\r\nexport const getBatchBalanceOfCoupons = async (dao, account, epochs) => {\r\n  const calls = epochs.map((epoch) => getBalanceOfCoupons(dao, account, epoch));\r\n  return Promise.all(calls);\r\n};\r\n\r\n/**\r\n *\r\n * @param {string} dao address\r\n * @param {number} epoch address\r\n * @return {Promise<string>}\r\n */\r\nexport const getOutstandingCoupons = async (dao, epoch) => {\r\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\r\n  return daoContract.methods.outstandingCoupons(epoch).call();\r\n};\r\n\r\n/**\r\n *\r\n * @param {string} dao address\r\n * @param {number} epoch number\r\n * @return {Promise<string>}\r\n */\r\nexport const getCouponsExpiration = async (dao, epoch) => {\r\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\r\n  return daoContract.methods.couponsExpiration(epoch).call();\r\n};\r\n\r\n/**\r\n *\r\n * @param {string} dao address\r\n * @param {number[]} epochs number[]\r\n * @return {Promise<string[]>}\r\n */\r\nexport const getBatchCouponsExpiration = async (dao, epochs) => {\r\n  const calls = epochs.map((epoch) => getCouponsExpiration(dao, epoch));\r\n  return Promise.all(calls);\r\n};\r\n\r\n/**\r\n *\r\n * @param {string} dao address\r\n * @param {string|BigNumber} amount uint256\r\n * @return {Promise<string>}\r\n */\r\nexport const getCouponPremium = async (dao, amount) => {\r\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\r\n  return daoContract.methods.couponPremium(new BigNumber(amount).toFixed()).call();\r\n};\r\n\r\n/**\r\n *\r\n * @param {string} dao address\r\n * @return {Promise<string>}\r\n */\r\nexport const getImplementation = async (dao) => {\r\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\r\n  return daoContract.methods.implementation().call();\r\n};\r\n\r\n/**\r\n *\r\n * @param {string} dao address\r\n * @return {Promise<string>}\r\n */\r\nexport const getPool = async (dao) => {\r\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\r\n  return daoContract.methods.pool().call();\r\n};\r\n\r\n/**\r\n *\r\n * @param {string} dao\r\n * @param {string} account\r\n * @return {Promise<any[]>}\r\n */\r\nexport const getCouponEpochs = async (dao, account) => {\r\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\r\n  const purchaseP = daoContract.getPastEvents('CouponPurchase', {\r\n    filter: { account },\r\n    fromBlock: 0,\r\n  });\r\n  const transferP = daoContract.getPastEvents('CouponTransfer', {\r\n    filter: { to: account },\r\n    fromBlock: 0,\r\n  });\r\n  const [bought, given] = await Promise.all([purchaseP, transferP]);\r\n  const events = bought.map((e) => ({epoch: e.returnValues.epoch, amount: e.returnValues.couponAmount}))\r\n    .concat(given.map((e) => ({epoch: e.returnValues.epoch, amount: 0})));\r\n\r\n  const couponEpochs = [\r\n    ...events.reduce(\r\n      (map, event) => {\r\n        const { epoch, amount } = event;\r\n        const prev = map.get(epoch);\r\n\r\n        if (prev) {\r\n          map.set(epoch, { epoch, coupons: prev.coupons.plus(new BigNumber(amount)) });\r\n        } else {\r\n          map.set(epoch, { epoch, coupons: new BigNumber(amount) });\r\n        }\r\n\r\n        return map;\r\n      },\r\n      new Map(),\r\n    ).values(),\r\n  ];\r\n\r\n  return couponEpochs.sort((a, b) => a - b);\r\n};\r\n\r\n/**\r\n *\r\n * @param {string} dao\r\n * @return {Promise<any[]>}\r\n */\r\nexport const getAllProposals = async (dao) => {\r\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\r\n  const payload = (await daoContract.getPastEvents('Proposal', {\r\n    fromBlock: 0,\r\n  })).map((event) => {\r\n    const prop = event.returnValues;\r\n    prop.blockNumber = event.blockNumber;\r\n    return prop;\r\n  });\r\n  return payload.sort((a, b) => b.blockNumber - a.blockNumber);\r\n};\r\n\r\n/**\r\n *\r\n * @param {string} dao\r\n * @return {Promise<any[]>}\r\n */\r\nexport const getAllRegulations = async (dao) => {\r\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\r\n  const increaseP = daoContract.getPastEvents('SupplyIncrease', { fromBlock: 0 });\r\n  const decreaseP = daoContract.getPastEvents('SupplyDecrease', { fromBlock: 0 });\r\n  const neutralP = daoContract.getPastEvents('SupplyNeutral', { fromBlock: 0 });\r\n\r\n  const [increase, decrease, neutral] = await Promise.all([increaseP, decreaseP, neutralP]);\r\n\r\n  const events = increase.map((e) => ({ type: 'INCREASE', data: e.returnValues }))\r\n    .concat(decrease.map((e) => ({ type: 'DECREASE', data: e.returnValues })))\r\n    .concat(neutral.map((e) => ({ type: 'NEUTRAL', data: e.returnValues })));\r\n\r\n  return events.sort((a, b) => b.data.epoch - a.data.epoch);\r\n};\r\n\r\n// Uniswap Protocol\r\n\r\nexport const getCost = async (amount) => {\r\n  const exchange = new web3.eth.Contract(uniswapRouterAbi, UniswapV2Router02);\r\n  // eslint-disable-next-line no-unused-vars\r\n  const [inputAmount, _] = await exchange.methods.getAmountsIn(\r\n    new BigNumber(amount).toFixed(),\r\n    [USDC.addr, ESD.addr],\r\n  ).call();\r\n  return inputAmount;\r\n};\r\n\r\nexport const getProceeds = async (amount) => {\r\n  const exchange = new web3.eth.Contract(uniswapRouterAbi, UniswapV2Router02);\r\n  // eslint-disable-next-line no-unused-vars\r\n  const [_, outputAmount] = await exchange.methods.getAmountsOut(\r\n    new BigNumber(amount).toFixed(),\r\n    [ESD.addr, USDC.addr],\r\n  ).call();\r\n  return outputAmount;\r\n};\r\n\r\nexport const getReserves = async () => {\r\n  const exchange = new web3.eth.Contract(uniswapPairAbi, UNI.addr);\r\n  return exchange.methods.getReserves().call();\r\n};\r\n\r\nexport const getInstantaneousPrice = async () => {\r\n  const [reserve, token0] = await Promise.all([getReserves(), getToken0()]);\r\n  const token0Balance = new BigNumber(reserve.reserve0);\r\n  const token1Balance = new BigNumber(reserve.reserve1);\r\n  if (token0.toLowerCase() === USDC.addr.toLowerCase()) {\r\n    return token0Balance.multipliedBy(new BigNumber(10).pow(12)).dividedBy(token1Balance);\r\n  }\r\n  return token1Balance.multipliedBy(new BigNumber(10).pow(12)).dividedBy(token0Balance);\r\n};\r\n\r\nexport const getToken0 = async () => {\r\n  const exchange = new web3.eth.Contract(uniswapPairAbi, UNI.addr);\r\n  return exchange.methods.token0().call();\r\n};\r\n\r\n// Pool\r\n\r\nexport const getPoolStatusOf = async (pool, account) => {\r\n  const poolContract = new web3.eth.Contract(poolAbi, pool);\r\n  return poolContract.methods.statusOf(account).call();\r\n};\r\n\r\n/**\r\n *\r\n * @param {string} pool address\r\n * @param {string} account address\r\n * @return {Promise<string>}\r\n */\r\nexport const getPoolBalanceOfBonded = async (pool, account) => {\r\n  if (account === '') return '0';\r\n  const poolContract = new web3.eth.Contract(poolAbi, pool);\r\n  return poolContract.methods.balanceOfBonded(account).call();\r\n};\r\n\r\n/**\r\n *\r\n * @param {string} pool address\r\n * @param {string} account address\r\n * @return {Promise<string>}\r\n */\r\nexport const getPoolBalanceOfStaged = async (pool, account) => {\r\n  const poolContract = new web3.eth.Contract(poolAbi, pool);\r\n  return poolContract.methods.balanceOfStaged(account).call();\r\n};\r\n\r\n/**\r\n *\r\n * @param {string} pool address\r\n * @param {string} account address\r\n * @return {Promise<string>}\r\n */\r\nexport const getPoolBalanceOfRewarded = async (pool, account) => {\r\n  if (account === '') return '0';\r\n  const poolContract = new web3.eth.Contract(poolAbi, pool);\r\n  return poolContract.methods.balanceOfRewarded(account).call();\r\n};\r\n\r\n/**\r\n *\r\n * @param {string} pool address\r\n * @param {string} account address\r\n * @return {Promise<string>}\r\n */\r\nexport const getPoolBalanceOfClaimable = async (pool, account) => {\r\n  const poolContract = new web3.eth.Contract(poolAbi, pool);\r\n  return poolContract.methods.balanceOfClaimable(account).call();\r\n};\r\n\r\n/**\r\n *\r\n * @param {string} pool address\r\n * @param {string} account address\r\n * @return {Promise<string>}\r\n */\r\nexport const getPoolTotalBonded = async (pool) => {\r\n  const poolContract = new web3.eth.Contract(poolAbi, pool);\r\n  return poolContract.methods.totalBonded().call();\r\n};\r\n\r\n/**\r\n *\r\n * @param {string} pool address\r\n * @param {string} account address\r\n * @return {Promise<string>}\r\n */\r\nexport const getPoolTotalRewarded = async (pool) => {\r\n  const poolContract = new web3.eth.Contract(poolAbi, pool);\r\n  return poolContract.methods.totalRewarded().call();\r\n};\r\n\r\n/**\r\n *\r\n * @param {string} pool address\r\n * @param {string} account address\r\n * @return {Promise<string>}\r\n */\r\nexport const getPoolTotalClaimable = async (pool) => {\r\n  const poolContract = new web3.eth.Contract(poolAbi, pool);\r\n  return poolContract.methods.totalClaimable().call();\r\n};\r\n\r\n/**\r\n *\r\n * @param {string} pool address\r\n * @param {string} account address\r\n * @return {Promise<string>}\r\n */\r\nexport const getPoolFluidUntil = async (pool, account) => {\r\n  const poolContract = new web3.eth.Contract(poolAbi, pool);\r\n\r\n  // no need to look back further than the pool lockup period\r\n  const blockNumber = await web3.eth.getBlockNumber();\r\n  const fromBlock = blockNumber - (POOL_EXIT_LOCKUP_EPOCHS + 1) * 8640;\r\n  const bondP = poolContract.getPastEvents('Bond', {\r\n    filter: {account: account}, fromBlock: fromBlock });\r\n  const unbondP = poolContract.getPastEvents('Unbond', {\r\n    filter: {account: account}, fromBlock: fromBlock });\r\n\r\n  const [bond, unbond] = await Promise.all([bondP, unbondP]);\r\n  const events = bond.map((e) => e.returnValues)\r\n    .concat(unbond.map((e) => e.returnValues));\r\n\r\n  const startEpoch = events.reduce(\r\n    (epoch, event) => {\r\n      if (epoch > event.start)\r\n        return epoch\r\n      else\r\n        return event.start\r\n    }, 0);\r\n\r\n  // these contract events report the start epoch as one more than the active\r\n  // epoch when the event is emitted, so we subtract 1 here to adjust\r\n  return (parseInt(startEpoch, 10) + POOL_EXIT_LOCKUP_EPOCHS - 1).toString();\r\n};\r\n","import BigNumber from 'bignumber.js';\r\n\r\n// eslint-disable-next-line import/prefer-default-export\r\nexport const MAX_UINT256 = new BigNumber(2).pow(256).minus(1);\r\nexport const GOVERNANCE_QUORUM = new BigNumber('0.20');\r\nexport const GOVERNANCE_PROPOSAL_THRESHOLD = new BigNumber('0.005');\r\nexport const COUPON_EXPIRATION = 90\r\nexport const DAO_EXIT_LOCKUP_EPOCHS = 15\r\nexport const POOL_EXIT_LOCKUP_EPOCHS = 5\r\n","import BigNumber from 'bignumber.js';\r\n\r\n/**\r\n * Convert 10.999 to 10999000\r\n */\r\nexport function toBaseUnitBN(rawAmt:string| number| BigNumber, decimals: number):BigNumber {\r\n  const raw = new BigNumber(rawAmt);\r\n  const base = new BigNumber(10);\r\n  const decimalsBN = new BigNumber(decimals);\r\n  return raw.times(base.pow(decimalsBN)).integerValue();\r\n}\r\n\r\n/**\r\n * Convert 10999000 to 10.999\r\n */\r\nexport const toTokenUnitsBN = (tokenAmount:string|number|BigNumber, tokenDecimals:number): BigNumber => {\r\n  const amt = new BigNumber(tokenAmount);\r\n  const digits = new BigNumber(10).pow(new BigNumber(tokenDecimals));\r\n  return amt.div(digits);\r\n};\r\n\r\nexport const isPos = (amount: BigNumber): boolean => {\r\n  return !amount.isZero() && amount.isPositive();\r\n};\r\n\r\nexport const ownership = (balance: BigNumber, totalSupply: BigNumber): BigNumber => {\r\n  return balance.multipliedBy(new BigNumber(100)).dividedBy(totalSupply);\r\n}\r\n\r\n/**\r\n * BigNumber string formatting\r\n */\r\n\r\nexport const formatBN = (amount: BigNumber, position: number): string => {\r\n  if (amount.isLessThan(new BigNumber(1))) {\r\n    return pad(amount.precision(position, BigNumber.ROUND_FLOOR).toFixed(), position);\r\n\r\n  }\r\n  return delineate(amount.toFixed(position, BigNumber.ROUND_FLOOR));\r\n}\r\n\r\nfunction delineate(bnStr) {\r\n  const parts = bnStr.split('.');\r\n  return parts[0].toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\") + \".\" + parts[1];\r\n}\r\n\r\nfunction pad(bnStr, position) {\r\n  if (!bnStr.includes(\".\")) {\r\n    bnStr += \".\";\r\n  }\r\n\r\n  const parts = bnStr.split(\".\");\r\n  for (let i = 0; i < position - parts[1].length; i++) {\r\n    bnStr += \"0\";\r\n  }\r\n\r\n  return bnStr\r\n}\r\n\r\nexport function formatMoney(n) {\r\n  n = n.toPrecision(3)\r\n  return Math.abs(Number(n)) >= 1.0e+9\r\n    ? Math.abs(Number(n)) / 1.0e+9 + \"B\"\r\n    : Math.abs(Number(n)) >= 1.0e+6\r\n      ? Math.abs(Number(n)) / 1.0e+6 + \"MM\"\r\n      : Math.abs(Number(n)) >= 1.0e+3\r\n        ? Math.abs(Number(n)) / 1.0e+3 + \"K\"\r\n        : Math.abs(Number(n));\r\n}","import { getPool } from \"./infura\";\r\nimport { ESDS } from \"../constants/tokens\";\r\nimport {DollarPool1, DollarPool2, DollarPool3, DollarPool4} from \"../constants/contracts\";\r\n\r\nexport async function getPoolAddress(): Promise<string> {\r\n  const pool = await getPool(ESDS.addr);\r\n  if (pool.toLowerCase() === DollarPool2.toLowerCase()) {\r\n    return DollarPool2;\r\n  }\r\n  if (pool.toLowerCase() === DollarPool3.toLowerCase()) {\r\n    return DollarPool3;\r\n  }\r\n  if (pool.toLowerCase() === DollarPool4.toLowerCase()) {\r\n    return DollarPool4;\r\n  }\r\n\r\n  throw new Error(\"Unrecognized Pool Address\");\r\n}\r\n\r\nexport function getLegacyPoolAddress(poolAddress): string {\r\n  if (poolAddress === DollarPool2) {\r\n    return DollarPool1;\r\n  }\r\n  if (poolAddress === DollarPool3) {\r\n    return DollarPool2;\r\n  }\r\n  if (poolAddress === DollarPool4) {\r\n    return DollarPool3;\r\n  }\r\n\r\n  throw new Error(\"Unrecognized Pool Address\");\r\n}\r\n","import React, {useEffect, useState} from 'react';\r\nimport BigNumber from \"bignumber.js\";\r\nimport {\r\n  getBalanceBonded,\r\n  getBalanceOfStaged,\r\n  getPoolBalanceOfBonded, getPoolBalanceOfClaimable, getPoolBalanceOfRewarded, getPoolBalanceOfStaged,\r\n  getTokenBalance,\r\n  getTokenTotalSupply\r\n} from \"../../utils/infura\";\r\nimport {ESD, ESDS, UNI} from \"../../constants/tokens\";\r\nimport {formatBN, toTokenUnitsBN} from \"../../utils/number\";\r\nimport {getPoolAddress} from \"../../utils/pool\";\r\n\r\ntype TotalBalanceProps = {\r\n  user: string,\r\n}\r\n\r\nfunction TotalBalance({ user }: TotalBalanceProps) {\r\n  const [totalBalance, setTotalBalance] = useState(new BigNumber(0));\r\n\r\n  //Update User balances\r\n  useEffect(() => {\r\n    if (user === '') {\r\n      setTotalBalance(new BigNumber(0));\r\n      return;\r\n    }\r\n    let isCancelled = false;\r\n\r\n    async function updateUserInfo() {\r\n      const poolAddress = await getPoolAddress();\r\n\r\n      const [\r\n        esdBalance, stagedBalance, bondedBalance,\r\n        pairBalanceESDStr, pairTotalSupplyUNIStr, userUNIBalanceStr,\r\n        userPoolBondedBalanceStr, userPoolStagedBalanceStr,\r\n        userPoolRewardedBalanceStr, userPoolClaimableBalanceStr,\r\n      ] = await Promise.all([\r\n        getTokenBalance(ESD.addr, user),\r\n        getBalanceOfStaged(ESDS.addr, user),\r\n        getBalanceBonded(ESDS.addr, user),\r\n\r\n        getTokenBalance(ESD.addr, UNI.addr),\r\n        getTokenTotalSupply(UNI.addr),\r\n        getTokenBalance(UNI.addr, user),\r\n        getPoolBalanceOfBonded(poolAddress, user),\r\n        getPoolBalanceOfStaged(poolAddress, user),\r\n        getPoolBalanceOfRewarded(poolAddress, user),\r\n        getPoolBalanceOfClaimable(poolAddress, user),\r\n      ]);\r\n\r\n      const userBalance = toTokenUnitsBN(new BigNumber(esdBalance), ESD.decimals);\r\n      const userStagedBalance = toTokenUnitsBN(new BigNumber(stagedBalance), ESDS.decimals);\r\n      const userBondedBalance = toTokenUnitsBN(new BigNumber(bondedBalance), ESDS.decimals);\r\n\r\n      const userUNIBalance = toTokenUnitsBN(new BigNumber(userUNIBalanceStr), ESDS.decimals);\r\n      const userPoolBondedBalance = toTokenUnitsBN(new BigNumber(userPoolBondedBalanceStr), ESDS.decimals);\r\n      const userPoolStagedBalance = toTokenUnitsBN(new BigNumber(userPoolStagedBalanceStr), ESDS.decimals);\r\n      const userPoolRewardedBalance = toTokenUnitsBN(new BigNumber(userPoolRewardedBalanceStr), ESDS.decimals);\r\n      const userPoolClaimableBalance = toTokenUnitsBN(new BigNumber(userPoolClaimableBalanceStr), ESDS.decimals);\r\n\r\n      const UNItoESD = new BigNumber(pairBalanceESDStr).dividedBy(new BigNumber(pairTotalSupplyUNIStr));\r\n\r\n      const daoTotalBalance = userStagedBalance.plus(userBondedBalance);\r\n      const poolTotalBalance = UNItoESD.multipliedBy(userPoolStagedBalance.plus(userPoolBondedBalance))\r\n        .plus(userPoolRewardedBalance.plus(userPoolClaimableBalance));\r\n      const circulationBalance = UNItoESD.multipliedBy(userUNIBalance).plus(userBalance)\r\n\r\n      const totalBalance = daoTotalBalance.plus(poolTotalBalance).plus(circulationBalance)\r\n\r\n      if (!isCancelled) {\r\n        setTotalBalance(totalBalance);\r\n      }\r\n    }\r\n\r\n    updateUserInfo();\r\n    const id = setInterval(updateUserInfo, 15000);\r\n\r\n    // eslint-disable-next-line consistent-return\r\n    return () => {\r\n      isCancelled = true;\r\n      clearInterval(id);\r\n    };\r\n  }, [user]);\r\n\r\n  return (\r\n    <div style={{ fontSize: 14, padding: 3, fontWeight: 400, lineHeight: 1.5, fontFamily: 'aragon-ui-monospace, monospace'}}>\r\n      ∅{formatBN(totalBalance, 2)}\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nexport default TotalBalance;\r\n","import React, { useEffect } from 'react';\r\nimport { Modal, Button, Header } from '@aragon/ui';\r\nimport { useWallet } from 'use-wallet';\r\n\r\ntype ConnectModalProps = {\r\n  visible: boolean,\r\n  onClose: Function,\r\n  onConnect: Function\r\n};\r\n\r\nfunction ConnectModal({\r\n  visible, onClose, onConnect\r\n}:ConnectModalProps) {\r\n  const wallet = useWallet();\r\n\r\n  const connectMetamask = () => {\r\n    wallet.connect(\"injected\");\r\n  };\r\n\r\n  const connectWalletConnect = () => {\r\n    wallet.connect(\"walletconnect\");\r\n  };\r\n\r\n  const connectCoinbase = () => {\r\n    wallet.connect(\"walletlink\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (wallet.account) {\r\n      onConnect && onConnect(wallet);\r\n      onClose && onClose();\r\n    }\r\n  }, [wallet, onConnect, onClose]);\r\n\r\n  return (\r\n    <Modal visible={visible} onClose={onClose}>\r\n      <Header primary=\"Select a wallet provider\" />\r\n\r\n      <div style={{width: '50%', margin: 'auto', padding: '1%'}}>\r\n        <Button\r\n          wide\r\n          label={'Metamask'}\r\n          icon={<img src={`./wallets/metamask-fox.svg`} style={{ height: 24 }} alt=\"Metamask\"/>}\r\n          onClick={connectMetamask}\r\n        />\r\n      </div>\r\n      <div style={{width: '50%', margin: 'auto', padding: '1%'}}>\r\n        <Button\r\n          wide\r\n          label={'WalletConnect'}\r\n          icon={<img src={`./wallets/wallet-connect.svg`} style={{ height: 24 }} alt=\"WalletConnect\"/>}\r\n          onClick={connectWalletConnect}\r\n        />\r\n      </div>\r\n      <div style={{width: '50%', margin: 'auto', padding: '1%'}}>\r\n        <Button\r\n          wide\r\n          label={'Coinbase Wallet'}\r\n          icon={<img src={`./wallets/coinbase-wallet.png`} style={{ height: 24 }} alt=\"Coinbase Wallet\"/>}\r\n          onClick={connectCoinbase}\r\n        />\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nexport default ConnectModal;\r\n","import React, { useState } from 'react';\r\nimport { useWallet } from 'use-wallet';\r\n\r\nimport {\r\n  Button, IdentityBadge, IconConnect, Box, IconPower, LinkBase,\r\n} from '@aragon/ui';\r\n\r\nimport { connect } from '../../utils/web3';\r\nimport TotalBalance from \"./TotalBalance\";\r\nimport ConnectModal from './ConnectModal';\r\n\r\ntype connectButtonProps = {\r\n  hasWeb3: boolean,\r\n  user: string,\r\n  setUser: Function\r\n}\r\n\r\nfunction ConnectButton({ hasWeb3, user, setUser }: connectButtonProps) {\r\n  const { status, reset } = useWallet();\r\n\r\n  const [isModalOpen, setModalOpen] = useState(false);\r\n\r\n  const connectWeb3 = async (wallet) => {\r\n    connect(wallet.ethereum);\r\n    setUser(wallet.account);\r\n  };\r\n\r\n  const disconnectWeb3 = async () => {\r\n    setUser('');\r\n    reset();\r\n  };\r\n\r\n  const toggleModal = () => setModalOpen(!isModalOpen);\r\n\r\n  return status === 'connected' ? (\r\n    <div style={{display: 'flex'}}>\r\n      <div style={{flex: '1'}}/>\r\n      <div>\r\n        <Box padding={4} style={{width: '192px'}}>\r\n          <div style={{display: 'flex'}}>\r\n            <div>\r\n              <LinkBase onClick={disconnectWeb3} style={{marginRight: '8px', height: '24px'}}>\r\n                <IconPower />\r\n              </LinkBase>\r\n            </div>\r\n            <div style={{flex: '1', textAlign: 'right'}}>\r\n              <IdentityBadge entity={user} />\r\n            </div>\r\n          </div>\r\n          <div style={{display: 'flex'}}>\r\n            <div style={{flex: '1', textAlign: 'right'}}>\r\n              <TotalBalance user={user} />\r\n            </div>\r\n          </div>\r\n        </Box>\r\n      </div>\r\n    </div>\r\n  ) : (\r\n    <>\r\n      <ConnectModal visible={isModalOpen} onClose={toggleModal} onConnect={connectWeb3}/>\r\n      <Button icon={<IconConnect />} label=\"Connect\" onClick={toggleModal} disabled={!hasWeb3}/>\r\n    </>\r\n  );\r\n}\r\n\r\n\r\nexport default ConnectButton;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport { LinkBase, useTheme } from '@aragon/ui';\r\nimport ConnectButton from './ConnectButton';\r\n\r\ntype NavbarProps = {\r\n  hasWeb3: boolean,\r\n  user: string,\r\n  setUser: Function\r\n}\r\n\r\nfunction NavBar({\r\n  hasWeb3, user, setUser,\r\n}:NavbarProps) {\r\n  const history = useHistory();\r\n  const currentTheme = useTheme();\r\n\r\n  const [page, setPage] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    return history.listen((location) => {\r\n      setPage(location.pathname)\r\n    })\r\n  }, [hasWeb3, user, history]);\r\n\r\n  const logoUrl = `./logo/logo_${currentTheme._name === 'light' ? 'black' : 'white'}.svg`\r\n\r\n  return (\r\n    <>\r\n      <div style={{\r\n        borderTop: '1px solid ' + currentTheme.border,\r\n        backgroundColor: 'none',\r\n        textAlign: 'center',\r\n        height: '128px',\r\n        width: '100%',\r\n        fontSize: '14px'\r\n      }}>\r\n        <div style={{maxWidth: '1100px', marginLeft: 'auto', marginRight: 'auto'}}>\r\n          <div style={{ display: 'flex', paddingTop: '24px'}}>\r\n            <div style={{ width: '20%', textAlign: 'left'}}>\r\n              <LinkBase onClick={() => history.push('/')} style={{marginRight: '16px', height: '40px'}}>\r\n                <img src={logoUrl} height=\"40px\" alt=\"Empty Set Dollar\"/>\r\n              </LinkBase>\r\n            </div>\r\n            <div style={{ width: '60%', textAlign: 'center' }}>\r\n              <LinkButton title=\"DAO\" onClick={() => history.push('/dao/')} isSelected={page.includes('/dao')}/>\r\n              <LinkButton title=\"Liquidity\" onClick={() => history.push('/pool/')} isSelected={page.includes('/pool')}/>\r\n              <LinkButton title=\"Regulation\" onClick={() => history.push('/regulation/')} isSelected={page.includes('/regulation')}/>\r\n              <LinkButton title=\"Governance\" onClick={() => history.push('/governance/')} isSelected={page.includes('/governance')}/>\r\n              <LinkButton title=\"Trade\" onClick={() => history.push('/trade/')} isSelected={page.includes('/trade')}/>\r\n              <LinkButton title=\"Coupons\" onClick={() => history.push('/coupons/')} isSelected={page.includes('/coupons')}/>\r\n            </div>\r\n            <div style={{ width: '20%', textAlign: 'right'}}>\r\n              <ConnectButton hasWeb3={hasWeb3} user={user} setUser={setUser} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\n\r\ntype linkButtonProps = {\r\n  title:string,\r\n  onClick: Function,\r\n  isSelected?:boolean\r\n}\r\n\r\nfunction LinkButton({ title, onClick, isSelected = false }:linkButtonProps) {\r\n  return (\r\n      <LinkBase onClick={onClick} style={{marginLeft: '8px', marginRight: '8px', height: '40px'}}>\r\n        <div style={{ padding: '1%', opacity: isSelected ? 1 : 0.5, fontSize: 17 }}>{title}</div>\r\n      </LinkBase>\r\n  );\r\n}\r\n\r\nexport default NavBar;\r\n","import React from 'react';\r\n\r\ntype EpochBlockProps = {\r\n  epoch: string\r\n}\r\n\r\nfunction EpochBlock({ epoch }: EpochBlockProps) {\r\n  return (\r\n    <>\r\n      <div style={{ fontSize: 16, padding: 3 }}>Epoch</div>\r\n      <div style={{ fontSize: 24, padding: 3, fontWeight: 400, lineHeight: 1.5, fontFamily: 'aragon-ui-monospace, monospace'}}>{epoch}</div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default EpochBlock;\r\n","import React, {useEffect, useState} from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport {\r\n  Box, LinkBase, Tag,\r\n} from '@aragon/ui';\r\nimport EpochBlock from \"../common/EpochBlock\";\r\n\r\nfunction epochformatted() {\r\n  const epochStart = 1599148800;\r\n  const epochPeriod = 8 * 60 * 60;\r\n  const hour = 60 * 60;\r\n  const minute = 60;\r\n  const unixTimeSec = Math.floor(Date.now() / 1000);\r\n\r\n  let epochRemainder = unixTimeSec - epochStart\r\n  const epoch = Math.floor(epochRemainder / epochPeriod);\r\n  epochRemainder -= epoch * epochPeriod;\r\n  const epochHour = Math.floor(epochRemainder / hour);\r\n  epochRemainder -= epochHour * hour;\r\n  const epochMinute = Math.floor(epochRemainder / minute);\r\n  epochRemainder -= epochMinute * minute;\r\n  return `${epoch}-0${epochHour}:${epochMinute > 9 ? epochMinute : \"0\" + epochMinute.toString()}:${epochRemainder > 9 ? epochRemainder : \"0\" + epochRemainder.toString()}`;\r\n}\r\n\r\ntype HomePageProps = {\r\n  user: string\r\n};\r\n\r\nfunction HomePage({user}: HomePageProps) {\r\n  const history = useHistory();\r\n\r\n  const [epochTime, setEpochTime] = useState(\"0-00:00:00\");\r\n\r\n  useEffect(() => {\r\n    let isCancelled = false;\r\n\r\n    async function updateUserInfo() {\r\n      if (!isCancelled) {\r\n        setEpochTime(epochformatted())\r\n      }\r\n    }\r\n    updateUserInfo();\r\n    const id = setInterval(updateUserInfo, 1000);\r\n\r\n    // eslint-disable-next-line consistent-return\r\n    return () => {\r\n      isCancelled = true;\r\n      clearInterval(id);\r\n    };\r\n  }, [user]);\r\n\r\n  return (\r\n    <>\r\n      <div style={{ padding: '1%', display: 'flex', flexWrap: 'wrap', alignItems: 'center' }}>\r\n        <div style={{ flexBasis: '68%' }} />\r\n        <div style={{ flexBasis: '30%', flexGrow: 1, marginRight: '2%', textAlign: 'right'}}>\r\n          <Box>\r\n            <EpochBlock epoch={epochTime}/>\r\n          </Box>\r\n        </div>\r\n      </div>\r\n      <div style={{ padding: '1%', display: 'flex', flexWrap: 'wrap', alignItems: 'center' }}>\r\n        <div style={{ flexBasis: '30%', marginRight: '3%', marginLeft: '2%'  }}>\r\n          <MainButton\r\n            title=\"DAO\"\r\n            description=\"Earn rewards for governing\"\r\n            icon={<i className=\"fas fa-dot-circle\"/>}\r\n            onClick={() => {\r\n              history.push('/dao/');\r\n            }}\r\n          />\r\n        </div>\r\n\r\n        <div style={{ flexBasis: '30%' }}>\r\n          <MainButton\r\n            title=\"LP Rewards\"\r\n            description=\"Earn rewards for providing liquidity.\"\r\n            icon={<i className=\"fas fa-parachute-box\"/>}\r\n            onClick={() => {\r\n              history.push('/pool/');\r\n            }}\r\n          />\r\n        </div>\r\n\r\n        <div style={{ flexBasis: '30%', marginLeft: '3%', marginRight: '2%' }}>\r\n          <MainButton\r\n            title=\"Regulation\"\r\n            description=\"Network supply regulation statistics.\"\r\n            icon={<i className=\"fas fa-chart-area\"/>}\r\n            onClick={() => {\r\n              history.push('/regulation/');\r\n            }}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div style={{ padding: '1%', display: 'flex', flexWrap: 'wrap', alignItems: 'center' }}>\r\n        <div style={{ flexBasis: '30%', marginRight: '3%', marginLeft: '2%' }}>\r\n          <MainButton\r\n            title=\"Governance\"\r\n            description=\"Vote on upgrades.\"\r\n            icon={<i className=\"fas fa-poll\"/>}\r\n            onClick={() => {\r\n              history.push('/governance/');\r\n            }}\r\n          />\r\n        </div>\r\n\r\n        <div style={{ flexBasis: '30%' }}>\r\n          <MainButton\r\n            title=\"Trade\"\r\n            description=\"Trade døllar tokens.\"\r\n            icon={<i className=\"fas fa-exchange-alt\"/>}\r\n            onClick={() => {\r\n              history.push('/trade/');\r\n            }}\r\n          />\r\n        </div>\r\n\r\n        <div style={{ flexBasis: '30%', marginLeft: '3%', marginRight: '2%'  }}>\r\n          <MainButton\r\n            title=\"Coupons\"\r\n            description=\"Purchase and redeem coupons.\"\r\n            icon={<i className=\"fas fa-ticket-alt\"/>}\r\n            onClick={() => {\r\n              history.push('/coupons/');\r\n            }}\r\n          />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\ntype MainButtonPropx = {\r\n  title: string,\r\n  description: string,\r\n  icon: any,\r\n  onClick: Function,\r\n  tag?:string\r\n}\r\n\r\nfunction MainButton({\r\n  title, description, icon, onClick, tag,\r\n}:MainButtonPropx) {\r\n  return (\r\n    <LinkBase onClick={onClick} style={{ width: '100%' }}>\r\n      <Box>\r\n        <div style={{ padding: 10, fontSize: 18 }}>\r\n          {title}\r\n          {tag ? <Tag>{tag}</Tag> : <></>}\r\n        </div>\r\n        <span style={{ fontSize: 48 }}>\r\n          {icon}\r\n        </span>\r\n        {/*<img alt=\"icon\" style={{ padding: 10, height: 64 }} src={iconUrl} />*/}\r\n        <div style={{ paddingTop: 5, opacity: 0.5 }}>\r\n          {' '}\r\n          {description}\r\n          {' '}\r\n        </div>\r\n\r\n      </Box>\r\n    </LinkBase>\r\n  );\r\n}\r\n\r\nexport default HomePage;\r\n","import React from 'react';\r\nimport { IdentityBadge } from '@aragon/ui';\r\n\r\ntype AddressBlockProps = {\r\n  label:string,\r\n  address: string\r\n}\r\n\r\nfunction AddressBlock({ label, address }: AddressBlockProps) {\r\n  return (\r\n    <>\r\n      <div style={{ fontSize: 16, padding: 3 }}>{label}</div>\r\n      <div style={{ padding: 5 }}>\r\n        <IdentityBadge entity={address} shorten />\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default AddressBlock;\r\n","import React from 'react';\r\n\r\nimport BigNumber from 'bignumber.js';\r\nimport {formatBN} from \"../../utils/number\";\r\n\r\ntype BlanceBlockProps = {\r\n  asset: string,\r\n  balance: BigNumber | string | number\r\n  suffix?: string\r\n}\r\n\r\nfunction BalanceBlock({ asset, balance, suffix=\"\"}: BlanceBlockProps) {\r\n  let integer = '0';\r\n  let digits = '0';\r\n  const balanceBN = new BigNumber(balance);\r\n  if (balanceBN.gte(new BigNumber(0))) {\r\n    const tokens = formatBN(balanceBN, 2).split('.')\r\n    integer = tokens[0];\r\n    digits = tokens[1];\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div style={{ fontSize: 14, padding: 3 }}>{asset}</div>\r\n      <div style={{ padding: 3 }}>\r\n        <span style={{ fontSize: 24 }}>{integer}</span>\r\n        .\r\n        <span style={{ fontSize: 18 }}>\r\n          {' '}\r\n          {digits}\r\n          {' '}\r\n        </span>\r\n        {suffix === \"\" ? '' : <span style={{ fontSize: 18 }}>{suffix}</span> }\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default BalanceBlock;\r\n","import React from 'react';\r\n\r\nimport {\r\n  ButtonBase,\r\n} from '@aragon/ui';\r\n\r\nfunction MaxButton({ onClick }:{ onClick: Function }) {\r\n  return (\r\n    <div style={{ padding: 3 }}>\r\n      <ButtonBase onClick={onClick}>\r\n        <span style={{ opacity: 0.5 }}> Max </span>\r\n      </ButtonBase>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MaxButton;\r\n","import React from 'react';\r\nimport BigNumber from 'bignumber.js';\r\n\r\nfunction PriceSection({\r\n  label, amt, symbol = '', forceDisplay = false,\r\n}:{label:string, amt: string|number|BigNumber, symbol?:string, forceDisplay?:boolean }) {\r\n  const amtBN = new BigNumber(amt);\r\n  if (amtBN.gt(new BigNumber(0)) || forceDisplay) {\r\n    return (\r\n      <div style={{ padding: 3, opacity: 0.5 }}>\r\n        <span style={{ fontSize: 13 }}>{label}</span>\r\n        <span style={{ fontSize: 13 }}>{amtBN.toNumber().toFixed(5)}</span>\r\n        <span style={{ fontSize: 13 }}>{symbol}</span>\r\n      </div>\r\n    );\r\n  }\r\n  return <div style={{ padding: 3, opacity: 0.5 }} />;\r\n}\r\n\r\n\r\nexport default PriceSection;\r\n","import React, { ReactChild } from 'react';\r\n\r\ntype commentProps = {\r\n  text: string | ReactChild\r\n}\r\n\r\nfunction Comment({ text }: commentProps) {\r\n  return (\r\n    <div style={{ padding: 5, opacity: 0.5 }}>\r\n      {text}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Comment;\r\n","import styled from 'styled-components';\r\n\r\nconst FlexWrapper = styled.div`\r\n  // display: flex;\r\n  padding-left: 20%;\r\n  padding-right: 20%;\r\n`;\r\n\r\nexport default FlexWrapper;\r\n","import React from 'react';\r\nimport { Checkbox, useTheme } from '@aragon/ui';\r\nimport styled from 'styled-components';\r\n\r\ntype checkBoxProps = {\r\n  text: string,\r\n  checked: boolean,\r\n  onCheck: Function\r\n}\r\n\r\nfunction MyCheckBox({ text, checked, onCheck }: checkBoxProps) {\r\n  const theme = useTheme();\r\n  return (\r\n    <CheckBoxWrapper theme={theme}>\r\n      <Checkbox\r\n        checked={checked}\r\n        onChange={onCheck}\r\n      />\r\n      <span style={{ margin: '4px' }}>\r\n        {text}\r\n      </span>\r\n      <br />\r\n    </CheckBoxWrapper>\r\n  );\r\n}\r\n\r\nexport default MyCheckBox;\r\n\r\nconst CheckBoxWrapper = styled.div`{\r\n  display: flex;\r\n  font-size: 14px;\r\n  color: ${(props) => props.theme.surfaceContentSecondary}\r\n}`;","import React from 'react';\r\nimport BigNumber from 'bignumber.js';\r\n\r\nimport { BalanceBlock, AddressBlock } from '../common/index';\r\n\r\ntype TradePageHeaderProps = {\r\n  pairBalanceESD: BigNumber,\r\n  pairBalanceUSDC: BigNumber,\r\n  uniswapPair: string,\r\n};\r\n\r\nconst TradePageHeader = ({\r\n  pairBalanceESD, pairBalanceUSDC, uniswapPair,\r\n}: TradePageHeaderProps) => {\r\n  const price = pairBalanceUSDC.dividedBy(pairBalanceESD);\r\n\r\n  return (\r\n    <div style={{ padding: '2%', display: 'flex', flexWrap: 'wrap', alignItems: 'center' }}>\r\n      <div style={{ flexBasis: '25%' }}>\r\n        <BalanceBlock asset=\"ESD Price\" balance={price} suffix={\"USDC\"}/>\r\n      </div>\r\n      <div style={{ flexBasis: '25%' }}>\r\n        <BalanceBlock asset=\"ESD Liquidity\" balance={pairBalanceESD} suffix={\"ESD\"}/>\r\n      </div>\r\n      <div style={{ flexBasis: '25%' }}>\r\n        <BalanceBlock asset=\"USDC Liquidity\" balance={pairBalanceUSDC} suffix={\"USDC\"}/>\r\n      </div>\r\n      <div style={{ flexBasis: '25%' }}>\r\n        <>\r\n          <AddressBlock label=\"Uniswap Contract\" address={uniswapPair} />\r\n        </>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nexport default TradePageHeader;\r\n","import React from 'react';\r\n\r\nimport {\r\n  Header,\r\n} from '@aragon/ui';\r\n\r\ntype IconHeaderProps = {\r\n  icon: any,\r\n  text: string\r\n}\r\n\r\nfunction IconHeader({ icon, text }: IconHeaderProps) {\r\n  return (\r\n    <>\r\n      <div style={{ padding: '1%', display: 'flex', alignItems: 'center' }}>\r\n        <div style={{ marginRight: '2%', fontSize: 48 }}>\r\n          {icon}\r\n        </div>\r\n        <div>\r\n          <Header primary={text} />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default IconHeader;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { LinkBase, Box } from '@aragon/ui';\r\n\r\nimport BigNumber from 'bignumber.js';\r\nimport { getTokenBalance } from '../../utils/infura';\r\nimport { toTokenUnitsBN } from '../../utils/number';\r\n\r\nimport TradePageHeader from './Header';\r\nimport {ESD, UNI, USDC} from \"../../constants/tokens\";\r\nimport IconHeader from \"../common/IconHeader\";\r\n\r\n\r\nfunction UniswapPool({ user }: {user: string}) {\r\n  const [pairBalanceESD, setPairBalanceESD] = useState(new BigNumber(0));\r\n  const [pairBalanceUSDC, setPairBalanceUSDC] = useState(new BigNumber(0));\r\n\r\n  useEffect(() => {\r\n    let isCancelled = false;\r\n\r\n    async function updateUserInfo() {\r\n      const [\r\n        pairBalanceESDStr, pairBalanceUSDCStr,\r\n      ] = await Promise.all([\r\n        getTokenBalance(ESD.addr, UNI.addr),\r\n        getTokenBalance(USDC.addr, UNI.addr),\r\n      ]);\r\n\r\n      if (!isCancelled) {\r\n        setPairBalanceESD(toTokenUnitsBN(pairBalanceESDStr, ESD.decimals));\r\n        setPairBalanceUSDC(toTokenUnitsBN(pairBalanceUSDCStr, USDC.decimals));\r\n      }\r\n    }\r\n\r\n    updateUserInfo();\r\n    const id = setInterval(updateUserInfo, 15000);\r\n\r\n    // eslint-disable-next-line consistent-return\r\n    return () => {\r\n      isCancelled = true;\r\n      clearInterval(id);\r\n    };\r\n  }, [user]);\r\n\r\n  return (\r\n    <>\r\n      <IconHeader icon={<i className=\"fas fa-exchange-alt\"/>} text=\"Trade\"/>\r\n\r\n      <TradePageHeader\r\n        pairBalanceESD={pairBalanceESD}\r\n        pairBalanceUSDC={pairBalanceUSDC}\r\n        uniswapPair={UNI.addr}\r\n      />\r\n\r\n      <div style={{ padding: '1%', display: 'flex', flexWrap: 'wrap', alignItems: 'center' }}>\r\n        <div style={{ flexBasis: '30%', marginRight: '3%', marginLeft: '2%'  }}>\r\n          <MainButton\r\n            title=\"Info\"\r\n            description=\"View ESD-USDC pool stats.\"\r\n            icon={<i className=\"fas fa-chart-area\"/>}\r\n            href={\"https://uniswap.info/pair/0x88ff79eb2bc5850f27315415da8685282c7610f9\"}\r\n          />\r\n        </div>\r\n\r\n        <div style={{ flexBasis: '30%' }}>\r\n          <MainButton\r\n            title=\"Trade\"\r\n            description=\"Trade døllar tokens.\"\r\n            icon={<i className=\"fas fa-exchange-alt\"/>}\r\n            href={\"https://uniswap.exchange/swap?inputCurrency=0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48&outputCurrency=0x36f3fd68e7325a35eb768f1aedaae9ea0689d723\"}\r\n          />\r\n        </div>\r\n\r\n        <div style={{ flexBasis: '30%', marginLeft: '3%', marginRight: '2%' }}>\r\n          <MainButton\r\n            title=\"Supply\"\r\n            description=\"Supply and redeem liquidity.\"\r\n            icon={<i className=\"fas fa-water\"/>}\r\n            href={\"https://uniswap.exchange/add/0x36f3fd68e7325a35eb768f1aedaae9ea0689d723/0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48\"}\r\n          />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\ntype MainButtonProps = {\r\n  title: string,\r\n  description: string,\r\n  icon: any,\r\n  href:string\r\n}\r\n\r\nfunction MainButton({\r\n  title, description, icon, href,\r\n}:MainButtonProps) {\r\n  return (\r\n    <LinkBase href={href} style={{ width: '100%' }}>\r\n      <Box>\r\n        <div style={{ padding: 10, fontSize: 18 }}>\r\n          {title}\r\n        </div>\r\n        <span style={{ fontSize: 48 }}>\r\n          {icon}\r\n        </span>\r\n        {/*<img alt=\"icon\" style={{ padding: 10, height: 64 }} src={iconUrl} />*/}\r\n        <div style={{ paddingTop: 5, opacity: 0.5 }}>\r\n          {' '}\r\n          {description}\r\n          {' '}\r\n        </div>\r\n\r\n      </Box>\r\n    </LinkBase>\r\n  );\r\n}\r\n\r\nexport default UniswapPool;\r\n","import React from 'react';\r\nimport { Button, IconStarFilled, IconStar } from '@aragon/ui';\r\n\r\ntype switchThemeProps = {\r\n  hasWeb3: boolean,\r\n  theme: string,\r\n  updateTheme: Function\r\n}\r\n\r\nfunction SwitchMode({ hasWeb3, theme, updateTheme }: switchThemeProps) {\r\n  const handleChangeTheme = () => {\r\n    if (theme === 'light') updateTheme('dark');\r\n    else updateTheme('light');\r\n  };\r\n\r\n  return (\r\n    <Button\r\n      icon={theme === 'dark' ? <IconStar /> : <IconStarFilled />}\r\n      onClick={handleChangeTheme}\r\n      label=\"\"\r\n      disabled={!hasWeb3}\r\n    />\r\n  );\r\n}\r\n\r\n\r\nexport default SwitchMode;\r\n","import React from 'react';\r\nimport { LinkBase, useTheme } from '@aragon/ui';\r\nimport ChangeModeButton from \"./SwitchTheme\";\r\n\r\ntype FooterProps = {\r\n  updateTheme: Function,\r\n  theme: string,\r\n  hasWeb3: boolean,\r\n}\r\n\r\nfunction Footer({updateTheme, theme, hasWeb3}: FooterProps) {\r\n  const currentTheme = useTheme();\r\n\r\n  return (\r\n    <>\r\n      <div style={{\r\n        borderTop: '1px solid ' + currentTheme.border,\r\n        backgroundColor: currentTheme.surface,\r\n        textAlign: 'center',\r\n        position: 'fixed',\r\n        left: '0',\r\n        bottom: '0',\r\n        height: 'auto',\r\n        width: '100%',\r\n        fontSize: '14px'\r\n      }}>\r\n        <div style={{maxWidth: '1100px', marginLeft: 'auto', marginRight: 'auto'}}>\r\n          <div style={{ padding: '2%', display: 'flex'}}>\r\n            <div style={{ width: '50%', textAlign: 'left' }}>\r\n              <FooterLink icon={<i className=\"fab fa-github\"/>} href={\"https://www.github.com/emptysetsquad/dollar\"}/>\r\n              <FooterLink icon={<i className=\"fab fa-twitter\"/>} href={\"https://www.twitter.com/emptysetsquad\"}/>\r\n              <FooterLink icon={<i className=\"fab fa-medium\"/>} href={\"https://www.medium.com/@emptysetsquad\"}/>\r\n              <FooterLink icon={<i className=\"fab fa-telegram\"/>} href={\"https://www.t.me/emptysetdollar\"}/>\r\n              <FooterLink icon={<i className=\"fab fa-discord\"/>} href={\"https://discord.gg/vPws9Vp\"}/>\r\n            </div>\r\n            <div style={{ width: '45%', textAlign: 'right', height: '18px', marginTop: '15px', marginBottom: '15px'}}>\r\n              made with <span role=\"img\" aria-labelledby=\"heartbreak\">💔️</span> by the &#123;ess&#125;.\r\n            </div>\r\n            <div style={{ width: '5%', textAlign: 'right', marginTop: '4px' }}>\r\n              <ChangeModeButton hasWeb3={hasWeb3} theme={theme} updateTheme={updateTheme} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\ntype FooterLinkProp = {\r\n  icon: any,\r\n  href: string,\r\n}\r\n\r\nfunction FooterLink({\r\n  icon, href,\r\n}:FooterLinkProp) {\r\n  return (\r\n    <LinkBase href={href} style={{marginLeft: '8px', marginRight: '8px'}}>\r\n      <span style={{ fontSize: 32 }}>{icon}</span>\r\n    </LinkBase>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\n\r\ntype TextBlockProps = {\r\n  label: string,\r\n  text: string\r\n}\r\n\r\nfunction TextBlock({ label, text }: TextBlockProps) {\r\n  return (\r\n    <>\r\n      <div style={{ fontSize: 16, padding: 3 }}>{label}</div>\r\n      <div style={{ fontSize: 24, padding: 3 }}>{text}</div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default TextBlock;\r\n","import React from 'react';\r\nimport BigNumber from 'bignumber.js';\r\n\r\nimport { BalanceBlock } from '../common/index';\r\nimport TextBlock from \"../common/TextBlock\";\r\nimport {ownership} from \"../../utils/number\";\r\n\r\ntype AccountPageHeaderProps = {\r\n  accountESDBalance: BigNumber,\r\n  accountESDSBalance: BigNumber,\r\n  totalESDSSupply: BigNumber,\r\n  accountStagedBalance: BigNumber,\r\n  accountBondedBalance: BigNumber,\r\n  accountStatus: number,\r\n  unlocked: number,\r\n};\r\n\r\nconst STATUS_MAP = [\"Unlocked\", \"Locked\", \"Locked\"];\r\n\r\nfunction status(accountStatus, unlocked) {\r\n  return STATUS_MAP[accountStatus] + (accountStatus === 0 ? \"\" : \" until \" + unlocked)\r\n}\r\n\r\nconst AccountPageHeader = ({\r\n  accountESDBalance, accountESDSBalance, totalESDSSupply, accountStagedBalance, accountBondedBalance, accountStatus, unlocked\r\n}: AccountPageHeaderProps) => (\r\n  <div style={{ padding: '2%', display: 'flex', flexWrap: 'wrap', alignItems: 'center' }}>\r\n    <div style={{ flexBasis: '20%' }}>\r\n      <BalanceBlock asset=\"Balance\" balance={accountESDBalance} suffix={\" ESD\"}/>\r\n    </div>\r\n    <div style={{ flexBasis: '20%' }}>\r\n      <BalanceBlock asset=\"Staged\" balance={accountStagedBalance}  suffix={\" ESD\"}/>\r\n    </div>\r\n    <div style={{ flexBasis: '20%' }}>\r\n      <BalanceBlock asset=\"Bonded\" balance={accountBondedBalance} suffix={\" ESD\"} />\r\n    </div>\r\n    <div style={{ flexBasis: '20%' }}>\r\n      <BalanceBlock asset=\"DAO Ownership\" balance={ownership(accountESDSBalance, totalESDSSupply)}  suffix={\"%\"}/>\r\n    </div>\r\n    <div style={{ flexBasis: '20%' }}>\r\n      <TextBlock label=\"Status\" text={status(accountStatus, unlocked)}/>\r\n    </div>\r\n  </div>\r\n);\r\n\r\n\r\nexport default AccountPageHeader;\r\n","import React from 'react';\r\n\r\nimport BigNumber from 'bignumber.js';\r\nimport {\r\n  TextInput,\r\n} from '@aragon/ui';\r\n\r\ntype BigNumberInputProps = {\r\n  value: BigNumber,\r\n  setter: (value: BigNumber) => void\r\n  adornment?: any,\r\n  disabled?: boolean\r\n}\r\n\r\nfunction BigNumberInput({ value, setter, adornment, disabled=false }: BigNumberInputProps) {\r\n  return (\r\n    <>\r\n      <TextInput\r\n        type=\"number\"\r\n        adornmentPosition=\"end\"\r\n        adornment={adornment}\r\n        wide\r\n        value={value.isNegative() ? '' : value.toFixed()}\r\n        onChange={(event) => {\r\n          if (event.target.value) {\r\n            setter(new BigNumber(event.target.value));\r\n          } else {\r\n            setter(new BigNumber(-1));\r\n          }\r\n        }}\r\n        onBlur={() => {\r\n          if (value.isNegative()) {\r\n            setter(new BigNumber(0))\r\n          }\r\n        }}\r\n        disabled={disabled}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default BigNumberInput;\r\n","import React, { useState } from 'react';\r\nimport {\r\n  Box, Button, IconCirclePlus, IconCircleMinus, IconLock\r\n} from '@aragon/ui';\r\nimport BigNumber from 'bignumber.js';\r\nimport {\r\n  BalanceBlock, MaxButton,\r\n} from '../common/index';\r\nimport {approve, deposit, withdraw} from '../../utils/web3';\r\nimport {isPos, toBaseUnitBN} from '../../utils/number';\r\nimport {ESD, ESDS} from \"../../constants/tokens\";\r\nimport {MAX_UINT256} from \"../../constants/values\";\r\nimport BigNumberInput from \"../common/BigNumberInput\";\r\n\r\ntype WithdrawDepositProps = {\r\n  user: string\r\n  balance: BigNumber,\r\n  allowance: BigNumber,\r\n  stagedBalance: BigNumber,\r\n  status: number\r\n};\r\n\r\nfunction WithdrawDeposit({\r\n  user, balance, allowance, stagedBalance, status\r\n}: WithdrawDepositProps) {\r\n  const [depositAmount, setDepositAmount] = useState(new BigNumber(0));\r\n  const [withdrawAmount, setWithdrawAmount] = useState(new BigNumber(0));\r\n\r\n  return (\r\n    <Box heading=\"Stage\">\r\n      {allowance.comparedTo(MAX_UINT256) === 0 ?\r\n        <div style={{display: 'flex', flexWrap: 'wrap'}}>\r\n          {/* total Issued */}\r\n          <div style={{flexBasis: '32%'}}>\r\n            <BalanceBlock asset=\"Staged\" balance={stagedBalance} suffix={\"ESD\"}/>\r\n          </div>\r\n          {/* Deposit Døllar into DAO */}\r\n          <div style={{flexBasis: '33%', paddingTop: '2%'}}>\r\n            <div style={{display: 'flex'}}>\r\n              <div style={{width: '60%', minWidth: '6em'}}>\r\n                <>\r\n                  <BigNumberInput\r\n                    adornment=\"ESD\"\r\n                    value={depositAmount}\r\n                    setter={setDepositAmount}\r\n                    disabled={status !== 0}\r\n                  />\r\n                  <MaxButton\r\n                    onClick={() => {\r\n                      setDepositAmount(balance);\r\n                    }}\r\n                  />\r\n                </>\r\n              </div>\r\n              <div style={{width: '40%', minWidth: '6em'}}>\r\n                <Button\r\n                  wide\r\n                  icon={status === 0 ? <IconCirclePlus/> : <IconLock/>}\r\n                  label=\"Deposit\"\r\n                  onClick={() => {\r\n                    deposit(\r\n                      ESDS.addr,\r\n                      toBaseUnitBN(depositAmount, ESD.decimals),\r\n                    );\r\n                  }}\r\n                  disabled={status === 1 || !isPos(depositAmount) || depositAmount.isGreaterThan(balance)}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div style={{flexBasis: '2%'}}/>\r\n          {/* Withdraw Døllar from DAO */}\r\n          <div style={{flexBasis: '33%', paddingTop: '2%'}}>\r\n            <div style={{display: 'flex'}}>\r\n              <div style={{width: '60%', minWidth: '7em'}}>\r\n                <>\r\n                  <BigNumberInput\r\n                    adornment=\"ESD\"\r\n                    value={withdrawAmount}\r\n                    setter={setWithdrawAmount}\r\n                    disabled={status !== 0}\r\n                  />\r\n                  <MaxButton\r\n                    onClick={() => {\r\n                      setWithdrawAmount(stagedBalance);\r\n                    }}\r\n                  />\r\n                </>\r\n              </div>\r\n              <div style={{width: '40%', minWidth: '7em'}}>\r\n                <Button\r\n                  wide\r\n                  icon={status === 0 ? <IconCircleMinus/> : <IconLock/>}\r\n                  label=\"Withdraw\"\r\n                  onClick={() => {\r\n                    withdraw(\r\n                      ESDS.addr,\r\n                      toBaseUnitBN(withdrawAmount, ESD.decimals),\r\n                    );\r\n                  }}\r\n                  disabled={status === 1 || !isPos(withdrawAmount) || withdrawAmount.isGreaterThan(stagedBalance)}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        :\r\n        <div style={{display: 'flex', flexWrap: 'wrap'}}>\r\n          {/* total Issued */}\r\n          <div style={{flexBasis: '32%'}}>\r\n            <BalanceBlock asset=\"Staged\" balance={stagedBalance} suffix={\"ESD\"}/>\r\n          </div>\r\n          <div style={{flexBasis: '35%'}}/>\r\n          {/* Approve DAO to spend Døllar */}\r\n          <div style={{flexBasis: '33%', paddingTop: '2%'}}>\r\n            <Button\r\n              wide\r\n              icon={<IconCirclePlus />}\r\n              label=\"Approve\"\r\n              onClick={() => {\r\n                approve(ESD.addr, ESDS.addr);\r\n              }}\r\n              disabled={user === ''}\r\n            />\r\n          </div>\r\n        </div>\r\n      }\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default WithdrawDeposit;\r\n","import React, { useState } from 'react';\r\nimport {\r\n  Box, Button, IconCirclePlus, IconCircleMinus, IconCaution\r\n} from '@aragon/ui';\r\nimport BigNumber from 'bignumber.js';\r\nimport {\r\n  BalanceBlock, MaxButton,\r\n} from '../common/index';\r\nimport { bond, unbondUnderlying } from '../../utils/web3';\r\nimport {isPos, toBaseUnitBN} from '../../utils/number';\r\nimport { ESD, ESDS } from \"../../constants/tokens\";\r\nimport BigNumberInput from \"../common/BigNumberInput\";\r\nimport TextBlock from \"../common/TextBlock\";\r\n\r\ntype BondUnbondProps = {\r\n  staged: BigNumber,\r\n  bonded: BigNumber,\r\n  status: number,\r\n  lockup: number,\r\n};\r\n\r\nfunction BondUnbond({\r\n  staged, bonded, status, lockup\r\n}: BondUnbondProps) {\r\n  const [bondAmount, setBondAmount] = useState(new BigNumber(0));\r\n  const [unbondAmount, setUnbondAmount] = useState(new BigNumber(0));\r\n\r\n  return (\r\n    <Box heading=\"Bond\">\r\n      <div style={{display: 'flex', flexWrap: 'wrap'}}>\r\n        {/* Total bonded */}\r\n        <div style={{flexBasis: '16%'}}>\r\n          <BalanceBlock asset=\"Bonded\" balance={bonded} suffix={\"ESD\"}/>\r\n        </div>\r\n        {/* Total bonded */}\r\n        <div style={{flexBasis: '16%'}}>\r\n          <TextBlock label=\"Exit Lockup\" text={lockup === 0 ? \"\" : lockup === 1 ? \"1 epoch\" : `${lockup} epochs`}/>\r\n        </div>\r\n        {/* Bond Døllar within DAO */}\r\n        <div style={{flexBasis: '33%', paddingTop: '2%'}}>\r\n          <div style={{display: 'flex'}}>\r\n            <div style={{width: '60%', minWidth: '6em'}}>\r\n              <>\r\n                <BigNumberInput\r\n                  adornment=\"ESD\"\r\n                  value={bondAmount}\r\n                  setter={setBondAmount}\r\n                />\r\n                <MaxButton\r\n                  onClick={() => {\r\n                    setBondAmount(staged);\r\n                  }}\r\n                />\r\n              </>\r\n            </div>\r\n            <div style={{width: '40%', minWidth: '7em'}}>\r\n              <Button\r\n                wide\r\n                icon={status === 0 ? <IconCirclePlus/> : <IconCaution/>}\r\n                label=\"Bond\"\r\n                onClick={() => {\r\n                  bond(\r\n                    ESDS.addr,\r\n                    toBaseUnitBN(bondAmount, ESD.decimals),\r\n                  );\r\n                }}\r\n                disabled={status === 2 || !isPos(bondAmount) || bondAmount.isGreaterThan(staged)}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div style={{width: '2%'}}/>\r\n        {/* Unbond Døllar within DAO */}\r\n        <div style={{flexBasis: '33%', paddingTop: '2%'}}>\r\n          <div style={{display: 'flex'}}>\r\n            <div style={{width: '60%', minWidth: '6em'}}>\r\n              <>\r\n                <BigNumberInput\r\n                  adornment=\"ESD\"\r\n                  value={unbondAmount}\r\n                  setter={setUnbondAmount}\r\n                />\r\n                <MaxButton\r\n                  onClick={() => {\r\n                    setUnbondAmount(bonded);\r\n                  }}\r\n                />\r\n              </>\r\n            </div>\r\n            <div style={{width: '40%', minWidth: '7em'}}>\r\n              <Button\r\n                wide\r\n                icon={status === 0 ? <IconCircleMinus/> : <IconCaution/>}\r\n                label=\"Unbond\"\r\n                onClick={() => {\r\n                  unbondUnderlying(\r\n                    ESDS.addr,\r\n                    toBaseUnitBN(unbondAmount, ESD.decimals),\r\n                  );\r\n                }}\r\n                disabled={status === 2 || !isPos(unbondAmount) || unbondAmount.isGreaterThan(bonded)}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div style={{width: '100%', paddingTop: '2%', textAlign: 'center'}}>\r\n        <span style={{ opacity: 0.5 }}> Bonding events will restart the lockup timer </span>\r\n      </div>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default BondUnbond;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nimport BigNumber from 'bignumber.js';\r\nimport {\r\n  getBalanceBonded,\r\n  getBalanceOfStaged, getFluidUntil, getLockedUntil,\r\n  getStatusOf, getTokenAllowance,\r\n  getTokenBalance, getTokenTotalSupply,\r\n} from '../../utils/infura';\r\nimport {ESD, ESDS} from \"../../constants/tokens\";\r\nimport {DAO_EXIT_LOCKUP_EPOCHS} from \"../../constants/values\";\r\nimport { toTokenUnitsBN } from '../../utils/number';\r\n\r\nimport AccountPageHeader from \"./Header\";\r\nimport WithdrawDeposit from \"./WithdrawDeposit\";\r\nimport BondUnbond from \"./BondUnbond\";\r\nimport IconHeader from \"../common/IconHeader\";\r\nimport {getPoolAddress} from \"../../utils/pool\";\r\nimport {DollarPool4} from \"../../constants/contracts\";\r\n\r\nfunction Wallet({ user }: {user: string}) {\r\n  const { override } = useParams();\r\n  if (override) {\r\n    user = override;\r\n  }\r\n\r\n  const [userESDBalance, setUserESDBalance] = useState(new BigNumber(0));\r\n  const [userESDAllowance, setUserESDAllowance] = useState(new BigNumber(0));\r\n  const [userESDSBalance, setUserESDSBalance] = useState(new BigNumber(0));\r\n  const [totalESDSSupply, setTotalESDSSupply] = useState(new BigNumber(0));\r\n  const [userStagedBalance, setUserStagedBalance] = useState(new BigNumber(0));\r\n  const [userBondedBalance, setUserBondedBalance] = useState(new BigNumber(0));\r\n  const [userStatus, setUserStatus] = useState(0);\r\n  const [userStatusUnlocked, setUserStatusUnlocked] = useState(0);\r\n  const [lockup, setLockup] = useState(0);\r\n\r\n  //Update User balances\r\n  useEffect(() => {\r\n    if (user === '') {\r\n      setUserESDBalance(new BigNumber(0));\r\n      setUserESDAllowance(new BigNumber(0));\r\n      setUserESDSBalance(new BigNumber(0));\r\n      setTotalESDSSupply(new BigNumber(0));\r\n      setUserStagedBalance(new BigNumber(0));\r\n      setUserBondedBalance(new BigNumber(0));\r\n      setUserStatus(0);\r\n      return;\r\n    }\r\n    let isCancelled = false;\r\n\r\n    async function updateUserInfo() {\r\n      const [\r\n        esdBalance, esdAllowance, esdsBalance, esdsSupply, stagedBalance, bondedBalance, status, poolAddress,\r\n        fluidUntilStr, lockedUntilStr\r\n      ] = await Promise.all([\r\n        getTokenBalance(ESD.addr, user),\r\n        getTokenAllowance(ESD.addr, user, ESDS.addr),\r\n        getTokenBalance(ESDS.addr, user),\r\n        getTokenTotalSupply(ESDS.addr),\r\n        getBalanceOfStaged(ESDS.addr, user),\r\n        getBalanceBonded(ESDS.addr, user),\r\n        getStatusOf(ESDS.addr, user),\r\n        getPoolAddress(),\r\n\r\n        getFluidUntil(ESDS.addr, user),\r\n        getLockedUntil(ESDS.addr, user),\r\n      ]);\r\n\r\n      const userESDBalance = toTokenUnitsBN(esdBalance, ESD.decimals);\r\n      const userESDSBalance = toTokenUnitsBN(esdsBalance, ESDS.decimals);\r\n      const totalESDSSupply = toTokenUnitsBN(esdsSupply, ESDS.decimals);\r\n      const userStagedBalance = toTokenUnitsBN(stagedBalance, ESDS.decimals);\r\n      const userBondedBalance = toTokenUnitsBN(bondedBalance, ESDS.decimals);\r\n      const userStatus = parseInt(status, 10);\r\n      const fluidUntil = parseInt(fluidUntilStr, 10);\r\n      const lockedUntil = parseInt(lockedUntilStr, 10);\r\n\r\n      if (!isCancelled) {\r\n        setUserESDBalance(new BigNumber(userESDBalance));\r\n        setUserESDAllowance(new BigNumber(esdAllowance));\r\n        setUserESDSBalance(new BigNumber(userESDSBalance));\r\n        setTotalESDSSupply(new BigNumber(totalESDSSupply));\r\n        setUserStagedBalance(new BigNumber(userStagedBalance));\r\n        setUserBondedBalance(new BigNumber(userBondedBalance));\r\n        setUserStatus(userStatus);\r\n        setUserStatusUnlocked(Math.max(fluidUntil, lockedUntil))\r\n        setLockup(poolAddress === DollarPool4 ? DAO_EXIT_LOCKUP_EPOCHS : 1);\r\n      }\r\n    }\r\n    updateUserInfo();\r\n    const id = setInterval(updateUserInfo, 15000);\r\n\r\n    // eslint-disable-next-line consistent-return\r\n    return () => {\r\n      isCancelled = true;\r\n      clearInterval(id);\r\n    };\r\n  }, [user]);\r\n\r\n  return (\r\n    <>\r\n      <IconHeader icon={<i className=\"fas fa-dot-circle\"/>} text=\"DAO\"/>\r\n\r\n      <AccountPageHeader\r\n        accountESDBalance={userESDBalance}\r\n        accountESDSBalance={userESDSBalance}\r\n        totalESDSSupply={totalESDSSupply}\r\n        accountStagedBalance={userStagedBalance}\r\n        accountBondedBalance={userBondedBalance}\r\n        accountStatus={userStatus}\r\n        unlocked={userStatusUnlocked}\r\n      />\r\n\r\n      <WithdrawDeposit\r\n        user={user}\r\n        balance={userESDBalance}\r\n        allowance={userESDAllowance}\r\n        stagedBalance={userStagedBalance}\r\n        status={userStatus}\r\n      />\r\n\r\n      <BondUnbond\r\n        staged={userStagedBalance}\r\n        bonded={userBondedBalance}\r\n        status={userStatus}\r\n        lockup={lockup}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Wallet;\r\n","import React from 'react';\r\n\r\nimport BigNumber from 'bignumber.js';\r\n\r\ntype NumberBlockProps = {\r\n  title: string,\r\n  num: BigNumber | string | number\r\n}\r\n\r\nfunction NumberBlock({ title, num }: NumberBlockProps) {\r\n  const numNum = new BigNumber(num).toNumber();\r\n\r\n  return (\r\n    <>\r\n      <div style={{ fontSize: 14, padding: 3 }}>{title}</div>\r\n      <div style={{ fontSize: 24, padding: 3 }}>{numNum}</div>\r\n\r\n    </>\r\n  );\r\n}\r\n\r\nexport default NumberBlock;\r\n","import React from 'react';\r\nimport {\r\n  Box, Button, IconCirclePlus,\r\n} from '@aragon/ui';\r\nimport {advance} from '../../utils/web3';\r\nimport NumberBlock from \"../common/NumberBlock\";\r\nimport {ESDS} from \"../../constants/tokens\";\r\n\r\ntype AdvanceEpochProps = {\r\n  user: string,\r\n  epoch: number,\r\n  epochTime: number,\r\n}\r\n\r\nfunction AdvanceEpoch({\r\n  user,\r\n  epoch,\r\n  epochTime,\r\n}: AdvanceEpochProps) {\r\n  return (\r\n    <Box heading=\"Advance Epoch\">\r\n      <div style={{ display: 'flex' }}>\r\n        {/* Epoch Time */}\r\n        <div style={{ width: '30%' }}>\r\n          <NumberBlock title=\"Epoch (from current time)\" num={epochTime} />\r\n        </div>\r\n        {/* Advance Epoch */}\r\n        <div style={{ width: '40%' }}/>\r\n        <div style={{ width: '30%', paddingTop: '2%' }}>\r\n          <Button\r\n            wide\r\n            icon={<IconCirclePlus />}\r\n            label=\"Advance\"\r\n            onClick={() => {\r\n              advance(ESDS.addr);\r\n            }}\r\n            disabled={user === '' || epoch >= epochTime}\r\n          />\r\n        </div>\r\n      </div>\r\n    </Box>\r\n  );\r\n}\r\n\r\n\r\nexport default AdvanceEpoch;\r\n","import React from 'react';\r\n\r\nimport NumberBlock from \"../common/NumberBlock\";\r\nimport TextBlock from \"../common/TextBlock\";\r\n\r\ntype AccountPageHeaderProps = {\r\n  epoch: number,\r\n  epochTime: number,\r\n};\r\n\r\nconst EpochPageHeader = ({\r\n  epoch, epochTime,\r\n}: AccountPageHeaderProps) => (\r\n  <div style={{ padding: '2%', display: 'flex', alignItems: 'center' }}>\r\n    <div style={{ width: '25%' }}>\r\n      <NumberBlock title=\"Current\" num={epoch} />\r\n    </div>\r\n    <div style={{ width: '25%' }}>\r\n      <NumberBlock title=\"Available\" num={epochTime} />\r\n    </div>\r\n    <div style={{ width: '25%' }}>\r\n      <TextBlock label=\"Period\" text={epoch < 106 ? \"24 hours\" : \"8 hours\"}/>\r\n    </div>\r\n  </div>\r\n);\r\n\r\n\r\nexport default EpochPageHeader;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Header } from '@aragon/ui';\r\n\r\nimport {getEpoch, getEpochTime,\r\n} from '../../utils/infura';\r\nimport {ESDS} from \"../../constants/tokens\";\r\nimport AdvanceEpoch from './AdvanceEpoch';\r\nimport EpochPageHeader from \"./Header\";\r\nimport IconHeader from \"../common/IconHeader\";\r\n\r\nfunction EpochDetail({ user }: {user: string}) {\r\n\r\n  const [epoch, setEpoch] = useState(0);\r\n  const [epochTime, setEpochTime] = useState(0);\r\n  useEffect(() => {\r\n    let isCancelled = false;\r\n\r\n    async function updateUserInfo() {\r\n      const [epochStr, epochTimeStr] = await Promise.all([\r\n        getEpoch(ESDS.addr),\r\n        getEpochTime(ESDS.addr),\r\n      ]);\r\n\r\n      if (!isCancelled) {\r\n        setEpoch(parseInt(epochStr, 10));\r\n        setEpochTime(parseInt(epochTimeStr, 10));\r\n      }\r\n    }\r\n    updateUserInfo();\r\n    const id = setInterval(updateUserInfo, 15000);\r\n\r\n    // eslint-disable-next-line consistent-return\r\n    return () => {\r\n      isCancelled = true;\r\n      clearInterval(id);\r\n    };\r\n  }, [user]);\r\n\r\n  return (\r\n    <>\r\n      <IconHeader icon={<i className=\"fas fa-stream\"/>} text=\"Epoch\"/>\r\n\r\n      <EpochPageHeader\r\n        epoch={epoch}\r\n        epochTime={epochTime}\r\n      />\r\n\r\n      <Header primary=\"Advance Epoch\" />\r\n\r\n      <AdvanceEpoch\r\n        user={user}\r\n        epoch={epoch}\r\n        epochTime={epochTime}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default EpochDetail;\r\n","import React from 'react';\r\n\r\nimport BigNumber from \"bignumber.js\";\r\nimport { BalanceBlock } from \"../common\";\r\nimport {ownership} from \"../../utils/number\";\r\n\r\ntype CouponMarketHeaderProps = {\r\n  debt: BigNumber,\r\n  supply: BigNumber,\r\n  coupons: BigNumber,\r\n  premium: BigNumber,\r\n  redeemable: BigNumber,\r\n};\r\n\r\nconst CouponMarketHeader = ({\r\n  debt, supply, coupons, premium, redeemable\r\n}: CouponMarketHeaderProps) => (\r\n  <div style={{ padding: '2%', display: 'flex', flexWrap: 'wrap', alignItems: 'center' }}>\r\n    <div style={{ flexBasis: '20%' }}>\r\n      <BalanceBlock asset=\"Debt Ratio\" balance={ownership(debt, supply)} suffix={\"%\"}/>\r\n    </div>\r\n    <div style={{ flexBasis: '20%' }}>\r\n      <BalanceBlock asset=\"Total Debt\" balance={debt} suffix={\"ESD\"}/>\r\n    </div>\r\n    <div style={{ flexBasis: '20%' }}>\r\n      <BalanceBlock asset=\"Coupons\" balance={coupons} />\r\n    </div>\r\n    <div style={{ flexBasis: '20%' }}>\r\n      <BalanceBlock asset=\"Premium\" balance={premium.multipliedBy(100)} suffix={\"%\"}/>\r\n    </div>\r\n    <div style={{ flexBasis: '20%' }}>\r\n      <BalanceBlock asset=\"Redeemable\" balance={redeemable}/>\r\n    </div>\r\n  </div>\r\n);\r\n\r\n\r\nexport default CouponMarketHeader;\r\n","import React, { useState } from 'react';\r\nimport {\r\n  Box, Button, IconCirclePlus, IconCircleMinus\r\n} from '@aragon/ui';\r\nimport BigNumber from 'bignumber.js';\r\nimport {\r\n  BalanceBlock, MaxButton, PriceSection,\r\n} from '../common/index';\r\nimport {approve, purchaseCoupons} from '../../utils/web3';\r\n\r\nimport {isPos, toBaseUnitBN, toTokenUnitsBN} from '../../utils/number';\r\nimport {ESD, ESDS} from \"../../constants/tokens\";\r\nimport {MAX_UINT256} from \"../../constants/values\";\r\nimport {getCouponPremium} from \"../../utils/infura\";\r\nimport BigNumberInput from \"../common/BigNumberInput\";\r\n\r\ntype PurchaseCouponsProps = {\r\n  user: string,\r\n  allowance: BigNumber,\r\n  balance: BigNumber,\r\n  debt: BigNumber,\r\n};\r\n\r\nfunction PurchaseCoupons({\r\n  user, balance, allowance, debt,\r\n}: PurchaseCouponsProps) {\r\n  const [purchaseAmount, setPurchaseAmount] = useState(new BigNumber(0));\r\n  const [premium, setPremium] = useState(new BigNumber(0));\r\n\r\n  const updatePremium = async (purchaseAmount) => {\r\n    if (purchaseAmount.lte(new BigNumber(0))) {\r\n      setPremium(new BigNumber(0));\r\n      return;\r\n    }\r\n    const purchaseAmountBase = toBaseUnitBN(purchaseAmount, ESD.decimals);\r\n    const premium = await getCouponPremium(ESDS.addr, purchaseAmountBase)\r\n    const premiumFormatted = toTokenUnitsBN(premium, ESD.decimals);\r\n    setPremium(premiumFormatted);\r\n  };\r\n\r\n  return (\r\n    <Box heading=\"Purchase\">\r\n      {allowance.comparedTo(MAX_UINT256) === 0 ?\r\n        <div style={{display: 'flex', flexWrap: 'wrap'}}>\r\n          {/* User balance */}\r\n          <div style={{flexBasis: '30%'}}>\r\n            <BalanceBlock asset={`Balance`} balance={balance} suffix={\" ESD\"}/>\r\n          </div>\r\n          <div style={{flexBasis: '38%'}}/>\r\n          {/* Purchase coupons */}\r\n          <div style={{flexBasis: '32%', paddingTop: '2%'}}>\r\n            <div style={{display: 'flex'}}>\r\n              <div style={{width: '60%', minWidth: '6em'}}>\r\n                <>\r\n                  <BigNumberInput\r\n                    adornment=\"ESD\"\r\n                    value={purchaseAmount}\r\n                    setter={(value) => {\r\n                      setPurchaseAmount(value);\r\n                      isPos(value) ? updatePremium(value) : updatePremium(new BigNumber(0));\r\n                    }}\r\n                  />\r\n                  <MaxButton\r\n                    onClick={() => {\r\n                      const maxPurchaseAmount = debt.comparedTo(balance) > 0 ? balance : debt\r\n                      setPurchaseAmount(maxPurchaseAmount);\r\n                      updatePremium(maxPurchaseAmount);\r\n                    }}\r\n                  />\r\n                </>\r\n              </div>\r\n              <div style={{width: '40%', minWidth: '6em'}}>\r\n                <Button\r\n                  wide\r\n                  icon={<IconCircleMinus/>}\r\n                  label=\"Burn\"\r\n                  onClick={() => {\r\n                    purchaseCoupons(\r\n                      ESDS.addr,\r\n                      toBaseUnitBN(purchaseAmount, ESD.decimals),\r\n                    );\r\n                  }}\r\n                  disabled={user === '' || debt.isZero() || balance.isZero() || !isPos(purchaseAmount)}\r\n                />\r\n              </div>\r\n            </div>\r\n            <PriceSection label=\"Coupons \" amt={purchaseAmount.plus(premium)}/>\r\n          </div>\r\n        </div>\r\n        :\r\n        <div style={{display: 'flex', flexWrap: 'wrap'}}>\r\n          {/* User balance */}\r\n          <div style={{flexBasis: '30%'}}>\r\n            <BalanceBlock asset={`Døllar Balance`} balance={balance}/>\r\n          </div>\r\n          <div style={{flexBasis: '40%'}}/>\r\n          {/* Approve DAO to spend Døllar */}\r\n          <div style={{flexBasis: '30%', paddingTop: '2%'}}>\r\n            <Button\r\n              wide\r\n              icon={<IconCirclePlus/>}\r\n              label=\"Approve\"\r\n              onClick={() => {\r\n                approve(ESD.addr, ESDS.addr);\r\n              }}\r\n              disabled={user === ''}\r\n            />\r\n          </div>\r\n        </div>\r\n      }\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default PurchaseCoupons;\r\n","import React, {useEffect, useState} from 'react';\r\nimport {\r\n  DataView, Button, IconCirclePlus\r\n} from '@aragon/ui';\r\n\r\nimport {getBatchBalanceOfCoupons, getBatchCouponsExpiration, getCouponEpochs} from '../../utils/infura';\r\nimport {ESD, ESDS} from \"../../constants/tokens\";\r\nimport {formatBN, toBaseUnitBN, toTokenUnitsBN} from \"../../utils/number\";\r\nimport BigNumber from \"bignumber.js\";\r\nimport {redeemCoupons} from \"../../utils/web3\";\r\n\r\ntype PurchaseHistoryProps = {\r\n  user: string,\r\n  hideRedeemed: boolean,\r\n  totalRedeemable: BigNumber\r\n};\r\n\r\nfunction PurchaseHistory({\r\n  user, hideRedeemed, totalRedeemable\r\n}: PurchaseHistoryProps) {\r\n  const [epochs, setEpochs] = useState([]);\r\n  const [page, setPage] = useState(0)\r\n  const [initialized, setInitialized] = useState(false)\r\n\r\n  //Update User balances\r\n  useEffect(() => {\r\n    if (user === '') return;\r\n    let isCancelled = false;\r\n\r\n    async function updateUserInfo() {\r\n      const epochsFromEvents = await getCouponEpochs(ESDS.addr, user);\r\n      const epochNumbers = epochsFromEvents.map(e => parseInt(e.epoch));\r\n      const balanceOfCoupons = await getBatchBalanceOfCoupons(ESDS.addr, user, epochNumbers);\r\n      const couponsExpirations = await getBatchCouponsExpiration(ESDS.addr, epochNumbers);\r\n\r\n      const couponEpochs = epochsFromEvents.map((epoch, i) => {\r\n        epoch.balance = new BigNumber(balanceOfCoupons[i]);\r\n        epoch.expiration = couponsExpirations[i];\r\n        return epoch;\r\n      });\r\n\r\n      if (!isCancelled) {\r\n        // @ts-ignore\r\n        setEpochs(couponEpochs);\r\n        setInitialized(true);\r\n      }\r\n    }\r\n    updateUserInfo();\r\n    const id = setInterval(updateUserInfo, 15000);\r\n\r\n    // eslint-disable-next-line consistent-return\r\n    return () => {\r\n      isCancelled = true;\r\n      clearInterval(id);\r\n    };\r\n  }, [user, totalRedeemable]);\r\n\r\n  return (\r\n    <DataView\r\n      fields={['Epoch', 'Purchased', 'Balance', 'Expires', '']}\r\n      status={ initialized ? 'default' : 'loading' }\r\n      // @ts-ignore\r\n      entries={hideRedeemed ? epochs.filter((epoch) => !epoch.balance.isZero()) : epochs}\r\n      entriesPerPage={10}\r\n      page={page}\r\n      onPageChange={setPage}\r\n      renderEntry={(epoch) => [\r\n        epoch.epoch.toString(),\r\n        formatBN(toTokenUnitsBN(epoch.coupons, ESD.decimals), 2),\r\n        formatBN(toTokenUnitsBN(epoch.balance, ESD.decimals), 2),\r\n        epoch.expiration.toString(),\r\n        <Button\r\n          icon={<IconCirclePlus />}\r\n          label=\"Redeem\"\r\n          onClick={() => redeemCoupons(\r\n            ESDS.addr,\r\n            epoch.epoch,\r\n            epoch.balance.isGreaterThan(toBaseUnitBN(totalRedeemable, ESD.decimals))\r\n              ? toBaseUnitBN(totalRedeemable, ESD.decimals)\r\n              : epoch.balance\r\n          )}\r\n          disabled={epoch.balance.isZero()}\r\n        />\r\n      ]}\r\n    />\r\n  );\r\n}\r\n\r\nexport default PurchaseHistory;\r\n","import React, { useState } from 'react';\r\nimport { Modal, Button, useTheme } from '@aragon/ui';\r\nimport { getPreference, storePreference } from \"../../utils/storage\";\r\nimport { COUPON_EXPIRATION } from \"../../constants/values\";\r\n\r\nfunction ModalWarning() {\r\n  const storedShowWarning = getPreference('showCouponWarning', '1');\r\n  const [showWarning, setShowWarning] = useState(storedShowWarning === '1');\r\n  const theme = useTheme();\r\n\r\n  return (\r\n    <Modal visible={showWarning} closeButton={false}>\r\n      <div style={{ width: '100%' }}>\r\n        <div style={{ fontSize: 24, padding: 3, color: theme.warning }}>\r\n          Warning\r\n        </div>\r\n\r\n        <div style={{\r\n          marginLeft: '3%',\r\n          fontSize: 16,\r\n          padding: 5\r\n        }}>\r\n          <div>\r\n            By purchasing coupons the buyer incurs significant risk of loss.\r\n            Coupons will only become redeemable during the next supply\r\n            expansion. Each expansionary epoch, a tranche of rewards are\r\n            reserved for coupon redemptions by the DAO. At that time, the\r\n            redemption process is first come, first served. Coupon redemption\r\n            is not guaranteed.\r\n          </div>\r\n\r\n          <div style={{\r\n            padding: 10,\r\n            textAlign: 'center',\r\n            color: theme.warningSurfaceContent\r\n          }}>\r\n            Coupons will expire worthless if not redeemed\r\n            within {COUPON_EXPIRATION} epochs.\r\n          </div>\r\n        </div>\r\n\r\n        <div style={{ textAlign: 'right' }}>\r\n          <Button\r\n            label={'I understand'}\r\n            onClick={() => {\r\n              storePreference('showCouponWarning', '0');\r\n              setShowWarning(false);\r\n            }}\r\n          />\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nexport default ModalWarning;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Header } from '@aragon/ui';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nimport {\r\n  getCouponPremium,\r\n  getTokenAllowance,\r\n  getTokenBalance,\r\n  getTokenTotalSupply, getTotalCoupons,\r\n  getTotalDebt, getTotalRedeemable,\r\n} from '../../utils/infura';\r\nimport {ESD, ESDS} from \"../../constants/tokens\";\r\nimport CouponMarketHeader from \"./Header\";\r\nimport {toTokenUnitsBN} from \"../../utils/number\";\r\nimport BigNumber from \"bignumber.js\";\r\nimport PurchaseCoupons from \"./PurchaseCoupons\";\r\nimport PurchaseHistory from \"./PurchaseHistory\";\r\nimport ModalWarning from \"./ModalWarning\";\r\nimport IconHeader from \"../common/IconHeader\";\r\nimport {getPreference, storePreference} from \"../../utils/storage\";\r\nimport {CheckBox} from \"../common\";\r\n\r\nconst ONE_COUPON = new BigNumber(10).pow(18);\r\n\r\nfunction CouponMarket({ user }: {user: string}) {\r\n  const { override } = useParams();\r\n  if (override) {\r\n    user = override;\r\n  }\r\n\r\n  const storedHideRedeemed = getPreference('hideRedeemedCoupons', '0');\r\n\r\n  const [balance, setBalance] = useState(new BigNumber(0));\r\n  const [allowance, setAllowance] = useState(new BigNumber(0));\r\n  const [supply, setSupply] = useState(new BigNumber(0));\r\n  const [coupons, setCoupons] = useState(new BigNumber(0));\r\n  const [redeemable, setRedeemable] = useState(new BigNumber(0));\r\n  const [couponPremium, setCouponPremium] = useState(new BigNumber(0));\r\n  const [debt, setDebt] = useState(new BigNumber(0));\r\n  const [hideRedeemed, setHideRedeemed] = useState(storedHideRedeemed === '1');\r\n\r\n  useEffect(() => {\r\n    if (user === '') {\r\n      setBalance(new BigNumber(0));\r\n      setAllowance(new BigNumber(0));\r\n      return;\r\n    }\r\n    let isCancelled = false;\r\n\r\n    async function updateUserInfo() {\r\n      const [balanceStr, allowanceStr] = await Promise.all([\r\n        getTokenBalance(ESD.addr, user),\r\n        getTokenAllowance(ESD.addr, user, ESDS.addr),\r\n      ]);\r\n\r\n      const userBalance = toTokenUnitsBN(balanceStr, ESD.decimals);\r\n\r\n      if (!isCancelled) {\r\n        setBalance(new BigNumber(userBalance));\r\n        setAllowance(new BigNumber(allowanceStr));\r\n        (new BigNumber(allowanceStr));\r\n      }\r\n    }\r\n    updateUserInfo();\r\n    const id = setInterval(updateUserInfo, 15000);\r\n\r\n    // eslint-disable-next-line consistent-return\r\n    return () => {\r\n      isCancelled = true;\r\n      clearInterval(id);\r\n    };\r\n  }, [user]);\r\n\r\n  useEffect(() => {\r\n    let isCancelled = false;\r\n\r\n    async function updateUserInfo() {\r\n      const [supplyStr, debtStr, couponsStr, redeemableStr] = await Promise.all([\r\n        getTokenTotalSupply(ESD.addr),\r\n        getTotalDebt(ESDS.addr),\r\n        getTotalCoupons(ESDS.addr),\r\n        getTotalRedeemable(ESDS.addr),\r\n      ]);\r\n\r\n      const totalSupply = toTokenUnitsBN(supplyStr, ESD.decimals);\r\n      const totalDebt = toTokenUnitsBN(debtStr, ESD.decimals);\r\n      const totalCoupons = toTokenUnitsBN(couponsStr, ESD.decimals);\r\n      const totalRedeemable = toTokenUnitsBN(redeemableStr, ESD.decimals);\r\n\r\n      if (!isCancelled) {\r\n        setSupply(new BigNumber(totalSupply));\r\n        setDebt(new BigNumber(totalDebt));\r\n        setCoupons(new BigNumber(totalCoupons));\r\n        setRedeemable(new BigNumber(totalRedeemable));\r\n\r\n        if (totalDebt.isGreaterThan(new BigNumber(1))) {\r\n          const couponPremiumStr = await getCouponPremium(ESDS.addr, ONE_COUPON)\r\n          setCouponPremium(toTokenUnitsBN(couponPremiumStr, ESD.decimals));\r\n        } else {\r\n          setCouponPremium(new BigNumber(0));\r\n        }\r\n      }\r\n    }\r\n    updateUserInfo();\r\n    const id = setInterval(updateUserInfo, 15000);\r\n\r\n    // eslint-disable-next-line consistent-return\r\n    return () => {\r\n      isCancelled = true;\r\n      clearInterval(id);\r\n    };\r\n  }, [user]);\r\n\r\n  return (\r\n    <>\r\n      <ModalWarning/>\r\n\r\n      <IconHeader icon={<i className=\"fas fa-ticket-alt\"/>} text=\"Coupon Market\"/>\r\n\r\n      <CouponMarketHeader\r\n        debt={debt}\r\n        supply={supply}\r\n        coupons={coupons}\r\n        premium={couponPremium}\r\n        redeemable={redeemable}\r\n      />\r\n\r\n      <Header primary=\"Purchase\" />\r\n\r\n      <PurchaseCoupons\r\n        user={user}\r\n        allowance={allowance}\r\n        balance={balance}\r\n        debt={debt}\r\n      />\r\n\r\n      <div style={{ display: 'flex' }}>\r\n        <Header primary=\"Coupons\" />\r\n        <div style={{ marginLeft: 'auto', alignSelf: 'flex-end' }}>\r\n          <CheckBox\r\n            text=\"Hide Redeemed\"\r\n            onCheck={(checked) => {\r\n              storePreference('hideRedeemedCoupons', checked ? '1' : '0');\r\n              setHideRedeemed(checked);\r\n            }}\r\n            checked={hideRedeemed}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <PurchaseHistory\r\n        user={user}\r\n        hideRedeemed={hideRedeemed}\r\n        totalRedeemable={redeemable}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default CouponMarket;\r\n","import React from 'react';\r\n\r\nimport BigNumber from \"bignumber.js\";\r\nimport {AddressBlock, BalanceBlock} from \"../common\";\r\nimport TextBlock from \"../common/TextBlock\";\r\nimport {ownership} from \"../../utils/number\";\r\nimport {GOVERNANCE_PROPOSAL_THRESHOLD} from \"../../constants/values\";\r\n\r\ntype GovernanceHeaderProps = {\r\n  stake: BigNumber,\r\n  totalStake: BigNumber,\r\n  accountStatus: number,\r\n  implementation: string\r\n};\r\n\r\nconst STATUS_MAP = [\"Frozen\", \"Fluid\", \"Locked\"];\r\n\r\nconst GovernanceHeader = ({\r\n  stake, totalStake, accountStatus, implementation\r\n}: GovernanceHeaderProps) => (\r\n  <div style={{ padding: '2%', display: 'flex', flexWrap: 'wrap', alignItems: 'center' }}>\r\n    <div style={{ flexBasis: '25%' }}>\r\n      <BalanceBlock asset=\"DAO Ownership\" balance={ownership(stake, totalStake)} suffix=\"%\" />\r\n    </div>\r\n    <div style={{ flexBasis: '25%' }}>\r\n      <BalanceBlock asset=\"Proposal Threshold\" balance={GOVERNANCE_PROPOSAL_THRESHOLD.multipliedBy(100)} suffix=\"%\" />\r\n    </div>\r\n    <div style={{ flexBasis: '25%' }}>\r\n      <TextBlock label=\"Status\" text={STATUS_MAP[accountStatus]}/>\r\n    </div>\r\n    <div style={{ flexBasis: '25%' }}>\r\n      <AddressBlock label=\"Implementation\" address={implementation} />\r\n    </div>\r\n  </div>\r\n);\r\n\r\n\r\nexport default GovernanceHeader;\r\n","import {GOVERNANCE_PROPOSAL_THRESHOLD, GOVERNANCE_QUORUM} from \"../constants/values\";\r\nimport BigNumber from \"bignumber.js\";\r\n\r\nexport function proposalStatus(epoch, start, period, initialized, approve, reject, total): string {\r\n  if (start === 0) {\r\n    return \"N/A\";\r\n  }\r\n  if (epoch < start) {\r\n    return \"Unknown\";\r\n  }\r\n  if (epoch < (start + period)) {\r\n    return \"Voting\"\r\n  }\r\n  if (initialized) {\r\n    return \"Committed\"\r\n  }\r\n\r\n  if (epoch < (start + period)) {\r\n    return \"Rejected\"; // Not ended\r\n  }\r\n  if (approve.plus(reject).dividedBy(total).comparedTo(GOVERNANCE_QUORUM) < 0) {\r\n    return \"Rejected\"; // Didn't meet quorum\r\n  }\r\n  return approve.comparedTo(reject) > 0 ? \"Approved\" : \"Rejected\";\r\n}\r\n\r\nexport function canPropose(stake: BigNumber, totalStake: BigNumber): boolean {\r\n  return stake.div(totalStake).comparedTo(GOVERNANCE_PROPOSAL_THRESHOLD) >= 0;\r\n}","import React, { useState } from 'react';\r\nimport {\r\n  Box, TextInput, Button, IconToken,\r\n} from '@aragon/ui';\r\nimport BigNumber from 'bignumber.js';\r\nimport {recordVote} from '../../utils/web3';\r\n\r\nimport {ESDS} from \"../../constants/tokens\";\r\nimport {canPropose} from \"../../utils/gov\";\r\n\r\ntype ProposeCandidateProps = {\r\n  user: string,\r\n  stake: BigNumber,\r\n  totalStake: BigNumber,\r\n  accountStatus: number\r\n};\r\n\r\nfunction plausibleCandidate(candidate: string): boolean {\r\n  return (/^(0x)[0-9a-fA-F]{40}$/i.test(candidate));\r\n}\r\n\r\nfunction ProposeCandidate({\r\n  user, stake, totalStake, accountStatus,\r\n}: ProposeCandidateProps) {\r\n  const [candidate, setCandidate] = useState(\"0x\");\r\n\r\n  return (\r\n    <Box heading=\"Propose\">\r\n      <div style={{display: 'flex', flexWrap: 'wrap'}}>\r\n        {/* User balance */}\r\n        <div style={{flexBasis: '62%', paddingTop: '2%'}}>\r\n          <>\r\n            <TextInput\r\n              wide\r\n              value={candidate}\r\n              onChange={(event) => {\r\n                if (event.target.value) {\r\n                  setCandidate(event.target.value);\r\n                } else {\r\n                  setCandidate(\"0x\");\r\n                }\r\n              }}\r\n            />\r\n          </>\r\n        </div>\r\n        <div style={{flexBasis: '6%'}}/>\r\n        {/* Purchase coupons */}\r\n        <div style={{flexBasis: '32%', paddingTop: '2%'}}>\r\n          <Button\r\n            wide\r\n            icon={<IconToken/>}\r\n            label=\"Propose\"\r\n            onClick={() => {\r\n              recordVote(\r\n                ESDS.addr,\r\n                candidate,\r\n                1 // APPROVE\r\n              );\r\n            }}\r\n            disabled={user === '' || !canPropose(stake, totalStake) || !plausibleCandidate(candidate) || accountStatus === 1}\r\n          />\r\n        </div>\r\n      </div>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default ProposeCandidate;\r\n","import React, {useEffect, useState} from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport {\r\n  Button, IconRight, DataView\r\n} from '@aragon/ui';\r\n\r\nimport {\r\n  getAllProposals,\r\n  getApproveFor,\r\n  getEpoch,\r\n  getIsInitialized,\r\n  getRejectFor,\r\n  getTokenTotalSupply, getTotalBondedAt\r\n} from '../../utils/infura';\r\nimport {ESDS} from \"../../constants/tokens\";\r\nimport {AddressBlock} from \"../common\";\r\nimport {proposalStatus} from \"../../utils/gov\";\r\nimport BigNumber from \"bignumber.js\";\r\n\r\ntype CandidateHistoryProps = {\r\n  user: string;\r\n};\r\n\r\ntype Proposal = {\r\n  index: number\r\n  candidate: string,\r\n  account: string,\r\n  start: number,\r\n  period: number,\r\n  status: string\r\n}\r\n\r\nasync function formatProposals(epoch: number, proposals: any[]): Promise<Proposal[]> {\r\n  const currentTotalStake = await getTokenTotalSupply(ESDS.addr);\r\n  const initializeds = await Promise.all(proposals.map((p) => getIsInitialized(ESDS.addr, p.candidate)));\r\n  const approves = await Promise.all(proposals.map((p) => getApproveFor(ESDS.addr, p.candidate)));\r\n  const rejecteds = await Promise.all(proposals.map((p) => getRejectFor(ESDS.addr, p.candidate)));\r\n  const supplyAts = await Promise.all(proposals.map(async (p) => {\r\n    const at = (p.start + p.period - 1);\r\n    if (epoch > at) {\r\n      return await getTotalBondedAt(ESDS.addr, at);\r\n    }\r\n    return currentTotalStake;\r\n  }));\r\n\r\n  for (let i = 0; i < proposals.length; i++) {\r\n    proposals[i].index = (proposals.length - i);\r\n    proposals[i].start = parseInt(proposals[i].start);\r\n    proposals[i].period = parseInt(proposals[i].period);\r\n    proposals[i].status = proposalStatus(\r\n      epoch,\r\n      proposals[i].start,\r\n      proposals[i].period,\r\n      initializeds[i],\r\n      new BigNumber(approves[i]),\r\n      new BigNumber(rejecteds[i]),\r\n      new BigNumber(supplyAts[i])\r\n    );\r\n  }\r\n  return proposals\r\n}\r\n\r\nfunction CandidateHistory({user}: CandidateHistoryProps) {\r\n  const history = useHistory();\r\n  const [proposals, setProposals] = useState<Proposal[]>([]);\r\n  const [page, setPage] = useState(0)\r\n  const [initialized, setInitialized] = useState(false)\r\n\r\n  useEffect(() => {\r\n    let isCancelled = false;\r\n\r\n    async function updateUserInfo() {\r\n      const [epochStr, allProposals] = await Promise.all([\r\n        getEpoch(ESDS.addr),\r\n        getAllProposals(ESDS.addr),\r\n      ]);\r\n\r\n      if (!isCancelled) {\r\n        const formattedProposals = await formatProposals(parseInt(epochStr), allProposals);\r\n        setProposals(formattedProposals);\r\n        setInitialized(true);\r\n      }\r\n    }\r\n    updateUserInfo();\r\n    const id = setInterval(updateUserInfo, 15000);\r\n\r\n    // eslint-disable-next-line consistent-return\r\n    return () => {\r\n      isCancelled = true;\r\n      clearInterval(id);\r\n    };\r\n  }, [user]);\r\n\r\n  return (\r\n    <DataView\r\n      fields={['Proposal', 'Candidate', 'Proposed', 'Complete', 'Proposer', 'Status', '']}\r\n      status={ initialized ? 'default' : 'loading' }\r\n      // @ts-ignore\r\n      entries={proposals}\r\n      entriesPerPage={10}\r\n      page={page}\r\n      onPageChange={setPage}\r\n      renderEntry={(proposal) => [\r\n        \"#\" + proposal.index,\r\n        <AddressBlock label=\"\" address={proposal.candidate} />,\r\n        proposal.start.toString(),\r\n        (proposal.start + proposal.period).toString(),\r\n        <AddressBlock label=\"\" address={proposal.account} />,\r\n        proposal.status,\r\n        <Button\r\n          wide\r\n          icon={<IconRight />}\r\n          label=\"Go To\"\r\n          onClick={() => {\r\n            history.push(`/governance/candidate/${proposal.candidate}`);\r\n          }}\r\n        />\r\n      ]}\r\n    />\r\n  );\r\n}\r\n\r\nexport default CandidateHistory;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Header } from '@aragon/ui';\r\n\r\nimport {\r\n  getImplementation,\r\n  getStatusOf,\r\n  getTokenBalance,\r\n  getTokenTotalSupply,\r\n} from '../../utils/infura';\r\nimport {ESDS} from \"../../constants/tokens\";\r\nimport {toTokenUnitsBN} from \"../../utils/number\";\r\nimport BigNumber from \"bignumber.js\";\r\nimport GovernanceHeader from \"./Header\";\r\nimport ProposeCandidate from \"./ProposeCandidate\";\r\nimport CandidateHistory from \"./CandidateHistory\";\r\nimport IconHeader from \"../common/IconHeader\";\r\nimport {canPropose} from \"../../utils/gov\";\r\n\r\nfunction Governance({ user }: {user: string}) {\r\n\r\n  const [stake, setStake] = useState(new BigNumber(0));\r\n  const [totalStake, setTotalStake] = useState(new BigNumber(0));\r\n  const [userStatus, setUserStatus] = useState(0);\r\n  const [implementation, setImplementation] = useState(\"0x\");\r\n\r\n  useEffect(() => {\r\n    if (user === '') {\r\n      setStake(new BigNumber(0));\r\n      setUserStatus(0);\r\n      return;\r\n    }\r\n    let isCancelled = false;\r\n\r\n    async function updateUserInfo() {\r\n      const [statusStr, stakeStr] = await Promise.all([\r\n        getStatusOf(ESDS.addr, user),\r\n        getTokenBalance(ESDS.addr, user),\r\n      ]);\r\n\r\n      if (!isCancelled) {\r\n        setStake(toTokenUnitsBN(stakeStr, ESDS.decimals));\r\n        setUserStatus(parseInt(statusStr, 10));\r\n      }\r\n    }\r\n    updateUserInfo();\r\n    const id = setInterval(updateUserInfo, 15000);\r\n\r\n    // eslint-disable-next-line consistent-return\r\n    return () => {\r\n      isCancelled = true;\r\n      clearInterval(id);\r\n    };\r\n  }, [user]);\r\n\r\n  useEffect(() => {\r\n    let isCancelled = false;\r\n\r\n    async function updateUserInfo() {\r\n      const [totalStakeStr, implementationStr] = await Promise.all([\r\n        getTokenTotalSupply(ESDS.addr),\r\n        getImplementation(ESDS.addr),\r\n      ]);\r\n\r\n      if (!isCancelled) {\r\n        setTotalStake(toTokenUnitsBN(totalStakeStr, ESDS.decimals));\r\n        setImplementation(implementationStr)\r\n      }\r\n    }\r\n    updateUserInfo();\r\n    const id = setInterval(updateUserInfo, 15000);\r\n\r\n    // eslint-disable-next-line consistent-return\r\n    return () => {\r\n      isCancelled = true;\r\n      clearInterval(id);\r\n    };\r\n  }, [user]);\r\n\r\n  return (\r\n    <>\r\n      <IconHeader icon={<i className=\"fas fa-poll\"/>} text=\"Governance\"/>\r\n\r\n      <GovernanceHeader\r\n        stake={stake}\r\n        totalStake={totalStake}\r\n        accountStatus={userStatus}\r\n        implementation={implementation}\r\n      />\r\n\r\n      {\r\n        canPropose(stake, totalStake) ?\r\n          <>\r\n            <Header primary=\"Propose Candidate\"/>\r\n            <ProposeCandidate\r\n              user={user}\r\n              stake={stake}\r\n              totalStake={totalStake}\r\n              accountStatus={userStatus}\r\n            />\r\n          </>\r\n          :\r\n          ''\r\n      }\r\n\r\n      <Header primary=\"Candidate History\" />\r\n\r\n      <CandidateHistory user={user}/>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Governance;\r\n","import React from 'react';\r\nimport {\r\n  Box, Button, IconRotateLeft, IconCircleCheck, IconProhibited\r\n} from '@aragon/ui';\r\nimport BigNumber from 'bignumber.js';\r\nimport {\r\n  BalanceBlock,\r\n} from '../common/index';\r\nimport {recordVote} from '../../utils/web3';\r\n\r\nimport {ESDS} from \"../../constants/tokens\";\r\nimport TextBlock from \"../common/TextBlock\";\r\n\r\ntype VoteProps = {\r\n  candidate: string,\r\n  stake: BigNumber,\r\n  vote: number,\r\n  status: number\r\n};\r\n\r\nconst VOTE_TYPE_MAP = [\"Undecided\", \"Approve\", \"Reject\"]\r\n\r\nfunction Vote({\r\n  candidate, stake, vote, status\r\n}: VoteProps) {\r\n  return (\r\n    <Box heading=\"Vote\">\r\n      <div style={{display: 'flex'}}>\r\n        {/* User stake */}\r\n        <div style={{width: '20%'}}>\r\n          <BalanceBlock asset=\"My Stake\" balance={stake} suffix={ \"ESDS\"}/>\r\n        </div>\r\n        <div style={{width: '20%'}}>\r\n          <TextBlock label=\"My Vote\" text={VOTE_TYPE_MAP[vote]}/>\r\n        </div>\r\n        {/* Remove vote for candidate */}\r\n        <div style={{width: '18%', paddingTop: '2%'}}>\r\n          <Button\r\n            wide\r\n            icon={<IconRotateLeft/>}\r\n            label=\"Unvote\"\r\n            onClick={() => {\r\n              recordVote(\r\n                ESDS.addr,\r\n                candidate,\r\n                0 // UNDECIDED\r\n              );\r\n            }}\r\n            disabled={status === 1 || vote === 0 || stake.isZero()}\r\n          />\r\n        </div>\r\n        {/* Vote to approve candidate */}\r\n        <div style={{width: '3%'}} />\r\n        <div style={{width: '18%', paddingTop: '2%'}}>\r\n          <Button\r\n            wide\r\n            icon={<IconCircleCheck/>}\r\n            label=\"Accept\"\r\n            onClick={() => {\r\n              recordVote(\r\n                ESDS.addr,\r\n                candidate,\r\n                1 // APPROVE\r\n              );\r\n            }}\r\n            disabled={status === 1 || vote === 1 || stake.isZero()}\r\n          />\r\n        </div>\r\n        {/* Vote to reject candidate */}\r\n        <div style={{width: '3%'}} />\r\n        <div style={{width: '18%', paddingTop: '2%'}}>\r\n          <div style={{display: 'flex'}}>\r\n              <Button\r\n                wide\r\n                icon={<IconProhibited/>}\r\n                label=\"Reject\"\r\n                onClick={() => {\r\n                  recordVote(\r\n                    ESDS.addr,\r\n                    candidate,\r\n                    2 // REJECT\r\n                  );\r\n                }}\r\n                disabled={status === 1 || vote === 2 || stake.isZero()}\r\n              />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default Vote;\r\n","import React from 'react';\r\n\r\nimport BigNumber from \"bignumber.js\";\r\nimport { BalanceBlock } from \"../common\";\r\n\r\ntype VoteHeaderProps = {\r\n  approveFor: BigNumber,\r\n  rejectFor: BigNumber,\r\n  totalStake: BigNumber,\r\n  showParticipation: boolean,\r\n};\r\n\r\nfunction approval(approve: BigNumber, reject: BigNumber): BigNumber {\r\n  return approve.multipliedBy(10000).dividedToIntegerBy(approve.plus(reject)).dividedBy(100)\r\n}\r\n\r\nfunction participation(approve: BigNumber, reject: BigNumber, totalStake: BigNumber): BigNumber {\r\n  return approve.plus(reject).multipliedBy(10000).dividedToIntegerBy(totalStake).dividedBy(100)\r\n}\r\n\r\nconst VoteHeader = ({\r\n  approveFor, rejectFor, totalStake, showParticipation\r\n}: VoteHeaderProps) => (\r\n  <div style={{ padding: '2%', display: 'flex', alignItems: 'center' }}>\r\n    <div style={{ width: '25%' }}>\r\n      <BalanceBlock asset=\"Approve\" balance={approveFor} suffix={ \"ESDS\"}/>\r\n    </div>\r\n    <div style={{ width: '25%' }}>\r\n      <BalanceBlock asset=\"Reject\" balance={rejectFor} suffix={ \"ESDS\"}/>\r\n    </div>\r\n    <div style={{ width: '25%' }}>\r\n      <BalanceBlock asset=\"Approval\" balance={approval(approveFor, rejectFor)} suffix=\"%\" />\r\n    </div>\r\n    {showParticipation ?\r\n      <div style={{width: '25%'}}>\r\n        <BalanceBlock asset=\"Participation\" balance={participation(approveFor, rejectFor, totalStake)} suffix=\"%\"/>\r\n      </div> : ''\r\n    }\r\n  </div>\r\n);\r\n\r\n\r\nexport default VoteHeader;\r\n","import React from 'react';\r\n\r\nimport NumberBlock from \"../common/NumberBlock\";\r\n\r\ntype CommitHeaderProps = {\r\n  epoch: number\r\n  startEpoch: number,\r\n  periodEpoch: number,\r\n};\r\n\r\nconst CommitHeader = ({\r\n   epoch, startEpoch, periodEpoch,\r\n}: CommitHeaderProps) => (\r\n  <div style={{ padding: '2%', display: 'flex', alignItems: 'center' }}>\r\n    <div style={{ width: '25%' }}>\r\n      <NumberBlock title=\"Epoch\" num={epoch} />\r\n    </div>\r\n    <div style={{ width: '25%' }}>\r\n      <NumberBlock title=\"Starts\" num={startEpoch} />\r\n    </div>\r\n    <div style={{ width: '25%' }}>\r\n      <NumberBlock title=\"Period\" num={periodEpoch} />\r\n    </div>\r\n  </div>\r\n);\r\n\r\n\r\nexport default CommitHeader;\r\n","import React from 'react';\r\nimport {\r\n  Box, Button, IconUpload\r\n} from '@aragon/ui';\r\nimport TextBlock from \"../common/TextBlock\";\r\nimport {ESDS} from \"../../constants/tokens\";\r\nimport {commit} from \"../../utils/web3\";\r\n\r\ntype CommitProps = {\r\n  user: string,\r\n  candidate: string,\r\n  epoch: number\r\n  startEpoch: number,\r\n  periodEpoch: number,\r\n  initialized: boolean,\r\n  approved: boolean\r\n};\r\n\r\nfunction Commit({\r\n  user, candidate, epoch, startEpoch, periodEpoch, initialized, approved,\r\n}: CommitProps) {\r\n  function status(epoch, startEpoch, periodEpoch, initialized, approved): string {\r\n    if (startEpoch === 0) {\r\n      return \"N/A\";\r\n    }\r\n    if (epoch < startEpoch) {\r\n      return \"Unknown\";\r\n    }\r\n    if (epoch < (startEpoch + periodEpoch)) {\r\n      return \"Voting\"\r\n    }\r\n    if (initialized) {\r\n      return \"Committed\"\r\n    }\r\n    if (approved) {\r\n      return \"Approved\"\r\n    }\r\n    return \"Rejected\"\r\n  }\r\n  const s = status(epoch, startEpoch, periodEpoch, initialized, approved);\r\n\r\n  return (\r\n    <Box heading=\"Commit\">\r\n      <div style={{display: 'flex'}}>\r\n        {/* Status */}\r\n        <div style={{ width: '30%' }}>\r\n          <TextBlock label=\"Status\" text={s} />\r\n        </div>\r\n        <div style={{width: '40%'}} />\r\n        {/* Commit candidate */}\r\n        <div style={{width: '30%', paddingTop: '2%'}}>\r\n          <div style={{display: 'flex'}}>\r\n              <Button\r\n                wide\r\n                icon={<IconUpload/>}\r\n                label=\"Commit\"\r\n                onClick={() => {\r\n                  commit(\r\n                    ESDS.addr,\r\n                    candidate\r\n                  );\r\n                }}\r\n                disabled={user === '' || s !== 'Approved'}\r\n              />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default Commit;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Header, IdentityBadge } from '@aragon/ui';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nimport {\r\n  getApproveFor, getEpoch, getIsInitialized, getPeriodFor,\r\n  getRecordedVote,\r\n  getRejectFor, getStartFor, getStatusOf,\r\n  getTokenBalance,\r\n  getTokenTotalSupply, getTotalBondedAt\r\n} from '../../utils/infura';\r\nimport {ESDS} from \"../../constants/tokens\";\r\nimport {toTokenUnitsBN} from \"../../utils/number\";\r\nimport BigNumber from \"bignumber.js\";\r\nimport Vote from \"./Vote\";\r\nimport VoteHeader from \"./VoteHeader\";\r\nimport CommitHeader from \"./CommitHeader\";\r\nimport Commit from \"./Commit\";\r\nimport IconHeader from \"../common/IconHeader\";\r\nimport {proposalStatus} from \"../../utils/gov\";\r\n\r\nfunction Candidate({ user }: {user: string}) {\r\n  const { candidate } = useParams();\r\n\r\n  const [approveFor, setApproveFor] = useState(new BigNumber(0));\r\n  const [rejectFor, setRejectFor] = useState(new BigNumber(0));\r\n  const [totalStake, setTotalStake] = useState(new BigNumber(0));\r\n  const [vote, setVote] = useState(0);\r\n  const [status, setStatus] = useState(0);\r\n  const [userStake, setUserStake] = useState(new BigNumber(0));\r\n  const [epoch, setEpoch] = useState(0);\r\n  const [startEpoch, setStartEpoch] = useState(0);\r\n  const [periodEpoch, setPeriodEpoch] = useState(0);\r\n  const [initialized, setInitialized] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (user === '') {\r\n      setVote(0);\r\n      setStatus(0);\r\n      setUserStake(new BigNumber(0));\r\n      return;\r\n    }\r\n    let isCancelled = false;\r\n\r\n    async function updateUserInfo() {\r\n      const [\r\n        voteStr, statusStr, userStakeStr,\r\n      ] = await Promise.all([\r\n        getRecordedVote(ESDS.addr, user, candidate),\r\n        getStatusOf(ESDS.addr, user),\r\n        getTokenBalance(ESDS.addr, user),\r\n      ]);\r\n\r\n      if (!isCancelled) {\r\n        setVote(parseInt(voteStr, 10));\r\n        setStatus(parseInt(statusStr, 10));\r\n        setUserStake(toTokenUnitsBN(userStakeStr, ESDS.decimals));\r\n      }\r\n    }\r\n    updateUserInfo();\r\n    const id = setInterval(updateUserInfo, 15000);\r\n\r\n    // eslint-disable-next-line consistent-return\r\n    return () => {\r\n      isCancelled = true;\r\n      clearInterval(id);\r\n    };\r\n  }, [user, candidate]);\r\n\r\n  useEffect(() => {\r\n    let isCancelled = false;\r\n\r\n    async function updateUserInfo() {\r\n      let [\r\n        approveForStr, rejectForStr, totalStakeStr,\r\n        epochStr, startForStr, periodForStr, isInitialized\r\n      ] = await Promise.all([\r\n        getApproveFor(ESDS.addr, candidate),\r\n        getRejectFor(ESDS.addr, candidate),\r\n        getTokenTotalSupply(ESDS.addr),\r\n        getEpoch(ESDS.addr),\r\n        getStartFor(ESDS.addr, candidate),\r\n        getPeriodFor(ESDS.addr, candidate),\r\n        getIsInitialized(ESDS.addr, candidate),\r\n      ]);\r\n\r\n      const epochN = parseInt(epochStr, 10);\r\n      const startN = parseInt(startForStr, 10);\r\n      const periodN = parseInt(periodForStr, 10);\r\n\r\n      const endsAfter = (startN + periodN - 1);\r\n      if (epochN > endsAfter) {\r\n        totalStakeStr = await getTotalBondedAt(ESDS.addr, endsAfter);\r\n      }\r\n\r\n      if (!isCancelled) {\r\n        setApproveFor(toTokenUnitsBN(approveForStr, ESDS.decimals));\r\n        setRejectFor(toTokenUnitsBN(rejectForStr, ESDS.decimals));\r\n        setTotalStake(toTokenUnitsBN(totalStakeStr, ESDS.decimals));\r\n        setEpoch(epochN);\r\n        setStartEpoch(startN);\r\n        setPeriodEpoch(periodN);\r\n        setInitialized(isInitialized);\r\n      }\r\n    }\r\n    updateUserInfo();\r\n    const id = setInterval(updateUserInfo, 15000);\r\n\r\n    // eslint-disable-next-line consistent-return\r\n    return () => {\r\n      isCancelled = true;\r\n      clearInterval(id);\r\n    };\r\n  }, [candidate]);\r\n\r\n  return (\r\n    <>\r\n      <IconHeader icon={<i className=\"fas fa-poll\"/>} text=\"Candidate\"/>\r\n      <IdentityBadge entity={candidate} shorten={false} />\r\n\r\n      <VoteHeader\r\n        approveFor={approveFor}\r\n        rejectFor={rejectFor}\r\n        totalStake={totalStake}\r\n        showParticipation={startEpoch > 106}\r\n      />\r\n\r\n      <Header primary=\"Vote\" />\r\n      <Vote\r\n        candidate={candidate}\r\n        stake={userStake}\r\n        vote={vote}\r\n        status={status}\r\n      />\r\n\r\n      <Header primary=\"Commit\" />\r\n      <CommitHeader\r\n        epoch={epoch}\r\n        startEpoch={startEpoch}\r\n        periodEpoch={periodEpoch}\r\n      />\r\n\r\n      <Commit\r\n        user={user}\r\n        candidate={candidate}\r\n        epoch={epoch}\r\n        startEpoch={startEpoch}\r\n        periodEpoch={periodEpoch}\r\n        initialized={initialized}\r\n        approved={proposalStatus(epoch, startEpoch, periodEpoch, false, approveFor, rejectFor, totalStake) === \"Approved\"}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Candidate;\r\n","import React from 'react';\r\n\r\nimport BigNumber from \"bignumber.js\";\r\n\r\nimport {Box, Distribution} from '@aragon/ui';\r\nimport {formatMoney, ownership} from \"../../utils/number\";\r\n\r\ntype RegulationHeaderProps = {\r\n  totalSupply: BigNumber,\r\n\r\n  totalBonded: BigNumber,\r\n  totalStaged: BigNumber,\r\n  totalRedeemable: BigNumber,\r\n\r\n  poolLiquidity: BigNumber,\r\n  poolRewarded: BigNumber,\r\n  poolClaimable: BigNumber,\r\n\r\n  legacyPoolRewarded: BigNumber,\r\n  legacyPoolClaimable: BigNumber,\r\n\r\n  totalDebt: BigNumber,\r\n  totalCoupons: BigNumber,\r\n  couponPremium: BigNumber,\r\n};\r\n\r\nconst RegulationHeader = ({\r\n  totalSupply,\r\n  totalBonded, totalStaged, totalRedeemable,\r\n  poolLiquidity, poolRewarded, poolClaimable,\r\n  legacyPoolRewarded, legacyPoolClaimable,\r\n  totalDebt, totalCoupons, couponPremium\r\n}: RegulationHeaderProps) => {\r\n  const daoTotalSupply = totalBonded.plus(totalStaged).plus(totalRedeemable);\r\n  const poolTotalSupply = poolLiquidity.plus(poolRewarded).plus(poolClaimable);\r\n  const legacyPoolTotalSupply = legacyPoolRewarded.plus(legacyPoolClaimable);\r\n  const circulatingSupply = totalSupply.minus(daoTotalSupply).minus(poolTotalSupply).minus(legacyPoolTotalSupply);\r\n\r\n  return (\r\n    <>\r\n      <div style={{display: 'flex', flexWrap: 'wrap'}}>\r\n        <div style={{ flexBasis: '25%', marginRight: '2%' }}>\r\n          <Box heading=\"Supply Allocation\">\r\n            <Distribution\r\n              heading={`∅${formatMoney(totalSupply.toNumber())}`}\r\n              items={[\r\n                { item: 'DAO', percentage: +(ownership(daoTotalSupply, totalSupply).toNumber().toFixed(2)) },\r\n                { item: 'Uniswap', percentage: +(ownership(poolTotalSupply, totalSupply).toNumber().toFixed(2)) },\r\n                { item: 'Circulating', percentage: +(ownership(circulatingSupply, totalSupply).toNumber().toFixed(2)) },\r\n              ]}\r\n            />\r\n          </Box>\r\n        </div>\r\n        <div style={{ flexBasis: '25%', marginRight: '2%' }}>\r\n          <Box heading=\"DAO Breakdown\">\r\n            <Distribution\r\n              heading={`∅${formatMoney(daoTotalSupply.toNumber())}`}\r\n              items={[\r\n                { item: 'Bonded', percentage: +(ownership(totalBonded, daoTotalSupply).toNumber().toFixed(2)) },\r\n                { item: 'Staged', percentage: +(ownership(totalStaged, daoTotalSupply).toNumber().toFixed(2)) },\r\n                { item: 'Redeemable', percentage: +(ownership(totalRedeemable, daoTotalSupply).toNumber().toFixed(2)) },\r\n              ]}\r\n            />\r\n          </Box>\r\n        </div>\r\n        <div style={{ flexBasis: '25%' }}>\r\n          <Box heading=\"Uniswap Breakdown\">\r\n            <Distribution\r\n              heading={`∅${formatMoney(poolTotalSupply.toNumber())}`}\r\n              items={[\r\n                { item: 'Liquidity', percentage: +(ownership(poolLiquidity, poolTotalSupply).toNumber().toFixed(2)) },\r\n                { item: 'Rewarded', percentage: +(ownership(poolRewarded, poolTotalSupply).toNumber().toFixed(2)) },\r\n                { item: 'Claimable', percentage: +(ownership(poolClaimable, poolTotalSupply).toNumber().toFixed(2)) },\r\n              ]}\r\n            />\r\n          </Box>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\n\r\nexport default RegulationHeader;\r\n","import React, {useEffect, useState} from 'react';\r\nimport { DataView } from '@aragon/ui';\r\n\r\nimport {getAllRegulations} from '../../utils/infura';\r\nimport {ESD, ESDS} from \"../../constants/tokens\";\r\nimport {formatBN, toTokenUnitsBN} from \"../../utils/number\";\r\nimport BigNumber from \"bignumber.js\";\r\n\r\ntype RegulationHistoryProps = {\r\n  user: string,\r\n};\r\n\r\ntype Regulation = {\r\n  type: string,\r\n  data: RegulationEntry\r\n}\r\n\r\ntype RegulationEntry = {\r\n  epoch: string;\r\n  price: string;\r\n  deltaRedeemable: string;\r\n  deltaDebt: string;\r\n  deltaBonded: string;\r\n}\r\n\r\nfunction formatPrice(type, data) {\r\n  return type === 'NEUTRAL' ? '1.00' : formatBN(toTokenUnitsBN(new BigNumber(data.price), ESD.decimals), 3);\r\n}\r\n\r\nfunction formatDeltaRedeemable(type, data) {\r\n  return type === 'INCREASE' ?\r\n    '+' + formatBN(toTokenUnitsBN(new BigNumber(data.newRedeemable), ESD.decimals), 2) :\r\n    '+0.00';\r\n}\r\n\r\nfunction formatDeltaDebt(type, data) {\r\n  return type === 'INCREASE' ?\r\n    '-' + formatBN(toTokenUnitsBN(new BigNumber(data.lessDebt), ESD.decimals), 2) :\r\n    type === 'DECREASE' ?\r\n      '+' + formatBN(toTokenUnitsBN(new BigNumber(data.newDebt), ESD.decimals), 2) :\r\n      '+0.00';\r\n}\r\n\r\nfunction formatDeltaBonded(type, data) {\r\n  return type === 'INCREASE' ?\r\n    '+' + formatBN(toTokenUnitsBN(new BigNumber(data.newBonded), ESD.decimals), 2) :\r\n    '+0.00';\r\n}\r\n\r\nfunction renderEntry({ type, data }: Regulation): string[] {\r\n  return [\r\n    data.epoch.toString(),\r\n    formatPrice(type, data),\r\n    formatDeltaRedeemable(type, data),\r\n    formatDeltaDebt(type, data),\r\n    formatDeltaBonded(type, data),\r\n  ]\r\n}\r\n\r\nfunction RegulationHistory({\r\n  user,\r\n}: RegulationHistoryProps) {\r\n  const [regulations, setRegulations] = useState<Regulation[]>([]);\r\n  const [page, setPage] = useState(0)\r\n  const [initialized, setInitialized] = useState(false)\r\n\r\n  //Update User balances\r\n  useEffect(() => {\r\n    let isCancelled = false;\r\n\r\n    async function updateUserInfo() {\r\n      const [allRegulations] = await Promise.all([\r\n        getAllRegulations(ESDS.addr),\r\n      ]);\r\n\r\n      if (!isCancelled) {\r\n        setRegulations(allRegulations);\r\n        setInitialized(true);\r\n      }\r\n    }\r\n\r\n    updateUserInfo();\r\n    const id = setInterval(updateUserInfo, 15000);\r\n\r\n    // eslint-disable-next-line consistent-return\r\n    return () => {\r\n      isCancelled = true;\r\n      clearInterval(id);\r\n    };\r\n  }, [user]);\r\n\r\n  return (\r\n    <DataView\r\n      fields={['Epoch', 'Price', 'Δ Redeemable', 'Δ Debt', 'Δ Bonded']}\r\n      status={ initialized ? 'default' : 'loading' }\r\n      entries={regulations}\r\n      entriesPerPage={10}\r\n      page={page}\r\n      onPageChange={setPage}\r\n      renderEntry={renderEntry}\r\n    />\r\n  );\r\n}\r\n\r\nexport default RegulationHistory;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Header } from '@aragon/ui';\r\n\r\nimport {\r\n  getCouponPremium,\r\n  getPoolTotalClaimable, getPoolTotalRewarded, getTokenBalance,\r\n  getTokenTotalSupply, getTotalBonded, getTotalCoupons, getTotalDebt, getTotalRedeemable, getTotalStaged,\r\n} from '../../utils/infura';\r\nimport {ESD, ESDS, UNI} from \"../../constants/tokens\";\r\nimport {toTokenUnitsBN} from \"../../utils/number\";\r\nimport BigNumber from \"bignumber.js\";\r\nimport RegulationHeader from \"./Header\";\r\nimport RegulationHistory from \"./RegulationHistory\";\r\nimport IconHeader from \"../common/IconHeader\";\r\nimport {getLegacyPoolAddress, getPoolAddress} from \"../../utils/pool\";\r\n\r\nconst ONE_COUPON = new BigNumber(10).pow(18);\r\n\r\nfunction Regulation({ user }: {user: string}) {\r\n\r\n  const [totalSupply, setTotalSupply] = useState(new BigNumber(0));\r\n  const [totalBonded, setTotalBonded] = useState(new BigNumber(0));\r\n  const [totalStaged, setTotalStaged] = useState(new BigNumber(0));\r\n  const [totalRedeemable, setTotalRedeemable] = useState(new BigNumber(0));\r\n  const [poolLiquidity, setPoolLiquidity] = useState(new BigNumber(0));\r\n  const [poolTotalRewarded, setPoolTotalRewarded] = useState(new BigNumber(0));\r\n  const [poolTotalClaimable, setPoolTotalClaimable] = useState(new BigNumber(0));\r\n  const [legacyPoolTotalRewarded, setLegacyPoolTotalRewarded] = useState(new BigNumber(0));\r\n  const [legacyPoolTotalClaimable, setLegacyPoolTotalClaimable] = useState(new BigNumber(0));\r\n  const [totalDebt, setTotalDebt] = useState(new BigNumber(0));\r\n  const [totalCoupons, setTotalCoupons] = useState(new BigNumber(0));\r\n  const [couponPremium, setCouponPremium] = useState(new BigNumber(0));\r\n\r\n  useEffect(() => {\r\n    let isCancelled = false;\r\n\r\n    async function updateUserInfo() {\r\n      const poolAddress = await getPoolAddress();\r\n      const legacyPoolAddress = getLegacyPoolAddress(poolAddress);\r\n\r\n      const [\r\n        totalSupplyStr,\r\n        totalBondedStr, totalStagedStr, totalRedeemableStr,\r\n        poolLiquidityStr, poolTotalRewardedStr, poolTotalClaimableStr,\r\n        legacyPoolTotalRewardedStr, legacyPoolTotalClaimableStr,\r\n        totalDebtStr, totalCouponsStr\r\n      ] = await Promise.all([\r\n        getTokenTotalSupply(ESD.addr),\r\n\r\n        getTotalBonded(ESDS.addr),\r\n        getTotalStaged(ESDS.addr),\r\n        getTotalRedeemable(ESDS.addr),\r\n\r\n        getTokenBalance(ESD.addr, UNI.addr),\r\n        getPoolTotalRewarded(poolAddress),\r\n        getPoolTotalClaimable(poolAddress),\r\n\r\n        getPoolTotalRewarded(legacyPoolAddress),\r\n        getPoolTotalClaimable(legacyPoolAddress),\r\n\r\n        getTotalDebt(ESDS.addr),\r\n        getTotalCoupons(ESDS.addr),\r\n      ]);\r\n\r\n      if (!isCancelled) {\r\n        setTotalSupply(toTokenUnitsBN(totalSupplyStr, ESD.decimals));\r\n\r\n        setTotalBonded(toTokenUnitsBN(totalBondedStr, ESD.decimals));\r\n        setTotalStaged(toTokenUnitsBN(totalStagedStr, ESD.decimals));\r\n        setTotalRedeemable(toTokenUnitsBN(totalRedeemableStr, ESD.decimals));\r\n\r\n        setPoolLiquidity(toTokenUnitsBN(poolLiquidityStr, ESD.decimals));\r\n        setPoolTotalRewarded(toTokenUnitsBN(poolTotalRewardedStr, ESD.decimals));\r\n        setPoolTotalClaimable(toTokenUnitsBN(poolTotalClaimableStr, ESD.decimals));\r\n\r\n        setLegacyPoolTotalRewarded(toTokenUnitsBN(legacyPoolTotalRewardedStr, ESD.decimals));\r\n        setLegacyPoolTotalClaimable(toTokenUnitsBN(legacyPoolTotalClaimableStr, ESD.decimals));\r\n\r\n        setTotalDebt(toTokenUnitsBN(totalDebtStr, ESD.decimals));\r\n        setTotalCoupons(toTokenUnitsBN(totalCouponsStr, ESD.decimals));\r\n\r\n        if (new BigNumber(totalDebtStr).isGreaterThan(ONE_COUPON)) {\r\n          const couponPremiumStr = await getCouponPremium(ESDS.addr, ONE_COUPON)\r\n          setCouponPremium(toTokenUnitsBN(couponPremiumStr, ESD.decimals));\r\n        } else {\r\n          setCouponPremium(new BigNumber(0));\r\n        }\r\n      }\r\n    }\r\n    updateUserInfo();\r\n    const id = setInterval(updateUserInfo, 15000);\r\n\r\n    // eslint-disable-next-line consistent-return\r\n    return () => {\r\n      isCancelled = true;\r\n      clearInterval(id);\r\n    };\r\n  }, [user]);\r\n\r\n  return (\r\n    <>\r\n      <IconHeader icon={<i className=\"fas fa-chart-area\"/>} text=\"Supply Regulation\"/>\r\n\r\n      <RegulationHeader\r\n        totalSupply={totalSupply}\r\n\r\n        totalBonded={totalBonded}\r\n        totalStaged={totalStaged}\r\n        totalRedeemable={totalRedeemable}\r\n\r\n        poolLiquidity={poolLiquidity}\r\n        poolRewarded={poolTotalRewarded}\r\n        poolClaimable={poolTotalClaimable}\r\n\r\n        legacyPoolRewarded={legacyPoolTotalRewarded}\r\n        legacyPoolClaimable={legacyPoolTotalClaimable}\r\n\r\n        totalDebt={totalDebt}\r\n        totalCoupons={totalCoupons}\r\n        couponPremium={couponPremium}\r\n      />\r\n\r\n      <Header primary=\"Regulation History\" />\r\n\r\n      <RegulationHistory\r\n        user={user}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Regulation;\r\n","import React, { useState } from 'react';\r\nimport {\r\n  Box, Button, IconCirclePlus, IconCircleMinus, IconLock\r\n} from '@aragon/ui';\r\nimport BigNumber from 'bignumber.js';\r\nimport {\r\n  BalanceBlock, MaxButton,\r\n} from '../common/index';\r\nimport {approve, depositPool, withdrawPool} from '../../utils/web3';\r\nimport {isPos, toBaseUnitBN} from '../../utils/number';\r\nimport {UNI} from \"../../constants/tokens\";\r\nimport {MAX_UINT256} from \"../../constants/values\";\r\nimport BigNumberInput from \"../common/BigNumberInput\";\r\n\r\ntype WithdrawDepositProps = {\r\n  poolAddress: string\r\n  user: string\r\n  balance: BigNumber,\r\n  allowance: BigNumber,\r\n  stagedBalance: BigNumber,\r\n  status: number\r\n};\r\n\r\nfunction WithdrawDeposit({\r\n  poolAddress, user, balance, allowance, stagedBalance, status\r\n}: WithdrawDepositProps) {\r\n  const [depositAmount, setDepositAmount] = useState(new BigNumber(0));\r\n  const [withdrawAmount, setWithdrawAmount] = useState(new BigNumber(0));\r\n\r\n  return (\r\n    <Box heading=\"Stage\">\r\n      {allowance.comparedTo(MAX_UINT256) === 0 ?\r\n        <div style={{display: 'flex', flexWrap: 'wrap'}}>\r\n          {/* total Issued */}\r\n          <div style={{flexBasis: '32%'}}>\r\n            <BalanceBlock asset=\"Staged\" balance={stagedBalance} suffix={\"UNI-V2\"}/>\r\n          </div>\r\n          {/* Deposit UNI-V2 into Pool */}\r\n          <div style={{flexBasis: '33%', paddingTop: '2%'}}>\r\n            <div style={{display: 'flex'}}>\r\n              <div style={{width: '60%', minWidth: '6em'}}>\r\n                <>\r\n                  <BigNumberInput\r\n                    adornment=\"UNI-V2\"\r\n                    value={depositAmount}\r\n                    setter={setDepositAmount}\r\n                    disabled={status !== 0}\r\n                  />\r\n                  <MaxButton\r\n                    onClick={() => {\r\n                      setDepositAmount(balance);\r\n                    }}\r\n                  />\r\n                </>\r\n              </div>\r\n              <div style={{width: '40%', minWidth: '7em'}}>\r\n                <Button\r\n                  wide\r\n                  icon={status === 0 ? <IconCirclePlus/> : <IconLock/>}\r\n                  label=\"Deposit\"\r\n                  onClick={() => {\r\n                    depositPool(\r\n                      poolAddress,\r\n                      toBaseUnitBN(depositAmount, UNI.decimals),\r\n                      (hash) => setDepositAmount(new BigNumber(0))\r\n                    );\r\n                  }}\r\n                  disabled={poolAddress === '' || status !== 0 || !isPos(depositAmount)}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div style={{flexBasis: '2%'}}/>\r\n          {/* Withdraw Døllar from DAO */}\r\n          <div style={{flexBasis: '33%', paddingTop: '2%'}}>\r\n            <div style={{display: 'flex'}}>\r\n              <div style={{width: '60%', minWidth: '6em'}}>\r\n                <>\r\n                  <BigNumberInput\r\n                    adornment=\"UNI-V2\"\r\n                    value={withdrawAmount}\r\n                    setter={setWithdrawAmount}\r\n                    disabled={status !== 0}\r\n                  />\r\n                  <MaxButton\r\n                    onClick={() => {\r\n                      setWithdrawAmount(stagedBalance);\r\n                    }}\r\n                  />\r\n                </>\r\n              </div>\r\n              <div style={{width: '40%', minWidth: '7em'}}>\r\n                <Button\r\n                  wide\r\n                  icon={status === 0 ? <IconCircleMinus/> : <IconLock/>}\r\n                  label=\"Withdraw\"\r\n                  onClick={() => {\r\n                    withdrawPool(\r\n                      poolAddress,\r\n                      toBaseUnitBN(withdrawAmount, UNI.decimals),\r\n                      (hash) => setWithdrawAmount(new BigNumber(0))\r\n                    );\r\n                  }}\r\n                  disabled={poolAddress === '' || status !== 0 || !isPos(withdrawAmount)}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        :\r\n        <div style={{display: 'flex', flexWrap: 'wrap'}}>\r\n          {/* total Issued */}\r\n          <div style={{flexBasis: '32%'}}>\r\n            <BalanceBlock asset=\"Staged\" balance={stagedBalance} suffix={\"UNI-V2\"}/>\r\n          </div>\r\n          <div style={{flexBasis: '35%'}}/>\r\n          {/* Approve Pool to spend UNI-V2 */}\r\n          <div style={{flexBasis: '33%', paddingTop: '2%'}}>\r\n            <Button\r\n              wide\r\n              icon={<IconCirclePlus />}\r\n              label=\"Approve\"\r\n              onClick={() => {\r\n                approve(UNI.addr, poolAddress);\r\n              }}\r\n              disabled={poolAddress === '' || user === ''}\r\n            />\r\n          </div>\r\n        </div>\r\n      }\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default WithdrawDeposit;\r\n","import React, { useState } from 'react';\r\nimport {\r\n  Box, Button, IconCirclePlus, IconCircleMinus, IconCaution\r\n} from '@aragon/ui';\r\nimport BigNumber from 'bignumber.js';\r\nimport {\r\n  BalanceBlock, MaxButton,\r\n} from '../common/index';\r\nimport {bondPool, unbondPool} from '../../utils/web3';\r\nimport {isPos, toBaseUnitBN} from '../../utils/number';\r\nimport {UNI} from \"../../constants/tokens\";\r\nimport BigNumberInput from \"../common/BigNumberInput\";\r\nimport TextBlock from \"../common/TextBlock\";\r\n\r\ntype BondUnbondProps = {\r\n  poolAddress: string,\r\n  staged: BigNumber,\r\n  bonded: BigNumber,\r\n  status: number,\r\n  lockup: number,\r\n};\r\n\r\nfunction BondUnbond({\r\n  poolAddress, staged, bonded, status, lockup\r\n}: BondUnbondProps) {\r\n  const [bondAmount, setBondAmount] = useState(new BigNumber(0));\r\n  const [unbondAmount, setUnbondAmount] = useState(new BigNumber(0));\r\n\r\n  return (\r\n    <Box heading=\"Bond\">\r\n      <div style={{display: 'flex', flexWrap: 'wrap'}}>\r\n        {/* Total bonded */}\r\n        <div style={{flexBasis: '16%'}}>\r\n          <BalanceBlock asset=\"Bonded\" balance={bonded} suffix={\"UNI-V2\"} />\r\n        </div>\r\n        {/* Exit lockup */}\r\n        <div style={{flexBasis: '16%'}}>\r\n          <TextBlock label=\"Exit Lockup\" text={lockup === 0 ? \"\" : lockup === 1 ? \"1 epoch\" : `${lockup} epochs`}/>\r\n        </div>\r\n        {/* Bond UNI-V2 within Pool */}\r\n        <div style={{flexBasis: '33%', paddingTop: '2%'}}>\r\n          <div style={{display: 'flex'}}>\r\n            <div style={{width: '60%', minWidth: '6em'}}>\r\n              <>\r\n                <BigNumberInput\r\n                  adornment=\"UNI-V2\"\r\n                  value={bondAmount}\r\n                  setter={setBondAmount}\r\n                />\r\n                <MaxButton\r\n                  onClick={() => {\r\n                    setBondAmount(staged);\r\n                  }}\r\n                />\r\n              </>\r\n            </div>\r\n            <div style={{width: '40%', minWidth: '7em'}}>\r\n              <Button\r\n                wide\r\n                icon={status === 0 ? <IconCirclePlus/> : <IconCaution/>}\r\n                label=\"Bond\"\r\n                onClick={() => {\r\n                  bondPool(\r\n                    poolAddress,\r\n                    toBaseUnitBN(bondAmount, UNI.decimals),\r\n                    (hash) => setBondAmount(new BigNumber(0))\r\n                  );\r\n                }}\r\n                disabled={poolAddress === '' || !isPos(bondAmount)}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div style={{flexBasis: '2%'}}/>\r\n        {/* Unbond UNI-V2 within Pool */}\r\n        <div style={{flexBasis: '33%', paddingTop: '2%'}}>\r\n          <div style={{display: 'flex'}}>\r\n            <div style={{width: '60%', minWidth: '6em'}}>\r\n              <>\r\n                <BigNumberInput\r\n                  adornment=\"UNI-V2\"\r\n                  value={unbondAmount}\r\n                  setter={setUnbondAmount}\r\n                />\r\n                <MaxButton\r\n                  onClick={() => {\r\n                    setUnbondAmount(bonded);\r\n                  }}\r\n                />\r\n              </>\r\n            </div>\r\n            <div style={{width: '40%', minWidth: '7em'}}>\r\n              <Button\r\n                wide\r\n                icon={status === 0 ? <IconCircleMinus/> : <IconCaution/>}\r\n                label=\"Unbond\"\r\n                onClick={() => {\r\n                  unbondPool(\r\n                    poolAddress,\r\n                    toBaseUnitBN(unbondAmount, UNI.decimals),\r\n                    (hash) => setUnbondAmount(new BigNumber(0))\r\n                  );\r\n                }}\r\n                disabled={poolAddress === '' || !isPos(unbondAmount)}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div style={{width: '100%', paddingTop: '2%', textAlign: 'center'}}>\r\n        <span style={{ opacity: 0.5 }}> Bonding events will restart the lockup timer </span>\r\n      </div>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default BondUnbond;\r\n","import React from 'react';\r\nimport BigNumber from 'bignumber.js';\r\n\r\nimport { BalanceBlock } from '../common/index';\r\nimport TextBlock from \"../common/TextBlock\";\r\nimport {ownership} from \"../../utils/number\";\r\n\r\ntype PoolPageHeaderProps = {\r\n  accountUNIBalance: BigNumber,\r\n  accountBondedBalance: BigNumber,\r\n  accountRewardedESDBalance: BigNumber,\r\n  accountClaimableESDBalance: BigNumber,\r\n  poolTotalBonded: BigNumber,\r\n  accountPoolStatus: number,\r\n  unlocked: number,\r\n};\r\n\r\nconst STATUS_MAP = [\"Unlocked\", \"Locked\"];\r\n\r\nfunction status(accountStatus, unlocked) {\r\n  return STATUS_MAP[accountStatus] + (accountStatus === 0 ? \"\" : \" until \" + unlocked)\r\n}\r\n\r\nconst PoolPageHeader = ({\r\n  accountUNIBalance, accountBondedBalance, accountRewardedESDBalance, accountClaimableESDBalance, poolTotalBonded, accountPoolStatus, unlocked\r\n}: PoolPageHeaderProps) => (\r\n  <div style={{ padding: '2%', display: 'flex', flexWrap: 'wrap', alignItems: 'center' }}>\r\n    <div style={{ flexBasis: '20%' }}>\r\n      <BalanceBlock asset=\"Balance\" balance={accountUNIBalance}  suffix={\" UNI-V2\"}/>\r\n    </div>\r\n    <div style={{ flexBasis: '20%' }}>\r\n      <BalanceBlock asset=\"Rewarded\" balance={accountRewardedESDBalance} suffix={\" ESD\"} />\r\n    </div>\r\n    <div style={{ flexBasis: '20%' }}>\r\n      <BalanceBlock asset=\"Claimable\" balance={accountClaimableESDBalance} suffix={\" ESD\"} />\r\n    </div>\r\n    <div style={{ flexBasis: '20%' }}>\r\n      <BalanceBlock asset=\"Pool Ownership\" balance={ownership(accountBondedBalance, poolTotalBonded)}  suffix={\"%\"}/>\r\n    </div>\r\n    <div style={{ flexBasis: '20%' }}>\r\n      <TextBlock label=\"Pool Status\" text={status(accountPoolStatus, unlocked)}/>\r\n    </div>\r\n  </div>\r\n);\r\n\r\n\r\nexport default PoolPageHeader;\r\n","import React, { useState } from 'react';\r\nimport {\r\n  Box, Button, IconArrowDown\r\n} from '@aragon/ui';\r\nimport BigNumber from 'bignumber.js';\r\nimport {\r\n  BalanceBlock, MaxButton,\r\n} from '../common/index';\r\nimport {claimPool} from '../../utils/web3';\r\nimport {isPos, toBaseUnitBN} from '../../utils/number';\r\nimport {ESD} from \"../../constants/tokens\";\r\nimport BigNumberInput from \"../common/BigNumberInput\";\r\n\r\ntype ClaimProps = {\r\n  poolAddress: string\r\n  claimable: BigNumber,\r\n  status: number\r\n};\r\n\r\nfunction Claim({\r\n  poolAddress, claimable, status\r\n}: ClaimProps) {\r\n  const [claimAmount, setClaimAmount] = useState(new BigNumber(0));\r\n\r\n  return (\r\n    <Box heading=\"Claim\">\r\n      <div style={{display: 'flex', flexWrap: 'wrap'}}>\r\n        {/* total Issued */}\r\n        <div style={{flexBasis: '32%'}}>\r\n          <BalanceBlock asset=\"Claimable\" balance={claimable} suffix={\"ESD\"} />\r\n        </div>\r\n        {/* Deposit UNI-V2 into Pool */}\r\n        <div style={{flexBasis: '35%'}}/>\r\n        <div style={{flexBasis: '33%', paddingTop: '2%'}}>\r\n          <div style={{display: 'flex'}}>\r\n            <div style={{width: '60%', minWidth: '6em'}}>\r\n              <>\r\n                <BigNumberInput\r\n                  adornment=\"ESD\"\r\n                  value={claimAmount}\r\n                  setter={setClaimAmount}\r\n                  disabled={status !== 0}\r\n                />\r\n                <MaxButton\r\n                  onClick={() => {\r\n                    setClaimAmount(claimable);\r\n                  }}\r\n                />\r\n              </>\r\n            </div>\r\n            <div style={{width: '40%', minWidth: '6em'}}>\r\n              <Button\r\n                wide\r\n                icon={<IconArrowDown/>}\r\n                label=\"Claim\"\r\n                onClick={() => {\r\n                  claimPool(\r\n                    poolAddress,\r\n                    toBaseUnitBN(claimAmount, ESD.decimals),\r\n                    (hash) => setClaimAmount(new BigNumber(0))\r\n                  );\r\n                }}\r\n                disabled={poolAddress === '' || status !== 0 || !isPos(claimAmount)}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div style={{width: '100%', paddingTop: '2%', textAlign: 'center'}}>\r\n        <span style={{ opacity: 0.5 }}> Unbond to make rewards claimable after your status is Unlocked </span>\r\n      </div>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default Claim;\r\n","import React, { useState } from 'react';\r\nimport {\r\n  Box, Button, IconArrowUp, IconCirclePlus\r\n} from '@aragon/ui';\r\nimport BigNumber from 'bignumber.js';\r\nimport {\r\n  BalanceBlock, MaxButton, PriceSection,\r\n} from '../common/index';\r\nimport {approve, providePool} from '../../utils/web3';\r\nimport {isPos, toBaseUnitBN, toTokenUnitsBN} from '../../utils/number';\r\nimport {ESD, USDC} from \"../../constants/tokens\";\r\nimport {MAX_UINT256} from \"../../constants/values\";\r\nimport BigNumberInput from \"../common/BigNumberInput\";\r\n\r\ntype ProvideProps = {\r\n  poolAddress: string,\r\n  user: string,\r\n  rewarded: BigNumber,\r\n  pairBalanceESD: BigNumber,\r\n  pairBalanceUSDC: BigNumber,\r\n  userUSDCBalance: BigNumber,\r\n  userUSDCAllowance: BigNumber,\r\n  status: number,\r\n};\r\n\r\nfunction Provide({\r\n  poolAddress, user, rewarded, pairBalanceESD, pairBalanceUSDC, userUSDCBalance, userUSDCAllowance, status\r\n}: ProvideProps) {\r\n  const [provideAmount, setProvideAmount] = useState(new BigNumber(0));\r\n  const [usdcAmount, setUsdcAmount] = useState(new BigNumber(0));\r\n\r\n  const USDCToESDRatio = pairBalanceUSDC.isZero() ? new BigNumber(1) : pairBalanceUSDC.div(pairBalanceESD);\r\n\r\n  const onChangeAmountESD = (amountESD) => {\r\n    if (!amountESD) {\r\n      setProvideAmount(new BigNumber(0));\r\n      setUsdcAmount(new BigNumber(0));\r\n      return;\r\n    }\r\n\r\n    const amountESDBN = new BigNumber(amountESD)\r\n    setProvideAmount(amountESDBN);\r\n\r\n    const amountESDBU = toBaseUnitBN(amountESDBN, ESD.decimals);\r\n    const newAmountUSDC = toTokenUnitsBN(\r\n      amountESDBU.multipliedBy(USDCToESDRatio).integerValue(BigNumber.ROUND_FLOOR),\r\n      ESD.decimals);\r\n    setUsdcAmount(newAmountUSDC);\r\n  };\r\n\r\n  return (\r\n    <Box heading=\"Provide\">\r\n      {userUSDCAllowance.comparedTo(MAX_UINT256.dividedBy(2)) > 0 ?\r\n        <div style={{display: 'flex', flexWrap: 'wrap'}}>\r\n          {/* total rewarded */}\r\n          <div style={{flexBasis: '32%'}}>\r\n            <BalanceBlock asset=\"Rewarded\" balance={rewarded} suffix={\"ESD\"} />\r\n          </div>\r\n          <div style={{flexBasis: '33%'}}>\r\n            <BalanceBlock asset=\"USDC Balance\" balance={userUSDCBalance} suffix={\"USDC\"} />\r\n          </div>\r\n          <div style={{flexBasis: '2%'}}/>\r\n          {/* Provide liquidity using Pool rewards */}\r\n          <div style={{flexBasis: '33%', paddingTop: '2%'}}>\r\n            <div style={{display: 'flex'}}>\r\n              <div style={{width: '60%', minWidth: '6em'}}>\r\n                <>\r\n                  <BigNumberInput\r\n                    adornment=\"ESD\"\r\n                    value={provideAmount}\r\n                    setter={onChangeAmountESD}\r\n                    disabled={status === 1}\r\n                  />\r\n                  <PriceSection label=\"Requires \" amt={usdcAmount} symbol=\" USDC\"/>\r\n                  <MaxButton\r\n                    onClick={() => {\r\n                      onChangeAmountESD(rewarded);\r\n                    }}\r\n                  />\r\n                </>\r\n              </div>\r\n              <div style={{width: '40%', minWidth: '6em'}}>\r\n                <Button\r\n                  wide\r\n                  icon={<IconArrowUp/>}\r\n                  label=\"Provide\"\r\n                  onClick={() => {\r\n                    providePool(\r\n                      poolAddress,\r\n                      toBaseUnitBN(provideAmount, ESD.decimals),\r\n                      (hash) => setProvideAmount(new BigNumber(0))\r\n                    );\r\n                  }}\r\n                  disabled={poolAddress === '' || status !== 0 || !isPos(provideAmount) || usdcAmount.isGreaterThan(userUSDCBalance)}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        :\r\n        <div style={{display: 'flex', flexWrap: 'wrap'}}>\r\n          {/* total rewarded */}\r\n          <div style={{flexBasis: '32%'}}>\r\n            <BalanceBlock asset=\"Rewarded\" balance={rewarded} suffix={\"ESD\"} />\r\n          </div>\r\n          <div style={{flexBasis: '33%'}}>\r\n            <BalanceBlock asset=\"USDC Balance\" balance={userUSDCBalance} suffix={\"USDC\"} />\r\n          </div>\r\n          <div style={{flexBasis: '2%'}}/>\r\n          {/* Approve Pool to spend USDC */}\r\n          <div style={{flexBasis: '33%', paddingTop: '2%'}}>\r\n            <Button\r\n              wide\r\n              icon={<IconCirclePlus/>}\r\n              label=\"Approve\"\r\n              onClick={() => {\r\n                approve(USDC.addr, poolAddress);\r\n              }}\r\n              disabled={poolAddress === '' || user === ''}\r\n            />\r\n          </div>\r\n        </div>\r\n      }\r\n      <div style={{width: '100%', paddingTop: '2%', textAlign: 'center'}}>\r\n        <span style={{ opacity: 0.5 }}> Zap your rewards directly to LP by providing more USDC </span>\r\n      </div>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default Provide;\r\n","import React, { useState } from 'react';\r\nimport {\r\n  Box, Button, IconArrowDown, IconCircleMinus,\r\n} from '@aragon/ui';\r\nimport BigNumber from 'bignumber.js';\r\nimport {\r\n  BalanceBlock,\r\n} from '../common/index';\r\nimport {claimPool, unbondPool, withdrawPool} from '../../utils/web3';\r\nimport {isPos, toBaseUnitBN} from '../../utils/number';\r\nimport {ESD, UNI} from \"../../constants/tokens\";\r\n\r\ntype MigrateProps = {\r\n  legacyPoolAddress: string,\r\n  staged: BigNumber,\r\n  claimable: BigNumber,\r\n  bonded: BigNumber,\r\n  status: number,\r\n  isRewardNegative: boolean,\r\n};\r\n\r\nfunction Migrate({\r\n  legacyPoolAddress, staged, claimable, bonded, status, isRewardNegative\r\n}: MigrateProps) {\r\n  const [unbonded, setUnbonded] = useState(false);\r\n  const [withdrawn, setWithdrawn] = useState(false);\r\n  const [claimed, setClaimed] = useState(false);\r\n\r\n  return (\r\n    <Box heading=\"Migrate\">\r\n      <div style={{display: 'flex', flexWrap: 'wrap'}}>\r\n        {/* Unbond UNI-V2 within Pool */}\r\n        <div style={{flexBasis: '32%', paddingTop: '2%'}}>\r\n          <div style={{display: 'flex'}}>\r\n            <div style={{width: '60%'}}>\r\n              <BalanceBlock asset=\"Bonded\" balance={bonded} suffix={\"UNI-V2\"} />\r\n              <Button\r\n                wide\r\n                icon={<IconCircleMinus/>}\r\n                label=\"Unbond\"\r\n                onClick={() => {\r\n                  unbondPool(\r\n                    legacyPoolAddress,\r\n                    toBaseUnitBN(bonded, UNI.decimals),\r\n                    (hash) => setUnbonded(hash.length > 0)\r\n                  );\r\n                }}\r\n                disabled={legacyPoolAddress === '' || !isPos(bonded) || unbonded || isRewardNegative}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {/* Withdraw UNI-V2 within Pool */}\r\n        <div style={{flexBasis: '32%', paddingTop: '2%'}}>\r\n          <div style={{display: 'flex'}}>\r\n            <div style={{width: '60%'}}>\r\n              <BalanceBlock asset=\"Staged\" balance={staged} suffix={\"UNI-V2\"} />\r\n              <Button\r\n                wide\r\n                icon={<IconCircleMinus/>}\r\n                label=\"Withdraw\"\r\n                onClick={() => {\r\n                  withdrawPool(\r\n                    legacyPoolAddress,\r\n                    toBaseUnitBN(staged, UNI.decimals),\r\n                    (hash) => setWithdrawn(hash.length > 0)\r\n                  );\r\n                }}\r\n                disabled={legacyPoolAddress === '' || !isPos(staged) || withdrawn || status !== 0}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {/* Claim ESD within Pool */}\r\n        <div style={{flexBasis: '32%', paddingTop: '2%'}}>\r\n          <div style={{display: 'flex'}}>\r\n            <div style={{width: '60%'}}>\r\n              <BalanceBlock asset=\"Claimable\" balance={claimable} suffix={\"ESD\"} />\r\n              <Button\r\n                wide\r\n                icon={<IconArrowDown/>}\r\n                label=\"Claim\"\r\n                onClick={() => {\r\n                  claimPool(\r\n                    legacyPoolAddress,\r\n                    toBaseUnitBN(claimable, ESD.decimals),\r\n                    (hash) => setClaimed(hash.length > 0)\r\n                  );\r\n                }}\r\n                disabled={legacyPoolAddress === '' || !isPos(claimable) || claimed || status !== 0}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default Migrate;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nimport BigNumber from 'bignumber.js';\r\nimport {\r\n  getPoolBalanceOfBonded, getPoolBalanceOfClaimable,\r\n  getPoolBalanceOfRewarded,\r\n  getPoolBalanceOfStaged,\r\n  getPoolStatusOf, getPoolTotalBonded,\r\n  getTokenAllowance,\r\n  getTokenBalance,\r\n  getPoolFluidUntil\r\n} from '../../utils/infura';\r\nimport {ESD, UNI, USDC} from \"../../constants/tokens\";\r\nimport {POOL_EXIT_LOCKUP_EPOCHS} from \"../../constants/values\";\r\nimport { toTokenUnitsBN } from '../../utils/number';\r\nimport { Header } from '@aragon/ui';\r\n\r\nimport WithdrawDeposit from \"./WithdrawDeposit\";\r\nimport BondUnbond from \"./BondUnbond\";\r\nimport PoolPageHeader from \"./Header\";\r\nimport Claim from \"./Claim\";\r\nimport Provide from \"./Provide\";\r\nimport IconHeader from \"../common/IconHeader\";\r\nimport Migrate from \"./Migrate\";\r\nimport {getLegacyPoolAddress, getPoolAddress} from \"../../utils/pool\";\r\nimport {DollarPool4} from \"../../constants/contracts\";\r\n\r\n\r\n\r\nfunction Pool({ user }: {user: string}) {\r\n  const { override } = useParams();\r\n  if (override) {\r\n    user = override;\r\n  }\r\n\r\n  const [poolAddress, setPoolAddress] = useState(\"\");\r\n  const [poolTotalBonded, setPoolTotalBonded] = useState(new BigNumber(0));\r\n  const [pairBalanceESD, setPairBalanceESD] = useState(new BigNumber(0));\r\n  const [pairBalanceUSDC, setPairBalanceUSDC] = useState(new BigNumber(0));\r\n  const [userUNIBalance, setUserUNIBalance] = useState(new BigNumber(0));\r\n  const [userUNIAllowance, setUserUNIAllowance] = useState(new BigNumber(0));\r\n  const [userUSDCBalance, setUserUSDCBalance] = useState(new BigNumber(0));\r\n  const [userUSDCAllowance, setUserUSDCAllowance] = useState(new BigNumber(0));\r\n  const [userStagedBalance, setUserStagedBalance] = useState(new BigNumber(0));\r\n  const [userBondedBalance, setUserBondedBalance] = useState(new BigNumber(0));\r\n  const [userRewardedBalance, setUserRewardedBalance] = useState(new BigNumber(0));\r\n  const [userClaimableBalance, setUserClaimableBalance] = useState(new BigNumber(0));\r\n  const [userStatus, setUserStatus] = useState(0);\r\n  const [userStatusUnlocked, setUserStatusUnlocked] = useState(0);\r\n  const [legacyUserStagedBalance, setLegacyUserStagedBalance] = useState(new BigNumber(0));\r\n  const [legacyUserBondedBalance, setLegacyUserBondedBalance] = useState(new BigNumber(0));\r\n  const [legacyUserRewardedBalance, setLegacyUserRewardedBalance] = useState(new BigNumber(0));\r\n  const [legacyUserClaimableBalance, setLegacyUserClaimableBalance] = useState(new BigNumber(0));\r\n  const [legacyUserStatus, setLegacyUserStatus] = useState(0);\r\n  const [lockup, setLockup] = useState(0);\r\n\r\n  //Update User balances\r\n  useEffect(() => {\r\n    if (user === '') {\r\n      setPoolAddress(\"\");\r\n      setPoolTotalBonded(new BigNumber(0));\r\n      setPairBalanceESD(new BigNumber(0));\r\n      setPairBalanceUSDC(new BigNumber(0));\r\n      setUserUNIBalance(new BigNumber(0));\r\n      setUserUNIAllowance(new BigNumber(0));\r\n      setUserUSDCBalance(new BigNumber(0));\r\n      setUserUSDCAllowance(new BigNumber(0));\r\n      setUserStagedBalance(new BigNumber(0));\r\n      setUserBondedBalance(new BigNumber(0));\r\n      setUserRewardedBalance(new BigNumber(0));\r\n      setUserClaimableBalance(new BigNumber(0));\r\n      setUserStatus(0);\r\n      setUserStatusUnlocked(0);\r\n      setLegacyUserStagedBalance(new BigNumber(0));\r\n      setLegacyUserBondedBalance(new BigNumber(0));\r\n      setLegacyUserRewardedBalance(new BigNumber(0));\r\n      setLegacyUserClaimableBalance(new BigNumber(0));\r\n      setLegacyUserStatus(0);\r\n      return;\r\n    }\r\n    let isCancelled = false;\r\n\r\n    async function updateUserInfo() {\r\n      const poolAddressStr = await getPoolAddress();\r\n      const legacyPoolAddress = getLegacyPoolAddress(poolAddressStr);\r\n\r\n      const [\r\n        poolTotalBondedStr, pairBalanceESDStr, pairBalanceUSDCStr, balance, usdcBalance,\r\n        allowance, usdcAllowance, stagedBalance, bondedBalance,\r\n        rewardedBalance, claimableBalance, status, fluidUntilStr,\r\n        legacyStagedBalance, legacyBondedBalance, legacyRewardedBalance, legacyClaimableBalance, legacyStatus\r\n      ] = await Promise.all([\r\n        getPoolTotalBonded(poolAddressStr),\r\n        getTokenBalance(ESD.addr, UNI.addr),\r\n        getTokenBalance(USDC.addr, UNI.addr),\r\n        getTokenBalance(UNI.addr, user),\r\n        getTokenBalance(USDC.addr, user),\r\n\r\n        getTokenAllowance(UNI.addr, user, poolAddressStr),\r\n        getTokenAllowance(USDC.addr, user, poolAddressStr),\r\n        getPoolBalanceOfStaged(poolAddressStr, user),\r\n        getPoolBalanceOfBonded(poolAddressStr, user),\r\n\r\n        getPoolBalanceOfRewarded(poolAddressStr, user),\r\n        getPoolBalanceOfClaimable(poolAddressStr, user),\r\n        getPoolStatusOf(poolAddressStr, user),\r\n        getPoolFluidUntil(poolAddressStr, user),\r\n\r\n        getPoolBalanceOfStaged(legacyPoolAddress, user),\r\n        getPoolBalanceOfBonded(legacyPoolAddress, user),\r\n        getPoolBalanceOfRewarded(legacyPoolAddress, user),\r\n        getPoolBalanceOfClaimable(legacyPoolAddress, user),\r\n        getPoolStatusOf(legacyPoolAddress, user)\r\n      ]);\r\n\r\n      const poolTotalBonded = toTokenUnitsBN(poolTotalBondedStr, ESD.decimals);\r\n      const pairESDBalance = toTokenUnitsBN(pairBalanceESDStr, ESD.decimals);\r\n      const pairUSDCBalance = toTokenUnitsBN(pairBalanceUSDCStr, USDC.decimals);\r\n      const userUNIBalance = toTokenUnitsBN(balance, UNI.decimals);\r\n      const userUSDCBalance = toTokenUnitsBN(usdcBalance, USDC.decimals);\r\n      const userStagedBalance = toTokenUnitsBN(stagedBalance, UNI.decimals);\r\n      const userBondedBalance = toTokenUnitsBN(bondedBalance, UNI.decimals);\r\n      const userRewardedBalance = toTokenUnitsBN(rewardedBalance, ESD.decimals);\r\n      const userClaimableBalance = toTokenUnitsBN(claimableBalance, ESD.decimals);\r\n      const userStatus = parseInt(status, 10);\r\n      const fluidUntil = parseInt(fluidUntilStr, 10);\r\n      const legacyUserStagedBalance = toTokenUnitsBN(legacyStagedBalance, UNI.decimals);\r\n      const legacyUserBondedBalance = toTokenUnitsBN(legacyBondedBalance, UNI.decimals);\r\n      const legacyUserRewardedBalance = toTokenUnitsBN(legacyRewardedBalance, UNI.decimals);\r\n      const legacyUserClaimableBalance = toTokenUnitsBN(legacyClaimableBalance, ESD.decimals);\r\n      const legacyUserStatus = parseInt(legacyStatus, 10);\r\n\r\n      if (!isCancelled) {\r\n        setPoolAddress(poolAddressStr);\r\n        setPoolTotalBonded(new BigNumber(poolTotalBonded));\r\n        setPairBalanceESD(new BigNumber(pairESDBalance));\r\n        setPairBalanceUSDC(new BigNumber(pairUSDCBalance));\r\n        setUserUNIBalance(new BigNumber(userUNIBalance));\r\n        setUserUNIAllowance(new BigNumber(allowance));\r\n        setUserUSDCAllowance(new BigNumber(usdcAllowance));\r\n        setUserUSDCBalance(new BigNumber(userUSDCBalance));\r\n        setUserStagedBalance(new BigNumber(userStagedBalance));\r\n        setUserBondedBalance(new BigNumber(userBondedBalance));\r\n        setUserRewardedBalance(new BigNumber(userRewardedBalance));\r\n        setUserClaimableBalance(new BigNumber(userClaimableBalance));\r\n        setUserStatus(userStatus);\r\n        setUserStatusUnlocked(fluidUntil);\r\n        setLegacyUserStagedBalance(new BigNumber(legacyUserStagedBalance));\r\n        setLegacyUserBondedBalance(new BigNumber(legacyUserBondedBalance));\r\n        setLegacyUserRewardedBalance(new BigNumber(legacyUserRewardedBalance));\r\n        setLegacyUserClaimableBalance(new BigNumber(legacyUserClaimableBalance));\r\n        setLegacyUserStatus(legacyUserStatus);\r\n        setLockup(poolAddressStr === DollarPool4 ? POOL_EXIT_LOCKUP_EPOCHS : 1);\r\n      }\r\n    }\r\n    updateUserInfo();\r\n    const id = setInterval(updateUserInfo, 15000);\r\n\r\n    // eslint-disable-next-line consistent-return\r\n    return () => {\r\n      isCancelled = true;\r\n      clearInterval(id);\r\n    };\r\n  }, [user]);\r\n  // Check for error in .call()\r\n  const isRewardedNegative = legacyUserRewardedBalance.isGreaterThan(new BigNumber(\"1000000000000000000\"));\r\n  const hasLegacyBalance = legacyUserStagedBalance.isGreaterThan(0) || legacyUserClaimableBalance.isGreaterThan(0) || legacyUserBondedBalance.isGreaterThan(0);\r\n  return (\r\n    <>\r\n      <IconHeader icon={<i className=\"fas fa-parachute-box\"/>} text=\"LP Reward Pool\"/>\r\n\r\n      {hasLegacyBalance ?\r\n        <>\r\n          <Header primary={\"Legacy Pool Migration\"}/>\r\n\r\n          <Migrate\r\n            legacyPoolAddress={getLegacyPoolAddress(poolAddress)}\r\n            isRewardNegative={isRewardedNegative}\r\n            staged={legacyUserStagedBalance}\r\n            claimable={legacyUserClaimableBalance}\r\n            bonded={legacyUserBondedBalance}\r\n            status={legacyUserStatus}\r\n          />\r\n        </>\r\n        : ''}\r\n\r\n      <PoolPageHeader\r\n        accountUNIBalance={userUNIBalance}\r\n        accountBondedBalance={userBondedBalance}\r\n        accountRewardedESDBalance={userRewardedBalance}\r\n        accountClaimableESDBalance={userClaimableBalance}\r\n        poolTotalBonded={poolTotalBonded}\r\n        accountPoolStatus={userStatus}\r\n        unlocked={userStatusUnlocked}\r\n      />\r\n\r\n      <WithdrawDeposit\r\n        poolAddress={poolAddress}\r\n        user={user}\r\n        balance={userUNIBalance}\r\n        allowance={userUNIAllowance}\r\n        stagedBalance={userStagedBalance}\r\n        status={userStatus}\r\n      />\r\n\r\n      <BondUnbond\r\n        poolAddress={poolAddress}\r\n        staged={userStagedBalance}\r\n        bonded={userBondedBalance}\r\n        status={userStatus}\r\n        lockup={lockup}\r\n      />\r\n\r\n      <Claim\r\n        poolAddress={poolAddress}\r\n        claimable={userClaimableBalance}\r\n        status={userStatus}\r\n      />\r\n\r\n      <Provide\r\n        poolAddress={poolAddress}\r\n        user={user}\r\n        rewarded={isRewardedNegative ? new BigNumber(0) : userRewardedBalance}\r\n        status={userStatus}\r\n        pairBalanceESD={pairBalanceESD}\r\n        pairBalanceUSDC={pairBalanceUSDC}\r\n        userUSDCBalance={userUSDCBalance}\r\n        userUSDCAllowance={userUSDCAllowance}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Pool;\r\n","import React from 'react';\r\nimport {\r\n  Box, LinkBase, Tag,\r\n} from '@aragon/ui';\r\n\r\nfunction HomePageNoWeb3() {\r\n\r\n  return (\r\n    <>\r\n      <div style={{ padding: '1%', display: 'flex', alignItems: 'center' }}>\r\n        <MainButton\r\n          title=\"No web3 wallet detected\"\r\n          description=\"Click to get Metamask.\"\r\n          icon={<i className=\"fas fa-times-circle\"/>}\r\n          onClick={() => {\r\n            // @ts-ignore\r\n            window.location = 'https://www.metamask.io/';\r\n          }}\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\ntype MainButtonPropx = {\r\n  title: string,\r\n  description: string,\r\n  icon: any,\r\n  onClick: Function,\r\n  tag?:string\r\n}\r\n\r\nfunction MainButton({\r\n  title, description, icon, onClick, tag,\r\n}:MainButtonPropx) {\r\n  return (\r\n    <LinkBase onClick={onClick} style={{ width: '100%' }}>\r\n      <Box>\r\n        <div style={{ padding: 10, fontSize: 18 }}>\r\n          {title}\r\n          {tag ? <Tag>{tag}</Tag> : <></>}\r\n        </div>\r\n        <span style={{ fontSize: 48 }}>\r\n          {icon}\r\n        </span>\r\n        {/*<img alt=\"icon\" style={{ padding: 10, height: 64 }} src={iconUrl} />*/}\r\n        <div style={{ paddingTop: 5, opacity: 0.5 }}>\r\n          {' '}\r\n          {description}\r\n          {' '}\r\n        </div>\r\n\r\n      </Box>\r\n    </LinkBase>\r\n  );\r\n}\r\n\r\nexport default HomePageNoWeb3;\r\n","import React, {useEffect, useState} from 'react';\r\n\r\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom';\r\nimport { Main, Layout } from '@aragon/ui';\r\nimport { UseWalletProvider } from 'use-wallet';\r\nimport { updateModalMode } from './utils/web3';\r\nimport { storePreference, getPreference } from './utils/storage';\r\nimport NavBar from './components/NavBar';\r\nimport HomePage from './components/HomePage';\r\nimport Trade from './components/Trade/index';\r\nimport Footer from './components/Footer';\r\nimport Wallet from \"./components/Wallet\";\r\nimport EpochDetail from \"./components/EpochDetail\";\r\nimport CouponMarket from \"./components/CouponMarket\";\r\nimport Governance from \"./components/Governance\";\r\nimport Candidate from \"./components/Candidate\";\r\nimport Regulation from \"./components/Regulation\";\r\nimport Pool from \"./components/Pool\";\r\nimport HomePageNoWeb3 from \"./components/HomePageNoWeb3\";\r\n\r\nfunction App() {\r\n  const storedTheme = getPreference('theme', 'light');\r\n\r\n  const [hasWeb3, setHasWeb3] = useState(false);\r\n  const [user, setUser] = useState(''); // the current connected user\r\n  const [theme, setTheme] = useState(storedTheme);\r\n\r\n  const updateTheme = (newTheme: string) => {\r\n    setTheme(newTheme);\r\n    updateModalMode(newTheme);\r\n    storePreference('theme', newTheme);\r\n  };\r\n\r\n  useEffect(() => {\r\n    let isCancelled = false;\r\n\r\n    async function updateUserInfo() {\r\n      if (!isCancelled) {\r\n        // @ts-ignore\r\n        setHasWeb3(typeof window.ethereum !== 'undefined');\r\n      }\r\n    }\r\n\r\n    updateUserInfo();\r\n    const id = setInterval(updateUserInfo, 15000);\r\n\r\n    // eslint-disable-next-line consistent-return\r\n    return () => {\r\n      isCancelled = true;\r\n      clearInterval(id);\r\n    };\r\n  }, [user]);\r\n\r\n  return (\r\n    <Router>\r\n      <UseWalletProvider\r\n        chainId={97}\r\n        connectors={{\r\n          walletconnect: { rpcUrl: 'https://mainnet.eth.aragon.network/' },\r\n          walletlink: {\r\n            url: 'https://mainnet.eth.aragon.network/',\r\n            appName:'Coinbase Wallet',\r\n            appLogoUrl: ''\r\n          }\r\n        }}\r\n      >\r\n        <Main assetsUrl={`${process.env.PUBLIC_URL}/aragon-ui/`} theme={theme} layout={false}>\r\n          <NavBar hasWeb3={hasWeb3} user={user} setUser={setUser} />\r\n          <Layout>\r\n          {\r\n            hasWeb3 ?\r\n              <Switch>\r\n                <Route path=\"/dao/:override\"><Wallet user={user}/></Route>\r\n                <Route path=\"/dao/\"><Wallet user={user}/></Route>\r\n                <Route path=\"/epoch/\"><EpochDetail user={user}/></Route>\r\n                <Route path=\"/coupons/:override\"><CouponMarket user={user}/></Route>\r\n                <Route path=\"/coupons/\"><CouponMarket user={user}/></Route>\r\n                <Route path=\"/governance/candidate/:candidate\"><Candidate user={user}/></Route>\r\n                <Route path=\"/governance/\"><Governance user={user}/></Route>\r\n                <Route path=\"/trade/\"><Trade user={user}/></Route>\r\n                <Route path=\"/regulation/\"><Regulation user={user}/></Route>\r\n                <Route path=\"/pool/:override\"><Pool user={user}/></Route>\r\n                <Route path=\"/pool/\"><Pool user={user}/></Route>\r\n                <Route path=\"/\"><HomePage user={user}/></Route>\r\n              </Switch>\r\n              :\r\n              <Switch>\r\n                <Route path=\"/\"><HomePageNoWeb3/></Route>\r\n              </Switch>\r\n          }\r\n          </Layout>\r\n          <div style={{height: '128px', width: '100%'}}/>\r\n          <Footer hasWeb3={hasWeb3} theme={theme} updateTheme={updateTheme}/>\r\n        </Main>\r\n      </UseWalletProvider>\r\n    </Router>\r\n  );\r\n}\r\n\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'react-widgets/dist/css/react-widgets.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nimport Moment from 'moment'\r\nimport momentLocalizer from 'react-widgets-moment';\r\n\r\nMoment.locale('en')\r\nmomentLocalizer()\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}